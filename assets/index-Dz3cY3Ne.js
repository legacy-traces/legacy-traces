(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const C of document.querySelectorAll('link[rel="modulepreload"]'))v(C);new MutationObserver(C=>{for(const w of C)if(w.type==="childList")for(const M of w.addedNodes)M.tagName==="LINK"&&M.rel==="modulepreload"&&v(M)}).observe(document,{childList:!0,subtree:!0});function y(C){const w={};return C.integrity&&(w.integrity=C.integrity),C.referrerPolicy&&(w.referrerPolicy=C.referrerPolicy),C.crossOrigin==="use-credentials"?w.credentials="include":C.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function v(C){if(C.ep)return;C.ep=!0;const w=y(C);fetch(C.href,w)}})();function Sg(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function Dv(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var s=u.default;if(typeof s=="function"){var y=function v(){var C=!1;try{C=this instanceof v}catch{}return C?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};y.prototype=s.prototype}else y={};return Object.defineProperty(y,"__esModule",{value:!0}),Object.keys(u).forEach(function(v){var C=Object.getOwnPropertyDescriptor(u,v);Object.defineProperty(y,v,C.get?C:{enumerable:!0,get:function(){return u[v]}})}),y}var fu={exports:{}},ur={};var qd;function jv(){if(qd)return ur;qd=1;var u=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function y(v,C,w){var M=null;if(w!==void 0&&(M=""+w),C.key!==void 0&&(M=""+C.key),"key"in C){w={};for(var p in C)p!=="key"&&(w[p]=C[p])}else w=C;return C=w.ref,{$$typeof:u,type:v,key:M,ref:C!==void 0?C:null,props:w}}return ur.Fragment=s,ur.jsx=y,ur.jsxs=y,ur}var Wd;function Lv(){return Wd||(Wd=1,fu.exports=jv()),fu.exports}var L=Lv(),hu={exports:{}},je={};var Qd;function kv(){if(Qd)return je;Qd=1;var u=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),M=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),n=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),a=Symbol.for("react.activity"),l=Symbol.iterator;function r(A){return A===null||typeof A!="object"?null:(A=l&&A[l]||A["@@iterator"],typeof A=="function"?A:null)}var c={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,o={};function m(A,B,X){this.props=A,this.context=B,this.refs=o,this.updater=X||c}m.prototype.isReactComponent={},m.prototype.setState=function(A,B){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,B,"setState")},m.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function b(){}b.prototype=m.prototype;function _(A,B,X){this.props=A,this.context=B,this.refs=o,this.updater=X||c}var T=_.prototype=new b;T.constructor=_,g(T,m.prototype),T.isPureReactComponent=!0;var E=Array.isArray;function D(){}var k={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function q(A,B,X){var P=X.ref;return{$$typeof:u,type:A,key:B,ref:P!==void 0?P:null,props:X}}function H(A,B){return q(A.type,B,A.props)}function V(A){return typeof A=="object"&&A!==null&&A.$$typeof===u}function ee(A){var B={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(X){return B[X]})}var ce=/\/+/g;function re(A,B){return typeof A=="object"&&A!==null&&A.key!=null?ee(""+A.key):B.toString(36)}function fe(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(D,D):(A.status="pending",A.then(function(B){A.status==="pending"&&(A.status="fulfilled",A.value=B)},function(B){A.status==="pending"&&(A.status="rejected",A.reason=B)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function I(A,B,X,P,z){var Y=typeof A;(Y==="undefined"||Y==="boolean")&&(A=null);var W=!1;if(A===null)W=!0;else switch(Y){case"bigint":case"string":case"number":W=!0;break;case"object":switch(A.$$typeof){case u:case s:W=!0;break;case d:return W=A._init,I(W(A._payload),B,X,P,z)}}if(W)return z=z(A),W=P===""?"."+re(A,0):P,E(z)?(X="",W!=null&&(X=W.replace(ce,"$&/")+"/"),I(z,B,X,"",function(ve){return ve})):z!=null&&(V(z)&&(z=H(z,X+(z.key==null||A&&A.key===z.key?"":(""+z.key).replace(ce,"$&/")+"/")+W)),B.push(z)),1;W=0;var le=P===""?".":P+":";if(E(A))for(var te=0;te<A.length;te++)P=A[te],Y=le+re(P,te),W+=I(P,B,X,Y,z);else if(te=r(A),typeof te=="function")for(A=te.call(A),te=0;!(P=A.next()).done;)P=P.value,Y=le+re(P,te++),W+=I(P,B,X,Y,z);else if(Y==="object"){if(typeof A.then=="function")return I(fe(A),B,X,P,z);throw B=String(A),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return W}function J(A,B,X){if(A==null)return A;var P=[],z=0;return I(A,P,"","",function(Y){return B.call(X,Y,z++)}),P}function K(A){if(A._status===-1){var B=A._result;B=B(),B.then(function(X){(A._status===0||A._status===-1)&&(A._status=1,A._result=X)},function(X){(A._status===0||A._status===-1)&&(A._status=2,A._result=X)}),A._status===-1&&(A._status=0,A._result=B)}if(A._status===1)return A._result.default;throw A._result}var j=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},F={map:J,forEach:function(A,B,X){J(A,function(){B.apply(this,arguments)},X)},count:function(A){var B=0;return J(A,function(){B++}),B},toArray:function(A){return J(A,function(B){return B})||[]},only:function(A){if(!V(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return je.Activity=a,je.Children=F,je.Component=m,je.Fragment=y,je.Profiler=C,je.PureComponent=_,je.StrictMode=v,je.Suspense=n,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,je.__COMPILER_RUNTIME={__proto__:null,c:function(A){return k.H.useMemoCache(A)}},je.cache=function(A){return function(){return A.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(A,B,X){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var P=g({},A.props),z=A.key;if(B!=null)for(Y in B.key!==void 0&&(z=""+B.key),B)!N.call(B,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&B.ref===void 0||(P[Y]=B[Y]);var Y=arguments.length-2;if(Y===1)P.children=X;else if(1<Y){for(var W=Array(Y),le=0;le<Y;le++)W[le]=arguments[le+2];P.children=W}return q(A.type,z,P)},je.createContext=function(A){return A={$$typeof:M,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:w,_context:A},A},je.createElement=function(A,B,X){var P,z={},Y=null;if(B!=null)for(P in B.key!==void 0&&(Y=""+B.key),B)N.call(B,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(z[P]=B[P]);var W=arguments.length-2;if(W===1)z.children=X;else if(1<W){for(var le=Array(W),te=0;te<W;te++)le[te]=arguments[te+2];z.children=le}if(A&&A.defaultProps)for(P in W=A.defaultProps,W)z[P]===void 0&&(z[P]=W[P]);return q(A,Y,z)},je.createRef=function(){return{current:null}},je.forwardRef=function(A){return{$$typeof:p,render:A}},je.isValidElement=V,je.lazy=function(A){return{$$typeof:d,_payload:{_status:-1,_result:A},_init:K}},je.memo=function(A,B){return{$$typeof:h,type:A,compare:B===void 0?null:B}},je.startTransition=function(A){var B=k.T,X={};k.T=X;try{var P=A(),z=k.S;z!==null&&z(X,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(D,j)}catch(Y){j(Y)}finally{B!==null&&X.types!==null&&(B.types=X.types),k.T=B}},je.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},je.use=function(A){return k.H.use(A)},je.useActionState=function(A,B,X){return k.H.useActionState(A,B,X)},je.useCallback=function(A,B){return k.H.useCallback(A,B)},je.useContext=function(A){return k.H.useContext(A)},je.useDebugValue=function(){},je.useDeferredValue=function(A,B){return k.H.useDeferredValue(A,B)},je.useEffect=function(A,B){return k.H.useEffect(A,B)},je.useEffectEvent=function(A){return k.H.useEffectEvent(A)},je.useId=function(){return k.H.useId()},je.useImperativeHandle=function(A,B,X){return k.H.useImperativeHandle(A,B,X)},je.useInsertionEffect=function(A,B){return k.H.useInsertionEffect(A,B)},je.useLayoutEffect=function(A,B){return k.H.useLayoutEffect(A,B)},je.useMemo=function(A,B){return k.H.useMemo(A,B)},je.useOptimistic=function(A,B){return k.H.useOptimistic(A,B)},je.useReducer=function(A,B,X){return k.H.useReducer(A,B,X)},je.useRef=function(A){return k.H.useRef(A)},je.useState=function(A){return k.H.useState(A)},je.useSyncExternalStore=function(A,B,X){return k.H.useSyncExternalStore(A,B,X)},je.useTransition=function(){return k.H.useTransition()},je.version="19.2.3",je}var Zd;function Nu(){return Zd||(Zd=1,hu.exports=kv()),hu.exports}var Q=Nu();const dt=Sg(Q);var du={exports:{}},cr={},gu={exports:{}},mu={};var Kd;function zv(){return Kd||(Kd=1,(function(u){function s(I,J){var K=I.length;I.push(J);e:for(;0<K;){var j=K-1>>>1,F=I[j];if(0<C(F,J))I[j]=J,I[K]=F,K=j;else break e}}function y(I){return I.length===0?null:I[0]}function v(I){if(I.length===0)return null;var J=I[0],K=I.pop();if(K!==J){I[0]=K;e:for(var j=0,F=I.length,A=F>>>1;j<A;){var B=2*(j+1)-1,X=I[B],P=B+1,z=I[P];if(0>C(X,K))P<F&&0>C(z,X)?(I[j]=z,I[P]=K,j=P):(I[j]=X,I[B]=K,j=B);else if(P<F&&0>C(z,K))I[j]=z,I[P]=K,j=P;else break e}}return J}function C(I,J){var K=I.sortIndex-J.sortIndex;return K!==0?K:I.id-J.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var w=performance;u.unstable_now=function(){return w.now()}}else{var M=Date,p=M.now();u.unstable_now=function(){return M.now()-p}}var n=[],h=[],d=1,a=null,l=3,r=!1,c=!1,g=!1,o=!1,m=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function T(I){for(var J=y(h);J!==null;){if(J.callback===null)v(h);else if(J.startTime<=I)v(h),J.sortIndex=J.expirationTime,s(n,J);else break;J=y(h)}}function E(I){if(g=!1,T(I),!c)if(y(n)!==null)c=!0,D||(D=!0,ee());else{var J=y(h);J!==null&&fe(E,J.startTime-I)}}var D=!1,k=-1,N=5,q=-1;function H(){return o?!0:!(u.unstable_now()-q<N)}function V(){if(o=!1,D){var I=u.unstable_now();q=I;var J=!0;try{e:{c=!1,g&&(g=!1,b(k),k=-1),r=!0;var K=l;try{t:{for(T(I),a=y(n);a!==null&&!(a.expirationTime>I&&H());){var j=a.callback;if(typeof j=="function"){a.callback=null,l=a.priorityLevel;var F=j(a.expirationTime<=I);if(I=u.unstable_now(),typeof F=="function"){a.callback=F,T(I),J=!0;break t}a===y(n)&&v(n),T(I)}else v(n);a=y(n)}if(a!==null)J=!0;else{var A=y(h);A!==null&&fe(E,A.startTime-I),J=!1}}break e}finally{a=null,l=K,r=!1}J=void 0}}finally{J?ee():D=!1}}}var ee;if(typeof _=="function")ee=function(){_(V)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,re=ce.port2;ce.port1.onmessage=V,ee=function(){re.postMessage(null)}}else ee=function(){m(V,0)};function fe(I,J){k=m(function(){I(u.unstable_now())},J)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(I){I.callback=null},u.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<I?Math.floor(1e3/I):5},u.unstable_getCurrentPriorityLevel=function(){return l},u.unstable_next=function(I){switch(l){case 1:case 2:case 3:var J=3;break;default:J=l}var K=l;l=J;try{return I()}finally{l=K}},u.unstable_requestPaint=function(){o=!0},u.unstable_runWithPriority=function(I,J){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var K=l;l=I;try{return J()}finally{l=K}},u.unstable_scheduleCallback=function(I,J,K){var j=u.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?j+K:j):K=j,I){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=K+F,I={id:d++,callback:J,priorityLevel:I,startTime:K,expirationTime:F,sortIndex:-1},K>j?(I.sortIndex=K,s(h,I),y(n)===null&&I===y(h)&&(g?(b(k),k=-1):g=!0,fe(E,K-j))):(I.sortIndex=F,s(n,I),c||r||(c=!0,D||(D=!0,ee()))),I},u.unstable_shouldYield=H,u.unstable_wrapCallback=function(I){var J=l;return function(){var K=l;l=J;try{return I.apply(this,arguments)}finally{l=K}}}})(mu)),mu}var Jd;function Rv(){return Jd||(Jd=1,gu.exports=zv()),gu.exports}var pu={exports:{}},Tt={};var $d;function Nv(){if($d)return Tt;$d=1;var u=Nu();function s(n){var h="https://react.dev/errors/"+n;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)h+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+n+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function y(){}var v={d:{f:y,r:function(){throw Error(s(522))},D:y,C:y,L:y,m:y,X:y,S:y,M:y},p:0,findDOMNode:null},C=Symbol.for("react.portal");function w(n,h,d){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:a==null?null:""+a,children:n,containerInfo:h,implementation:d}}var M=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(n,h){if(n==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=v,Tt.createPortal=function(n,h){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(s(299));return w(n,h,null,d)},Tt.flushSync=function(n){var h=M.T,d=v.p;try{if(M.T=null,v.p=2,n)return n()}finally{M.T=h,v.p=d,v.d.f()}},Tt.preconnect=function(n,h){typeof n=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,v.d.C(n,h))},Tt.prefetchDNS=function(n){typeof n=="string"&&v.d.D(n)},Tt.preinit=function(n,h){if(typeof n=="string"&&h&&typeof h.as=="string"){var d=h.as,a=p(d,h.crossOrigin),l=typeof h.integrity=="string"?h.integrity:void 0,r=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;d==="style"?v.d.S(n,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:a,integrity:l,fetchPriority:r}):d==="script"&&v.d.X(n,{crossOrigin:a,integrity:l,fetchPriority:r,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Tt.preinitModule=function(n,h){if(typeof n=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var d=p(h.as,h.crossOrigin);v.d.M(n,{crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&v.d.M(n)},Tt.preload=function(n,h){if(typeof n=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var d=h.as,a=p(d,h.crossOrigin);v.d.L(n,d,{crossOrigin:a,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Tt.preloadModule=function(n,h){if(typeof n=="string")if(h){var d=p(h.as,h.crossOrigin);v.d.m(n,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else v.d.m(n)},Tt.requestFormReset=function(n){v.d.r(n)},Tt.unstable_batchedUpdates=function(n,h){return n(h)},Tt.useFormState=function(n,h,d){return M.H.useFormState(n,h,d)},Tt.useFormStatus=function(){return M.H.useHostTransitionStatus()},Tt.version="19.2.3",Tt}var eg;function Bv(){if(eg)return pu.exports;eg=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(s){console.error(s)}}return u(),pu.exports=Nv(),pu.exports}var tg;function Pv(){if(tg)return cr;tg=1;var u=Rv(),s=Nu(),y=Bv();function v(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function C(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function w(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function M(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function n(e){if(w(e)!==e)throw Error(v(188))}function h(e){var t=e.alternate;if(!t){if(t=w(e),t===null)throw Error(v(188));return t!==e?null:e}for(var i=e,f=t;;){var S=i.return;if(S===null)break;var x=S.alternate;if(x===null){if(f=S.return,f!==null){i=f;continue}break}if(S.child===x.child){for(x=S.child;x;){if(x===i)return n(S),e;if(x===f)return n(S),t;x=x.sibling}throw Error(v(188))}if(i.return!==f.return)i=S,f=x;else{for(var O=!1,R=S.child;R;){if(R===i){O=!0,i=S,f=x;break}if(R===f){O=!0,f=S,i=x;break}R=R.sibling}if(!O){for(R=x.child;R;){if(R===i){O=!0,i=x,f=S;break}if(R===f){O=!0,f=x,i=S;break}R=R.sibling}if(!O)throw Error(v(189))}}if(i.alternate!==f)throw Error(v(190))}if(i.tag!==3)throw Error(v(188));return i.stateNode.current===i?e:t}function d(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=d(e),t!==null)return t;e=e.sibling}return null}var a=Object.assign,l=Symbol.for("react.element"),r=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),_=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ce?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case m:return"Profiler";case o:return"StrictMode";case E:return"Suspense";case D:return"SuspenseList";case q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case c:return"Portal";case _:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case T:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return t=e.displayName||null,t!==null?t:re(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return re(e(t))}catch{}}return null}var fe=Array.isArray,I=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=y.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},j=[],F=-1;function A(e){return{current:e}}function B(e){0>F||(e.current=j[F],j[F]=null,F--)}function X(e,t){F++,j[F]=e.current,e.current=t}var P=A(null),z=A(null),Y=A(null),W=A(null);function le(e,t){switch(X(Y,t),X(z,e),X(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?pd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=pd(t),e=vd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(P),X(P,e)}function te(){B(P),B(z),B(Y)}function ve(e){e.memoizedState!==null&&X(W,e);var t=P.current,i=vd(t,e.type);t!==i&&(X(z,e),X(P,i))}function Se(e){z.current===e&&(B(P),B(z)),W.current===e&&(B(W),rr._currentValue=K)}var xe,oe;function $(e){if(xe===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);xe=t&&t[1]||"",oe=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+e+oe}var de=!1;function pe(e,t){if(!e||de)return"";de=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(t){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(se){var ae=se}Reflect.construct(e,[],ye)}else{try{ye.call()}catch(se){ae=se}e.call(ye.prototype)}}else{try{throw Error()}catch(se){ae=se}(ye=e())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(se){if(se&&ae&&typeof se.stack=="string")return[se.stack,ae.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=f.DetermineComponentFrameRoot(),O=x[0],R=x[1];if(O&&R){var U=O.split(`
`),ne=R.split(`
`);for(S=f=0;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;for(;S<ne.length&&!ne[S].includes("DetermineComponentFrameRoot");)S++;if(f===U.length||S===ne.length)for(f=U.length-1,S=ne.length-1;1<=f&&0<=S&&U[f]!==ne[S];)S--;for(;1<=f&&0<=S;f--,S--)if(U[f]!==ne[S]){if(f!==1||S!==1)do if(f--,S--,0>S||U[f]!==ne[S]){var he=`
`+U[f].replace(" at new "," at ");return e.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",e.displayName)),he}while(1<=f&&0<=S);break}}}finally{de=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?$(i):""}function ue(e,t){switch(e.tag){case 26:case 27:case 5:return $(e.type);case 16:return $("Lazy");case 13:return e.child!==t&&t!==null?$("Suspense Fallback"):$("Suspense");case 19:return $("SuspenseList");case 0:case 15:return pe(e.type,!1);case 11:return pe(e.type.render,!1);case 1:return pe(e.type,!0);case 31:return $("Activity");default:return""}}function be(e){try{var t="",i=null;do t+=ue(e,i),i=e,e=e.return;while(e);return t}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var _e=Object.prototype.hasOwnProperty,De=u.unstable_scheduleCallback,Te=u.unstable_cancelCallback,ge=u.unstable_shouldYield,Ee=u.unstable_requestPaint,Oe=u.unstable_now,Ne=u.unstable_getCurrentPriorityLevel,Qe=u.unstable_ImmediatePriority,He=u.unstable_UserBlockingPriority,ot=u.unstable_NormalPriority,nt=u.unstable_LowPriority,ri=u.unstable_IdlePriority,ln=u.log,Xt=u.unstable_setDisableYieldValue,on=null,Ct=null;function si(e){if(typeof ln=="function"&&Xt(e),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(on,e)}catch{}}var wt=Math.clz32?Math.clz32:pm,gm=Math.log,mm=Math.LN2;function pm(e){return e>>>=0,e===0?32:31-(gm(e)/mm|0)|0}var br=256,Sr=262144,xr=4194304;function un(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _r(e,t,i){var f=e.pendingLanes;if(f===0)return 0;var S=0,x=e.suspendedLanes,O=e.pingedLanes;e=e.warmLanes;var R=f&134217727;return R!==0?(f=R&~x,f!==0?S=un(f):(O&=R,O!==0?S=un(O):i||(i=R&~e,i!==0&&(S=un(i))))):(R=f&~x,R!==0?S=un(R):O!==0?S=un(O):i||(i=f&~e,i!==0&&(S=un(i)))),S===0?0:t!==0&&t!==S&&(t&x)===0&&(x=S&-S,i=t&-t,x>=i||x===32&&(i&4194048)!==0)?t:S}function ya(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function vm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zu(){var e=xr;return xr<<=1,(xr&62914560)===0&&(xr=4194304),e}function Js(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function ba(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ym(e,t,i,f,S,x){var O=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var R=e.entanglements,U=e.expirationTimes,ne=e.hiddenUpdates;for(i=O&~i;0<i;){var he=31-wt(i),ye=1<<he;R[he]=0,U[he]=-1;var ae=ne[he];if(ae!==null)for(ne[he]=null,he=0;he<ae.length;he++){var se=ae[he];se!==null&&(se.lane&=-536870913)}i&=~ye}f!==0&&Ku(e,f,0),x!==0&&S===0&&e.tag!==0&&(e.suspendedLanes|=x&~(O&~t))}function Ku(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var f=31-wt(t);e.entangledLanes|=t,e.entanglements[f]=e.entanglements[f]|1073741824|i&261930}function Ju(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var f=31-wt(i),S=1<<f;S&t|e[f]&t&&(e[f]|=t),i&=~S}}function $u(e,t){var i=t&-t;return i=(i&42)!==0?1:$s(i),(i&(e.suspendedLanes|t))!==0?0:i}function $s(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function el(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ec(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Hd(e.type))}function tc(e,t){var i=J.p;try{return J.p=e,t()}finally{J.p=i}}var Ri=Math.random().toString(36).slice(2),yt="__reactFiber$"+Ri,Mt="__reactProps$"+Ri,Dn="__reactContainer$"+Ri,tl="__reactEvents$"+Ri,bm="__reactListeners$"+Ri,Sm="__reactHandles$"+Ri,ic="__reactResources$"+Ri,Sa="__reactMarker$"+Ri;function il(e){delete e[yt],delete e[Mt],delete e[tl],delete e[bm],delete e[Sm]}function jn(e){var t=e[yt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Dn]||i[yt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Td(e);e!==null;){if(i=e[yt])return i;e=Td(e)}return t}e=i,i=e.parentNode}return null}function Ln(e){if(e=e[yt]||e[Dn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function xa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(v(33))}function kn(e){var t=e[ic];return t||(t=e[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function mt(e){e[Sa]=!0}var nc=new Set,ac={};function cn(e,t){zn(e,t),zn(e+"Capture",t)}function zn(e,t){for(ac[e]=t,e=0;e<t.length;e++)nc.add(t[e])}var xm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rc={},sc={};function _m(e){return _e.call(sc,e)?!0:_e.call(rc,e)?!1:xm.test(e)?sc[e]=!0:(rc[e]=!0,!1)}function Cr(e,t,i){if(_m(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var f=t.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Tr(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function gi(e,t,i,f){if(f===null)e.removeAttribute(i);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+f)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Cm(e,t,i){var f=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var S=f.get,x=f.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return S.call(this)},set:function(O){i=""+O,x.call(this,O)}}),Object.defineProperty(e,t,{enumerable:f.enumerable}),{getValue:function(){return i},setValue:function(O){i=""+O},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function nl(e){if(!e._valueTracker){var t=lc(e)?"checked":"value";e._valueTracker=Cm(e,t,""+e[t])}}function oc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),f="";return e&&(f=lc(e)?e.checked?"true":"false":e.value),e=f,e!==i?(t.setValue(e),!0):!1}function wr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Tm=/[\n"\\]/g;function Vt(e){return e.replace(Tm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function al(e,t,i,f,S,x,O,R){e.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?e.type=O:e.removeAttribute("type"),t!=null?O==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Gt(t)):e.value!==""+Gt(t)&&(e.value=""+Gt(t)):O!=="submit"&&O!=="reset"||e.removeAttribute("value"),t!=null?rl(e,O,Gt(t)):i!=null?rl(e,O,Gt(i)):f!=null&&e.removeAttribute("value"),S==null&&x!=null&&(e.defaultChecked=!!x),S!=null&&(e.checked=S&&typeof S!="function"&&typeof S!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.name=""+Gt(R):e.removeAttribute("name")}function uc(e,t,i,f,S,x,O,R){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.type=x),t!=null||i!=null){if(!(x!=="submit"&&x!=="reset"||t!=null)){nl(e);return}i=i!=null?""+Gt(i):"",t=t!=null?""+Gt(t):i,R||t===e.value||(e.value=t),e.defaultValue=t}f=f??S,f=typeof f!="function"&&typeof f!="symbol"&&!!f,e.checked=R?e.checked:!!f,e.defaultChecked=!!f,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(e.name=O),nl(e)}function rl(e,t,i){t==="number"&&wr(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Rn(e,t,i,f){if(e=e.options,t){t={};for(var S=0;S<i.length;S++)t["$"+i[S]]=!0;for(i=0;i<e.length;i++)S=t.hasOwnProperty("$"+e[i].value),e[i].selected!==S&&(e[i].selected=S),S&&f&&(e[i].defaultSelected=!0)}else{for(i=""+Gt(i),t=null,S=0;S<e.length;S++){if(e[S].value===i){e[S].selected=!0,f&&(e[S].defaultSelected=!0);return}t!==null||e[S].disabled||(t=e[S])}t!==null&&(t.selected=!0)}}function cc(e,t,i){if(t!=null&&(t=""+Gt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Gt(i):""}function fc(e,t,i,f){if(t==null){if(f!=null){if(i!=null)throw Error(v(92));if(fe(f)){if(1<f.length)throw Error(v(93));f=f[0]}i=f}i==null&&(i=""),t=i}i=Gt(t),e.defaultValue=i,f=e.textContent,f===i&&f!==""&&f!==null&&(e.value=f),nl(e)}function Nn(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var wm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hc(e,t,i){var f=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?f?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":f?e.setProperty(t,i):typeof i!="number"||i===0||wm.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function dc(e,t,i){if(t!=null&&typeof t!="object")throw Error(v(62));if(e=e.style,i!=null){for(var f in i)!i.hasOwnProperty(f)||t!=null&&t.hasOwnProperty(f)||(f.indexOf("--")===0?e.setProperty(f,""):f==="float"?e.cssFloat="":e[f]="");for(var S in t)f=t[S],t.hasOwnProperty(S)&&i[S]!==f&&hc(e,S,f)}else for(var x in t)t.hasOwnProperty(x)&&hc(e,x,t[x])}function sl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Em=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Om=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Er(e){return Om.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function mi(){}var ll=null;function ol(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bn=null,Pn=null;function gc(e){var t=Ln(e);if(t&&(e=t.stateNode)){var i=e[Mt]||null;e:switch(e=t.stateNode,t.type){case"input":if(al(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Vt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var f=i[t];if(f!==e&&f.form===e.form){var S=f[Mt]||null;if(!S)throw Error(v(90));al(f,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(t=0;t<i.length;t++)f=i[t],f.form===e.form&&oc(f)}break e;case"textarea":cc(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Rn(e,!!i.multiple,t,!1)}}}var ul=!1;function mc(e,t,i){if(ul)return e(t,i);ul=!0;try{var f=e(t);return f}finally{if(ul=!1,(Bn!==null||Pn!==null)&&(ds(),Bn&&(t=Bn,e=Pn,Pn=Bn=null,gc(t),e)))for(t=0;t<e.length;t++)gc(e[t])}}function _a(e,t){var i=e.stateNode;if(i===null)return null;var f=i[Mt]||null;if(f===null)return null;i=f[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(e=e.type,f=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!f;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(v(231,t,typeof i));return i}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cl=!1;if(pi)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){cl=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{cl=!1}var Ni=null,fl=null,Or=null;function pc(){if(Or)return Or;var e,t=fl,i=t.length,f,S="value"in Ni?Ni.value:Ni.textContent,x=S.length;for(e=0;e<i&&t[e]===S[e];e++);var O=i-e;for(f=1;f<=O&&t[i-f]===S[x-f];f++);return Or=S.slice(e,1<f?1-f:void 0)}function Mr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ar(){return!0}function vc(){return!1}function At(e){function t(i,f,S,x,O){this._reactName=i,this._targetInst=S,this.type=f,this.nativeEvent=x,this.target=O,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(i=e[R],this[R]=i?i(x):x[R]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ar:vc,this.isPropagationStopped=vc,this}return a(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),t}var fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dr=At(fn),Ta=a({},fn,{view:0,detail:0}),Mm=At(Ta),hl,dl,wa,jr=a({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ml,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wa&&(wa&&e.type==="mousemove"?(hl=e.screenX-wa.screenX,dl=e.screenY-wa.screenY):dl=hl=0,wa=e),hl)},movementY:function(e){return"movementY"in e?e.movementY:dl}}),yc=At(jr),Am=a({},jr,{dataTransfer:0}),Dm=At(Am),jm=a({},Ta,{relatedTarget:0}),gl=At(jm),Lm=a({},fn,{animationName:0,elapsedTime:0,pseudoElement:0}),km=At(Lm),zm=a({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rm=At(zm),Nm=a({},fn,{data:0}),bc=At(Nm),Bm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fm[e])?!!t[e]:!1}function ml(){return Hm}var Um=a({},Ta,{key:function(e){if(e.key){var t=Bm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ml,charCode:function(e){return e.type==="keypress"?Mr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ym=At(Um),Xm=a({},jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sc=At(Xm),Gm=a({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ml}),Vm=At(Gm),Im=a({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qm=At(Im),Wm=a({},jr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qm=At(Wm),Zm=a({},fn,{newState:0,oldState:0}),Km=At(Zm),Jm=[9,13,27,32],pl=pi&&"CompositionEvent"in window,Ea=null;pi&&"documentMode"in document&&(Ea=document.documentMode);var $m=pi&&"TextEvent"in window&&!Ea,xc=pi&&(!pl||Ea&&8<Ea&&11>=Ea),_c=" ",Cc=!1;function Tc(e,t){switch(e){case"keyup":return Jm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fn=!1;function ep(e,t){switch(e){case"compositionend":return wc(t);case"keypress":return t.which!==32?null:(Cc=!0,_c);case"textInput":return e=t.data,e===_c&&Cc?null:e;default:return null}}function tp(e,t){if(Fn)return e==="compositionend"||!pl&&Tc(e,t)?(e=pc(),Or=fl=Ni=null,Fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xc&&t.locale!=="ko"?null:t.data;default:return null}}var ip={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ec(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ip[e.type]:t==="textarea"}function Oc(e,t,i,f){Bn?Pn?Pn.push(f):Pn=[f]:Bn=f,t=Ss(t,"onChange"),0<t.length&&(i=new Dr("onChange","change",null,i,f),e.push({event:i,listeners:t}))}var Oa=null,Ma=null;function np(e){cd(e,0)}function Lr(e){var t=xa(e);if(oc(t))return e}function Mc(e,t){if(e==="change")return t}var Ac=!1;if(pi){var vl;if(pi){var yl="oninput"in document;if(!yl){var Dc=document.createElement("div");Dc.setAttribute("oninput","return;"),yl=typeof Dc.oninput=="function"}vl=yl}else vl=!1;Ac=vl&&(!document.documentMode||9<document.documentMode)}function jc(){Oa&&(Oa.detachEvent("onpropertychange",Lc),Ma=Oa=null)}function Lc(e){if(e.propertyName==="value"&&Lr(Ma)){var t=[];Oc(t,Ma,e,ol(e)),mc(np,t)}}function ap(e,t,i){e==="focusin"?(jc(),Oa=t,Ma=i,Oa.attachEvent("onpropertychange",Lc)):e==="focusout"&&jc()}function rp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lr(Ma)}function sp(e,t){if(e==="click")return Lr(t)}function lp(e,t){if(e==="input"||e==="change")return Lr(t)}function op(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:op;function Aa(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),f=Object.keys(t);if(i.length!==f.length)return!1;for(f=0;f<i.length;f++){var S=i[f];if(!_e.call(t,S)||!Rt(e[S],t[S]))return!1}return!0}function kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zc(e,t){var i=kc(e);e=0;for(var f;i;){if(i.nodeType===3){if(f=e+i.textContent.length,e<=t&&f>=t)return{node:i,offset:t-e};e=f}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=kc(i)}}function Rc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=wr(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=wr(e.document)}return t}function bl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var up=pi&&"documentMode"in document&&11>=document.documentMode,Hn=null,Sl=null,Da=null,xl=!1;function Bc(e,t,i){var f=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;xl||Hn==null||Hn!==wr(f)||(f=Hn,"selectionStart"in f&&bl(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Da&&Aa(Da,f)||(Da=f,f=Ss(Sl,"onSelect"),0<f.length&&(t=new Dr("onSelect","select",null,t,i),e.push({event:t,listeners:f}),t.target=Hn)))}function hn(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Un={animationend:hn("Animation","AnimationEnd"),animationiteration:hn("Animation","AnimationIteration"),animationstart:hn("Animation","AnimationStart"),transitionrun:hn("Transition","TransitionRun"),transitionstart:hn("Transition","TransitionStart"),transitioncancel:hn("Transition","TransitionCancel"),transitionend:hn("Transition","TransitionEnd")},_l={},Pc={};pi&&(Pc=document.createElement("div").style,"AnimationEvent"in window||(delete Un.animationend.animation,delete Un.animationiteration.animation,delete Un.animationstart.animation),"TransitionEvent"in window||delete Un.transitionend.transition);function dn(e){if(_l[e])return _l[e];if(!Un[e])return e;var t=Un[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Pc)return _l[e]=t[i];return e}var Fc=dn("animationend"),Hc=dn("animationiteration"),Uc=dn("animationstart"),cp=dn("transitionrun"),fp=dn("transitionstart"),hp=dn("transitioncancel"),Yc=dn("transitionend"),Xc=new Map,Cl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cl.push("scrollEnd");function ti(e,t){Xc.set(e,t),cn(t,[e])}var kr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},It=[],Yn=0,Tl=0;function zr(){for(var e=Yn,t=Tl=Yn=0;t<e;){var i=It[t];It[t++]=null;var f=It[t];It[t++]=null;var S=It[t];It[t++]=null;var x=It[t];if(It[t++]=null,f!==null&&S!==null){var O=f.pending;O===null?S.next=S:(S.next=O.next,O.next=S),f.pending=S}x!==0&&Gc(i,S,x)}}function Rr(e,t,i,f){It[Yn++]=e,It[Yn++]=t,It[Yn++]=i,It[Yn++]=f,Tl|=f,e.lanes|=f,e=e.alternate,e!==null&&(e.lanes|=f)}function wl(e,t,i,f){return Rr(e,t,i,f),Nr(e)}function gn(e,t){return Rr(e,null,null,t),Nr(e)}function Gc(e,t,i){e.lanes|=i;var f=e.alternate;f!==null&&(f.lanes|=i);for(var S=!1,x=e.return;x!==null;)x.childLanes|=i,f=x.alternate,f!==null&&(f.childLanes|=i),x.tag===22&&(e=x.stateNode,e===null||e._visibility&1||(S=!0)),e=x,x=x.return;return e.tag===3?(x=e.stateNode,S&&t!==null&&(S=31-wt(i),e=x.hiddenUpdates,f=e[S],f===null?e[S]=[t]:f.push(t),t.lane=i|536870912),x):null}function Nr(e){if(50<Ja)throw Ja=0,Ro=null,Error(v(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Xn={};function dp(e,t,i,f){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,i,f){return new dp(e,t,i,f)}function El(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vi(e,t){var i=e.alternate;return i===null?(i=Nt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Vc(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,i,f,S,x){var O=0;if(f=e,typeof e=="function")El(e)&&(O=1);else if(typeof e=="string")O=yv(e,i,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case q:return e=Nt(31,i,t,S),e.elementType=q,e.lanes=x,e;case g:return mn(i.children,S,x,t);case o:O=8,S|=24;break;case m:return e=Nt(12,i,t,S|2),e.elementType=m,e.lanes=x,e;case E:return e=Nt(13,i,t,S),e.elementType=E,e.lanes=x,e;case D:return e=Nt(19,i,t,S),e.elementType=D,e.lanes=x,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _:O=10;break e;case b:O=9;break e;case T:O=11;break e;case k:O=14;break e;case N:O=16,f=null;break e}O=29,i=Error(v(130,e===null?"null":typeof e,"")),f=null}return t=Nt(O,i,t,S),t.elementType=e,t.type=f,t.lanes=x,t}function mn(e,t,i,f){return e=Nt(7,e,f,t),e.lanes=i,e}function Ol(e,t,i){return e=Nt(6,e,null,t),e.lanes=i,e}function Ic(e){var t=Nt(18,null,null,0);return t.stateNode=e,t}function Ml(e,t,i){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qc=new WeakMap;function qt(e,t){if(typeof e=="object"&&e!==null){var i=qc.get(e);return i!==void 0?i:(t={value:e,source:t,stack:be(t)},qc.set(e,t),t)}return{value:e,source:t,stack:be(t)}}var Gn=[],Vn=0,Pr=null,ja=0,Wt=[],Qt=0,Bi=null,li=1,oi="";function yi(e,t){Gn[Vn++]=ja,Gn[Vn++]=Pr,Pr=e,ja=t}function Wc(e,t,i){Wt[Qt++]=li,Wt[Qt++]=oi,Wt[Qt++]=Bi,Bi=e;var f=li;e=oi;var S=32-wt(f)-1;f&=~(1<<S),i+=1;var x=32-wt(t)+S;if(30<x){var O=S-S%5;x=(f&(1<<O)-1).toString(32),f>>=O,S-=O,li=1<<32-wt(t)+S|i<<S|f,oi=x+e}else li=1<<x|i<<S|f,oi=e}function Al(e){e.return!==null&&(yi(e,1),Wc(e,1,0))}function Dl(e){for(;e===Pr;)Pr=Gn[--Vn],Gn[Vn]=null,ja=Gn[--Vn],Gn[Vn]=null;for(;e===Bi;)Bi=Wt[--Qt],Wt[Qt]=null,oi=Wt[--Qt],Wt[Qt]=null,li=Wt[--Qt],Wt[Qt]=null}function Qc(e,t){Wt[Qt++]=li,Wt[Qt++]=oi,Wt[Qt++]=Bi,li=t.id,oi=t.overflow,Bi=e}var bt=null,Ke=null,Fe=!1,Pi=null,Zt=!1,jl=Error(v(519));function Fi(e){var t=Error(v(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw La(qt(t,e)),jl}function Zc(e){var t=e.stateNode,i=e.type,f=e.memoizedProps;switch(t[yt]=e,t[Mt]=f,i){case"dialog":Re("cancel",t),Re("close",t);break;case"iframe":case"object":case"embed":Re("load",t);break;case"video":case"audio":for(i=0;i<er.length;i++)Re(er[i],t);break;case"source":Re("error",t);break;case"img":case"image":case"link":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"input":Re("invalid",t),uc(t,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Re("invalid",t);break;case"textarea":Re("invalid",t),fc(t,f.value,f.defaultValue,f.children)}i=f.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||f.suppressHydrationWarning===!0||gd(t.textContent,i)?(f.popover!=null&&(Re("beforetoggle",t),Re("toggle",t)),f.onScroll!=null&&Re("scroll",t),f.onScrollEnd!=null&&Re("scrollend",t),f.onClick!=null&&(t.onclick=mi),t=!0):t=!1,t||Fi(e,!0)}function Kc(e){for(bt=e.return;bt;)switch(bt.tag){case 5:case 31:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:bt=bt.return}}function In(e){if(e!==bt)return!1;if(!Fe)return Kc(e),Fe=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Zo(e.type,e.memoizedProps)),i=!i),i&&Ke&&Fi(e),Kc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(v(317));Ke=Cd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(v(317));Ke=Cd(e)}else t===27?(t=Ke,$i(e.type)?(e=tu,tu=null,Ke=e):Ke=t):Ke=bt?Jt(e.stateNode.nextSibling):null;return!0}function pn(){Ke=bt=null,Fe=!1}function Ll(){var e=Pi;return e!==null&&(kt===null?kt=e:kt.push.apply(kt,e),Pi=null),e}function La(e){Pi===null?Pi=[e]:Pi.push(e)}var kl=A(null),vn=null,bi=null;function Hi(e,t,i){X(kl,t._currentValue),t._currentValue=i}function Si(e){e._currentValue=kl.current,B(kl)}function zl(e,t,i){for(;e!==null;){var f=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,f!==null&&(f.childLanes|=t)):f!==null&&(f.childLanes&t)!==t&&(f.childLanes|=t),e===i)break;e=e.return}}function Rl(e,t,i,f){var S=e.child;for(S!==null&&(S.return=e);S!==null;){var x=S.dependencies;if(x!==null){var O=S.child;x=x.firstContext;e:for(;x!==null;){var R=x;x=S;for(var U=0;U<t.length;U++)if(R.context===t[U]){x.lanes|=i,R=x.alternate,R!==null&&(R.lanes|=i),zl(x.return,i,e),f||(O=null);break e}x=R.next}}else if(S.tag===18){if(O=S.return,O===null)throw Error(v(341));O.lanes|=i,x=O.alternate,x!==null&&(x.lanes|=i),zl(O,i,e),O=null}else O=S.child;if(O!==null)O.return=S;else for(O=S;O!==null;){if(O===e){O=null;break}if(S=O.sibling,S!==null){S.return=O.return,O=S;break}O=O.return}S=O}}function qn(e,t,i,f){e=null;for(var S=t,x=!1;S!==null;){if(!x){if((S.flags&524288)!==0)x=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var O=S.alternate;if(O===null)throw Error(v(387));if(O=O.memoizedProps,O!==null){var R=S.type;Rt(S.pendingProps.value,O.value)||(e!==null?e.push(R):e=[R])}}else if(S===W.current){if(O=S.alternate,O===null)throw Error(v(387));O.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(e!==null?e.push(rr):e=[rr])}S=S.return}e!==null&&Rl(t,e,i,f),t.flags|=262144}function Fr(e){for(e=e.firstContext;e!==null;){if(!Rt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function yn(e){vn=e,bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function St(e){return Jc(vn,e)}function Hr(e,t){return vn===null&&yn(e),Jc(e,t)}function Jc(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},bi===null){if(e===null)throw Error(v(308));bi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bi=bi.next=t;return i}var gp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,f){e.push(f)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},mp=u.unstable_scheduleCallback,pp=u.unstable_NormalPriority,ut={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nl(){return{controller:new gp,data:new Map,refCount:0}}function ka(e){e.refCount--,e.refCount===0&&mp(pp,function(){e.controller.abort()})}var za=null,Bl=0,Wn=0,Qn=null;function vp(e,t){if(za===null){var i=za=[];Bl=0,Wn=Uo(),Qn={status:"pending",value:void 0,then:function(f){i.push(f)}}}return Bl++,t.then($c,$c),t}function $c(){if(--Bl===0&&za!==null){Qn!==null&&(Qn.status="fulfilled");var e=za;za=null,Wn=0,Qn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function yp(e,t){var i=[],f={status:"pending",value:null,reason:null,then:function(S){i.push(S)}};return e.then(function(){f.status="fulfilled",f.value=t;for(var S=0;S<i.length;S++)(0,i[S])(t)},function(S){for(f.status="rejected",f.reason=S,S=0;S<i.length;S++)(0,i[S])(void 0)}),f}var ef=I.S;I.S=function(e,t){Ph=Oe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&vp(e,t),ef!==null&&ef(e,t)};var bn=A(null);function Pl(){var e=bn.current;return e!==null?e:Ze.pooledCache}function Ur(e,t){t===null?X(bn,bn.current):X(bn,t.pool)}function tf(){var e=Pl();return e===null?null:{parent:ut._currentValue,pool:e}}var Zn=Error(v(460)),Fl=Error(v(474)),Yr=Error(v(542)),Xr={then:function(){}};function nf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function af(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(mi,mi),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sf(e),e;default:if(typeof t.status=="string")t.then(mi,mi);else{if(e=Ze,e!==null&&100<e.shellSuspendCounter)throw Error(v(482));e=t,e.status="pending",e.then(function(f){if(t.status==="pending"){var S=t;S.status="fulfilled",S.value=f}},function(f){if(t.status==="pending"){var S=t;S.status="rejected",S.reason=f}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sf(e),e}throw xn=t,Zn}}function Sn(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(xn=i,Zn):i}}var xn=null;function rf(){if(xn===null)throw Error(v(459));var e=xn;return xn=null,e}function sf(e){if(e===Zn||e===Yr)throw Error(v(483))}var Kn=null,Ra=0;function Gr(e){var t=Ra;return Ra+=1,Kn===null&&(Kn=[]),af(Kn,e,t)}function Na(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Vr(e,t){throw t.$$typeof===l?Error(v(525)):(e=Object.prototype.toString.call(t),Error(v(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function lf(e){function t(Z,G){if(e){var ie=Z.deletions;ie===null?(Z.deletions=[G],Z.flags|=16):ie.push(G)}}function i(Z,G){if(!e)return null;for(;G!==null;)t(Z,G),G=G.sibling;return null}function f(Z){for(var G=new Map;Z!==null;)Z.key!==null?G.set(Z.key,Z):G.set(Z.index,Z),Z=Z.sibling;return G}function S(Z,G){return Z=vi(Z,G),Z.index=0,Z.sibling=null,Z}function x(Z,G,ie){return Z.index=ie,e?(ie=Z.alternate,ie!==null?(ie=ie.index,ie<G?(Z.flags|=67108866,G):ie):(Z.flags|=67108866,G)):(Z.flags|=1048576,G)}function O(Z){return e&&Z.alternate===null&&(Z.flags|=67108866),Z}function R(Z,G,ie,me){return G===null||G.tag!==6?(G=Ol(ie,Z.mode,me),G.return=Z,G):(G=S(G,ie),G.return=Z,G)}function U(Z,G,ie,me){var Me=ie.type;return Me===g?he(Z,G,ie.props.children,me,ie.key):G!==null&&(G.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===N&&Sn(Me)===G.type)?(G=S(G,ie.props),Na(G,ie),G.return=Z,G):(G=Br(ie.type,ie.key,ie.props,null,Z.mode,me),Na(G,ie),G.return=Z,G)}function ne(Z,G,ie,me){return G===null||G.tag!==4||G.stateNode.containerInfo!==ie.containerInfo||G.stateNode.implementation!==ie.implementation?(G=Ml(ie,Z.mode,me),G.return=Z,G):(G=S(G,ie.children||[]),G.return=Z,G)}function he(Z,G,ie,me,Me){return G===null||G.tag!==7?(G=mn(ie,Z.mode,me,Me),G.return=Z,G):(G=S(G,ie),G.return=Z,G)}function ye(Z,G,ie){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Ol(""+G,Z.mode,ie),G.return=Z,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case r:return ie=Br(G.type,G.key,G.props,null,Z.mode,ie),Na(ie,G),ie.return=Z,ie;case c:return G=Ml(G,Z.mode,ie),G.return=Z,G;case N:return G=Sn(G),ye(Z,G,ie)}if(fe(G)||ee(G))return G=mn(G,Z.mode,ie,null),G.return=Z,G;if(typeof G.then=="function")return ye(Z,Gr(G),ie);if(G.$$typeof===_)return ye(Z,Hr(Z,G),ie);Vr(Z,G)}return null}function ae(Z,G,ie,me){var Me=G!==null?G.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Me!==null?null:R(Z,G,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case r:return ie.key===Me?U(Z,G,ie,me):null;case c:return ie.key===Me?ne(Z,G,ie,me):null;case N:return ie=Sn(ie),ae(Z,G,ie,me)}if(fe(ie)||ee(ie))return Me!==null?null:he(Z,G,ie,me,null);if(typeof ie.then=="function")return ae(Z,G,Gr(ie),me);if(ie.$$typeof===_)return ae(Z,G,Hr(Z,ie),me);Vr(Z,ie)}return null}function se(Z,G,ie,me,Me){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Z=Z.get(ie)||null,R(G,Z,""+me,Me);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case r:return Z=Z.get(me.key===null?ie:me.key)||null,U(G,Z,me,Me);case c:return Z=Z.get(me.key===null?ie:me.key)||null,ne(G,Z,me,Me);case N:return me=Sn(me),se(Z,G,ie,me,Me)}if(fe(me)||ee(me))return Z=Z.get(ie)||null,he(G,Z,me,Me,null);if(typeof me.then=="function")return se(Z,G,ie,Gr(me),Me);if(me.$$typeof===_)return se(Z,G,ie,Hr(G,me),Me);Vr(G,me)}return null}function Ce(Z,G,ie,me){for(var Me=null,Ue=null,we=G,ke=G=0,Pe=null;we!==null&&ke<ie.length;ke++){we.index>ke?(Pe=we,we=null):Pe=we.sibling;var Ye=ae(Z,we,ie[ke],me);if(Ye===null){we===null&&(we=Pe);break}e&&we&&Ye.alternate===null&&t(Z,we),G=x(Ye,G,ke),Ue===null?Me=Ye:Ue.sibling=Ye,Ue=Ye,we=Pe}if(ke===ie.length)return i(Z,we),Fe&&yi(Z,ke),Me;if(we===null){for(;ke<ie.length;ke++)we=ye(Z,ie[ke],me),we!==null&&(G=x(we,G,ke),Ue===null?Me=we:Ue.sibling=we,Ue=we);return Fe&&yi(Z,ke),Me}for(we=f(we);ke<ie.length;ke++)Pe=se(we,Z,ke,ie[ke],me),Pe!==null&&(e&&Pe.alternate!==null&&we.delete(Pe.key===null?ke:Pe.key),G=x(Pe,G,ke),Ue===null?Me=Pe:Ue.sibling=Pe,Ue=Pe);return e&&we.forEach(function(rn){return t(Z,rn)}),Fe&&yi(Z,ke),Me}function Ae(Z,G,ie,me){if(ie==null)throw Error(v(151));for(var Me=null,Ue=null,we=G,ke=G=0,Pe=null,Ye=ie.next();we!==null&&!Ye.done;ke++,Ye=ie.next()){we.index>ke?(Pe=we,we=null):Pe=we.sibling;var rn=ae(Z,we,Ye.value,me);if(rn===null){we===null&&(we=Pe);break}e&&we&&rn.alternate===null&&t(Z,we),G=x(rn,G,ke),Ue===null?Me=rn:Ue.sibling=rn,Ue=rn,we=Pe}if(Ye.done)return i(Z,we),Fe&&yi(Z,ke),Me;if(we===null){for(;!Ye.done;ke++,Ye=ie.next())Ye=ye(Z,Ye.value,me),Ye!==null&&(G=x(Ye,G,ke),Ue===null?Me=Ye:Ue.sibling=Ye,Ue=Ye);return Fe&&yi(Z,ke),Me}for(we=f(we);!Ye.done;ke++,Ye=ie.next())Ye=se(we,Z,ke,Ye.value,me),Ye!==null&&(e&&Ye.alternate!==null&&we.delete(Ye.key===null?ke:Ye.key),G=x(Ye,G,ke),Ue===null?Me=Ye:Ue.sibling=Ye,Ue=Ye);return e&&we.forEach(function(Av){return t(Z,Av)}),Fe&&yi(Z,ke),Me}function We(Z,G,ie,me){if(typeof ie=="object"&&ie!==null&&ie.type===g&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case r:e:{for(var Me=ie.key;G!==null;){if(G.key===Me){if(Me=ie.type,Me===g){if(G.tag===7){i(Z,G.sibling),me=S(G,ie.props.children),me.return=Z,Z=me;break e}}else if(G.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===N&&Sn(Me)===G.type){i(Z,G.sibling),me=S(G,ie.props),Na(me,ie),me.return=Z,Z=me;break e}i(Z,G);break}else t(Z,G);G=G.sibling}ie.type===g?(me=mn(ie.props.children,Z.mode,me,ie.key),me.return=Z,Z=me):(me=Br(ie.type,ie.key,ie.props,null,Z.mode,me),Na(me,ie),me.return=Z,Z=me)}return O(Z);case c:e:{for(Me=ie.key;G!==null;){if(G.key===Me)if(G.tag===4&&G.stateNode.containerInfo===ie.containerInfo&&G.stateNode.implementation===ie.implementation){i(Z,G.sibling),me=S(G,ie.children||[]),me.return=Z,Z=me;break e}else{i(Z,G);break}else t(Z,G);G=G.sibling}me=Ml(ie,Z.mode,me),me.return=Z,Z=me}return O(Z);case N:return ie=Sn(ie),We(Z,G,ie,me)}if(fe(ie))return Ce(Z,G,ie,me);if(ee(ie)){if(Me=ee(ie),typeof Me!="function")throw Error(v(150));return ie=Me.call(ie),Ae(Z,G,ie,me)}if(typeof ie.then=="function")return We(Z,G,Gr(ie),me);if(ie.$$typeof===_)return We(Z,G,Hr(Z,ie),me);Vr(Z,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,G!==null&&G.tag===6?(i(Z,G.sibling),me=S(G,ie),me.return=Z,Z=me):(i(Z,G),me=Ol(ie,Z.mode,me),me.return=Z,Z=me),O(Z)):i(Z,G)}return function(Z,G,ie,me){try{Ra=0;var Me=We(Z,G,ie,me);return Kn=null,Me}catch(we){if(we===Zn||we===Yr)throw we;var Ue=Nt(29,we,null,Z.mode);return Ue.lanes=me,Ue.return=Z,Ue}}}var _n=lf(!0),of=lf(!1),Ui=!1;function Hl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ul(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Yi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xi(e,t,i){var f=e.updateQueue;if(f===null)return null;if(f=f.shared,(Xe&2)!==0){var S=f.pending;return S===null?t.next=t:(t.next=S.next,S.next=t),f.pending=t,t=Nr(e),Gc(e,null,i),t}return Rr(e,f,t,i),Nr(e)}function Ba(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var f=t.lanes;f&=e.pendingLanes,i|=f,t.lanes=i,Ju(e,i)}}function Yl(e,t){var i=e.updateQueue,f=e.alternate;if(f!==null&&(f=f.updateQueue,i===f)){var S=null,x=null;if(i=i.firstBaseUpdate,i!==null){do{var O={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};x===null?S=x=O:x=x.next=O,i=i.next}while(i!==null);x===null?S=x=t:x=x.next=t}else S=x=t;i={baseState:f.baseState,firstBaseUpdate:S,lastBaseUpdate:x,shared:f.shared,callbacks:f.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Xl=!1;function Pa(){if(Xl){var e=Qn;if(e!==null)throw e}}function Fa(e,t,i,f){Xl=!1;var S=e.updateQueue;Ui=!1;var x=S.firstBaseUpdate,O=S.lastBaseUpdate,R=S.shared.pending;if(R!==null){S.shared.pending=null;var U=R,ne=U.next;U.next=null,O===null?x=ne:O.next=ne,O=U;var he=e.alternate;he!==null&&(he=he.updateQueue,R=he.lastBaseUpdate,R!==O&&(R===null?he.firstBaseUpdate=ne:R.next=ne,he.lastBaseUpdate=U))}if(x!==null){var ye=S.baseState;O=0,he=ne=U=null,R=x;do{var ae=R.lane&-536870913,se=ae!==R.lane;if(se?(Be&ae)===ae:(f&ae)===ae){ae!==0&&ae===Wn&&(Xl=!0),he!==null&&(he=he.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ce=e,Ae=R;ae=t;var We=i;switch(Ae.tag){case 1:if(Ce=Ae.payload,typeof Ce=="function"){ye=Ce.call(We,ye,ae);break e}ye=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ae.payload,ae=typeof Ce=="function"?Ce.call(We,ye,ae):Ce,ae==null)break e;ye=a({},ye,ae);break e;case 2:Ui=!0}}ae=R.callback,ae!==null&&(e.flags|=64,se&&(e.flags|=8192),se=S.callbacks,se===null?S.callbacks=[ae]:se.push(ae))}else se={lane:ae,tag:R.tag,payload:R.payload,callback:R.callback,next:null},he===null?(ne=he=se,U=ye):he=he.next=se,O|=ae;if(R=R.next,R===null){if(R=S.shared.pending,R===null)break;se=R,R=se.next,se.next=null,S.lastBaseUpdate=se,S.shared.pending=null}}while(!0);he===null&&(U=ye),S.baseState=U,S.firstBaseUpdate=ne,S.lastBaseUpdate=he,x===null&&(S.shared.lanes=0),Wi|=O,e.lanes=O,e.memoizedState=ye}}function uf(e,t){if(typeof e!="function")throw Error(v(191,e));e.call(t)}function cf(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)uf(i[e],t)}var Jn=A(null),Ir=A(0);function ff(e,t){e=Ai,X(Ir,e),X(Jn,t),Ai=e|t.baseLanes}function Gl(){X(Ir,Ai),X(Jn,Jn.current)}function Vl(){Ai=Ir.current,B(Jn),B(Ir)}var Bt=A(null),Kt=null;function Gi(e){var t=e.alternate;X(st,st.current&1),X(Bt,e),Kt===null&&(t===null||Jn.current!==null||t.memoizedState!==null)&&(Kt=e)}function Il(e){X(st,st.current),X(Bt,e),Kt===null&&(Kt=e)}function hf(e){e.tag===22?(X(st,st.current),X(Bt,e),Kt===null&&(Kt=e)):Vi()}function Vi(){X(st,st.current),X(Bt,Bt.current)}function Pt(e){B(Bt),Kt===e&&(Kt=null),B(st)}var st=A(0);function qr(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||$o(i)||eu(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xi=0,Le=null,Ie=null,ct=null,Wr=!1,$n=!1,Cn=!1,Qr=0,Ha=0,ea=null,bp=0;function at(){throw Error(v(321))}function ql(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Rt(e[i],t[i]))return!1;return!0}function Wl(e,t,i,f,S,x){return xi=x,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=e===null||e.memoizedState===null?Qf:uo,Cn=!1,x=i(f,S),Cn=!1,$n&&(x=gf(t,i,f,S)),df(e),x}function df(e){I.H=Xa;var t=Ie!==null&&Ie.next!==null;if(xi=0,ct=Ie=Le=null,Wr=!1,Ha=0,ea=null,t)throw Error(v(300));e===null||ft||(e=e.dependencies,e!==null&&Fr(e)&&(ft=!0))}function gf(e,t,i,f){Le=e;var S=0;do{if($n&&(ea=null),Ha=0,$n=!1,25<=S)throw Error(v(301));if(S+=1,ct=Ie=null,e.updateQueue!=null){var x=e.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}I.H=Zf,x=t(i,f)}while($n);return x}function Sp(){var e=I.H,t=e.useState()[0];return t=typeof t.then=="function"?Ua(t):t,e=e.useState()[0],(Ie!==null?Ie.memoizedState:null)!==e&&(Le.flags|=1024),t}function Ql(){var e=Qr!==0;return Qr=0,e}function Zl(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Kl(e){if(Wr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Wr=!1}xi=0,ct=Ie=Le=null,$n=!1,Ha=Qr=0,ea=null}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Le.memoizedState=ct=e:ct=ct.next=e,ct}function lt(){if(Ie===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=ct===null?Le.memoizedState:ct.next;if(t!==null)ct=t,Ie=e;else{if(e===null)throw Le.alternate===null?Error(v(467)):Error(v(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},ct===null?Le.memoizedState=ct=e:ct=ct.next=e}return ct}function Zr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ua(e){var t=Ha;return Ha+=1,ea===null&&(ea=[]),e=af(ea,e,t),t=Le,(ct===null?t.memoizedState:ct.next)===null&&(t=t.alternate,I.H=t===null||t.memoizedState===null?Qf:uo),e}function Kr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ua(e);if(e.$$typeof===_)return St(e)}throw Error(v(438,String(e)))}function Jl(e){var t=null,i=Le.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var f=Le.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(t={data:f.data.map(function(S){return S.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Zr(),Le.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),f=0;f<e;f++)i[f]=H;return t.index++,i}function _i(e,t){return typeof t=="function"?t(e):t}function Jr(e){var t=lt();return $l(t,Ie,e)}function $l(e,t,i){var f=e.queue;if(f===null)throw Error(v(311));f.lastRenderedReducer=i;var S=e.baseQueue,x=f.pending;if(x!==null){if(S!==null){var O=S.next;S.next=x.next,x.next=O}t.baseQueue=S=x,f.pending=null}if(x=e.baseState,S===null)e.memoizedState=x;else{t=S.next;var R=O=null,U=null,ne=t,he=!1;do{var ye=ne.lane&-536870913;if(ye!==ne.lane?(Be&ye)===ye:(xi&ye)===ye){var ae=ne.revertLane;if(ae===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),ye===Wn&&(he=!0);else if((xi&ae)===ae){ne=ne.next,ae===Wn&&(he=!0);continue}else ye={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},U===null?(R=U=ye,O=x):U=U.next=ye,Le.lanes|=ae,Wi|=ae;ye=ne.action,Cn&&i(x,ye),x=ne.hasEagerState?ne.eagerState:i(x,ye)}else ae={lane:ye,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},U===null?(R=U=ae,O=x):U=U.next=ae,Le.lanes|=ye,Wi|=ye;ne=ne.next}while(ne!==null&&ne!==t);if(U===null?O=x:U.next=R,!Rt(x,e.memoizedState)&&(ft=!0,he&&(i=Qn,i!==null)))throw i;e.memoizedState=x,e.baseState=O,e.baseQueue=U,f.lastRenderedState=x}return S===null&&(f.lanes=0),[e.memoizedState,f.dispatch]}function eo(e){var t=lt(),i=t.queue;if(i===null)throw Error(v(311));i.lastRenderedReducer=e;var f=i.dispatch,S=i.pending,x=t.memoizedState;if(S!==null){i.pending=null;var O=S=S.next;do x=e(x,O.action),O=O.next;while(O!==S);Rt(x,t.memoizedState)||(ft=!0),t.memoizedState=x,t.baseQueue===null&&(t.baseState=x),i.lastRenderedState=x}return[x,f]}function mf(e,t,i){var f=Le,S=lt(),x=Fe;if(x){if(i===void 0)throw Error(v(407));i=i()}else i=t();var O=!Rt((Ie||S).memoizedState,i);if(O&&(S.memoizedState=i,ft=!0),S=S.queue,no(yf.bind(null,f,S,e),[e]),S.getSnapshot!==t||O||ct!==null&&ct.memoizedState.tag&1){if(f.flags|=2048,ta(9,{destroy:void 0},vf.bind(null,f,S,i,t),null),Ze===null)throw Error(v(349));x||(xi&127)!==0||pf(f,t,i)}return i}function pf(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Le.updateQueue,t===null?(t=Zr(),Le.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function vf(e,t,i,f){t.value=i,t.getSnapshot=f,bf(t)&&Sf(e)}function yf(e,t,i){return i(function(){bf(t)&&Sf(e)})}function bf(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Rt(e,i)}catch{return!0}}function Sf(e){var t=gn(e,2);t!==null&&zt(t,e,2)}function to(e){var t=Et();if(typeof e=="function"){var i=e;if(e=i(),Cn){si(!0);try{i()}finally{si(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:e},t}function xf(e,t,i,f){return e.baseState=i,$l(e,Ie,typeof f=="function"?f:_i)}function xp(e,t,i,f,S){if(ts(e))throw Error(v(485));if(e=t.action,e!==null){var x={payload:S,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){x.listeners.push(O)}};I.T!==null?i(!0):x.isTransition=!1,f(x),i=t.pending,i===null?(x.next=t.pending=x,_f(t,x)):(x.next=i.next,t.pending=i.next=x)}}function _f(e,t){var i=t.action,f=t.payload,S=e.state;if(t.isTransition){var x=I.T,O={};I.T=O;try{var R=i(S,f),U=I.S;U!==null&&U(O,R),Cf(e,t,R)}catch(ne){io(e,t,ne)}finally{x!==null&&O.types!==null&&(x.types=O.types),I.T=x}}else try{x=i(S,f),Cf(e,t,x)}catch(ne){io(e,t,ne)}}function Cf(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(f){Tf(e,t,f)},function(f){return io(e,t,f)}):Tf(e,t,i)}function Tf(e,t,i){t.status="fulfilled",t.value=i,wf(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,_f(e,i)))}function io(e,t,i){var f=e.pending;if(e.pending=null,f!==null){f=f.next;do t.status="rejected",t.reason=i,wf(t),t=t.next;while(t!==f)}e.action=null}function wf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ef(e,t){return t}function Of(e,t){if(Fe){var i=Ze.formState;if(i!==null){e:{var f=Le;if(Fe){if(Ke){t:{for(var S=Ke,x=Zt;S.nodeType!==8;){if(!x){S=null;break t}if(S=Jt(S.nextSibling),S===null){S=null;break t}}x=S.data,S=x==="F!"||x==="F"?S:null}if(S){Ke=Jt(S.nextSibling),f=S.data==="F!";break e}}Fi(f)}f=!1}f&&(t=i[0])}}return i=Et(),i.memoizedState=i.baseState=t,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ef,lastRenderedState:t},i.queue=f,i=If.bind(null,Le,f),f.dispatch=i,f=to(!1),x=oo.bind(null,Le,!1,f.queue),f=Et(),S={state:t,dispatch:null,action:e,pending:null},f.queue=S,i=xp.bind(null,Le,S,x,i),S.dispatch=i,f.memoizedState=e,[t,i,!1]}function Mf(e){var t=lt();return Af(t,Ie,e)}function Af(e,t,i){if(t=$l(e,t,Ef)[0],e=Jr(_i)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var f=Ua(t)}catch(O){throw O===Zn?Yr:O}else f=t;t=lt();var S=t.queue,x=S.dispatch;return i!==t.memoizedState&&(Le.flags|=2048,ta(9,{destroy:void 0},_p.bind(null,S,i),null)),[f,x,e]}function _p(e,t){e.action=t}function Df(e){var t=lt(),i=Ie;if(i!==null)return Af(t,i,e);lt(),t=t.memoizedState,i=lt();var f=i.queue.dispatch;return i.memoizedState=e,[t,f,!1]}function ta(e,t,i,f){return e={tag:e,create:i,deps:f,inst:t,next:null},t=Le.updateQueue,t===null&&(t=Zr(),Le.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(f=i.next,i.next=e,e.next=f,t.lastEffect=e),e}function jf(){return lt().memoizedState}function $r(e,t,i,f){var S=Et();Le.flags|=e,S.memoizedState=ta(1|t,{destroy:void 0},i,f===void 0?null:f)}function es(e,t,i,f){var S=lt();f=f===void 0?null:f;var x=S.memoizedState.inst;Ie!==null&&f!==null&&ql(f,Ie.memoizedState.deps)?S.memoizedState=ta(t,x,i,f):(Le.flags|=e,S.memoizedState=ta(1|t,x,i,f))}function Lf(e,t){$r(8390656,8,e,t)}function no(e,t){es(2048,8,e,t)}function Cp(e){Le.flags|=4;var t=Le.updateQueue;if(t===null)t=Zr(),Le.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function kf(e){var t=lt().memoizedState;return Cp({ref:t,nextImpl:e}),function(){if((Xe&2)!==0)throw Error(v(440));return t.impl.apply(void 0,arguments)}}function zf(e,t){return es(4,2,e,t)}function Rf(e,t){return es(4,4,e,t)}function Nf(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bf(e,t,i){i=i!=null?i.concat([e]):null,es(4,4,Nf.bind(null,t,e),i)}function ao(){}function Pf(e,t){var i=lt();t=t===void 0?null:t;var f=i.memoizedState;return t!==null&&ql(t,f[1])?f[0]:(i.memoizedState=[e,t],e)}function Ff(e,t){var i=lt();t=t===void 0?null:t;var f=i.memoizedState;if(t!==null&&ql(t,f[1]))return f[0];if(f=e(),Cn){si(!0);try{e()}finally{si(!1)}}return i.memoizedState=[f,t],f}function ro(e,t,i){return i===void 0||(xi&1073741824)!==0&&(Be&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=Hh(),Le.lanes|=e,Wi|=e,i)}function Hf(e,t,i,f){return Rt(i,t)?i:Jn.current!==null?(e=ro(e,i,f),Rt(e,t)||(ft=!0),e):(xi&42)===0||(xi&1073741824)!==0&&(Be&261930)===0?(ft=!0,e.memoizedState=i):(e=Hh(),Le.lanes|=e,Wi|=e,t)}function Uf(e,t,i,f,S){var x=J.p;J.p=x!==0&&8>x?x:8;var O=I.T,R={};I.T=R,oo(e,!1,t,i);try{var U=S(),ne=I.S;if(ne!==null&&ne(R,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var he=yp(U,f);Ya(e,t,he,Ut(e))}else Ya(e,t,f,Ut(e))}catch(ye){Ya(e,t,{then:function(){},status:"rejected",reason:ye},Ut())}finally{J.p=x,O!==null&&R.types!==null&&(O.types=R.types),I.T=O}}function Tp(){}function so(e,t,i,f){if(e.tag!==5)throw Error(v(476));var S=Yf(e).queue;Uf(e,S,t,K,i===null?Tp:function(){return Xf(e),i(f)})}function Yf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:K},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Xf(e){var t=Yf(e);t.next===null&&(t=e.alternate.memoizedState),Ya(e,t.next.queue,{},Ut())}function lo(){return St(rr)}function Gf(){return lt().memoizedState}function Vf(){return lt().memoizedState}function wp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Ut();e=Yi(i);var f=Xi(t,e,i);f!==null&&(zt(f,t,i),Ba(f,t,i)),t={cache:Nl()},e.payload=t;return}t=t.return}}function Ep(e,t,i){var f=Ut();i={lane:f,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ts(e)?qf(t,i):(i=wl(e,t,i,f),i!==null&&(zt(i,e,f),Wf(i,t,f)))}function If(e,t,i){var f=Ut();Ya(e,t,i,f)}function Ya(e,t,i,f){var S={lane:f,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(ts(e))qf(t,S);else{var x=e.alternate;if(e.lanes===0&&(x===null||x.lanes===0)&&(x=t.lastRenderedReducer,x!==null))try{var O=t.lastRenderedState,R=x(O,i);if(S.hasEagerState=!0,S.eagerState=R,Rt(R,O))return Rr(e,t,S,0),Ze===null&&zr(),!1}catch{}if(i=wl(e,t,S,f),i!==null)return zt(i,e,f),Wf(i,t,f),!0}return!1}function oo(e,t,i,f){if(f={lane:2,revertLane:Uo(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},ts(e)){if(t)throw Error(v(479))}else t=wl(e,i,f,2),t!==null&&zt(t,e,2)}function ts(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function qf(e,t){$n=Wr=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Wf(e,t,i){if((i&4194048)!==0){var f=t.lanes;f&=e.pendingLanes,i|=f,t.lanes=i,Ju(e,i)}}var Xa={readContext:St,use:Kr,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at};Xa.useEffectEvent=at;var Qf={readContext:St,use:Kr,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:Lf,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,$r(4194308,4,Nf.bind(null,t,e),i)},useLayoutEffect:function(e,t){return $r(4194308,4,e,t)},useInsertionEffect:function(e,t){$r(4,2,e,t)},useMemo:function(e,t){var i=Et();t=t===void 0?null:t;var f=e();if(Cn){si(!0);try{e()}finally{si(!1)}}return i.memoizedState=[f,t],f},useReducer:function(e,t,i){var f=Et();if(i!==void 0){var S=i(t);if(Cn){si(!0);try{i(t)}finally{si(!1)}}}else S=t;return f.memoizedState=f.baseState=S,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:S},f.queue=e,e=e.dispatch=Ep.bind(null,Le,e),[f.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:function(e){e=to(e);var t=e.queue,i=If.bind(null,Le,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:ao,useDeferredValue:function(e,t){var i=Et();return ro(i,e,t)},useTransition:function(){var e=to(!1);return e=Uf.bind(null,Le,e.queue,!0,!1),Et().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var f=Le,S=Et();if(Fe){if(i===void 0)throw Error(v(407));i=i()}else{if(i=t(),Ze===null)throw Error(v(349));(Be&127)!==0||pf(f,t,i)}S.memoizedState=i;var x={value:i,getSnapshot:t};return S.queue=x,Lf(yf.bind(null,f,x,e),[e]),f.flags|=2048,ta(9,{destroy:void 0},vf.bind(null,f,x,i,t),null),i},useId:function(){var e=Et(),t=Ze.identifierPrefix;if(Fe){var i=oi,f=li;i=(f&~(1<<32-wt(f)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Qr++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=bp++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:lo,useFormState:Of,useActionState:Of,useOptimistic:function(e){var t=Et();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=oo.bind(null,Le,!0,i),i.dispatch=t,[e,t]},useMemoCache:Jl,useCacheRefresh:function(){return Et().memoizedState=wp.bind(null,Le)},useEffectEvent:function(e){var t=Et(),i={impl:e};return t.memoizedState=i,function(){if((Xe&2)!==0)throw Error(v(440));return i.impl.apply(void 0,arguments)}}},uo={readContext:St,use:Kr,useCallback:Pf,useContext:St,useEffect:no,useImperativeHandle:Bf,useInsertionEffect:zf,useLayoutEffect:Rf,useMemo:Ff,useReducer:Jr,useRef:jf,useState:function(){return Jr(_i)},useDebugValue:ao,useDeferredValue:function(e,t){var i=lt();return Hf(i,Ie.memoizedState,e,t)},useTransition:function(){var e=Jr(_i)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:Ua(e),t]},useSyncExternalStore:mf,useId:Gf,useHostTransitionStatus:lo,useFormState:Mf,useActionState:Mf,useOptimistic:function(e,t){var i=lt();return xf(i,Ie,e,t)},useMemoCache:Jl,useCacheRefresh:Vf};uo.useEffectEvent=kf;var Zf={readContext:St,use:Kr,useCallback:Pf,useContext:St,useEffect:no,useImperativeHandle:Bf,useInsertionEffect:zf,useLayoutEffect:Rf,useMemo:Ff,useReducer:eo,useRef:jf,useState:function(){return eo(_i)},useDebugValue:ao,useDeferredValue:function(e,t){var i=lt();return Ie===null?ro(i,e,t):Hf(i,Ie.memoizedState,e,t)},useTransition:function(){var e=eo(_i)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:Ua(e),t]},useSyncExternalStore:mf,useId:Gf,useHostTransitionStatus:lo,useFormState:Df,useActionState:Df,useOptimistic:function(e,t){var i=lt();return Ie!==null?xf(i,Ie,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Jl,useCacheRefresh:Vf};Zf.useEffectEvent=kf;function co(e,t,i,f){t=e.memoizedState,i=i(f,t),i=i==null?t:a({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var fo={enqueueSetState:function(e,t,i){e=e._reactInternals;var f=Ut(),S=Yi(f);S.payload=t,i!=null&&(S.callback=i),t=Xi(e,S,f),t!==null&&(zt(t,e,f),Ba(t,e,f))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var f=Ut(),S=Yi(f);S.tag=1,S.payload=t,i!=null&&(S.callback=i),t=Xi(e,S,f),t!==null&&(zt(t,e,f),Ba(t,e,f))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Ut(),f=Yi(i);f.tag=2,t!=null&&(f.callback=t),t=Xi(e,f,i),t!==null&&(zt(t,e,i),Ba(t,e,i))}};function Kf(e,t,i,f,S,x,O){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(f,x,O):t.prototype&&t.prototype.isPureReactComponent?!Aa(i,f)||!Aa(S,x):!0}function Jf(e,t,i,f){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,f),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,f),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function Tn(e,t){var i=t;if("ref"in t){i={};for(var f in t)f!=="ref"&&(i[f]=t[f])}if(e=e.defaultProps){i===t&&(i=a({},i));for(var S in e)i[S]===void 0&&(i[S]=e[S])}return i}function $f(e){kr(e)}function eh(e){console.error(e)}function th(e){kr(e)}function is(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(f){setTimeout(function(){throw f})}}function ih(e,t,i){try{var f=e.onCaughtError;f(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function ho(e,t,i){return i=Yi(i),i.tag=3,i.payload={element:null},i.callback=function(){is(e,t)},i}function nh(e){return e=Yi(e),e.tag=3,e}function ah(e,t,i,f){var S=i.type.getDerivedStateFromError;if(typeof S=="function"){var x=f.value;e.payload=function(){return S(x)},e.callback=function(){ih(t,i,f)}}var O=i.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(e.callback=function(){ih(t,i,f),typeof S!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var R=f.stack;this.componentDidCatch(f.value,{componentStack:R!==null?R:""})})}function Op(e,t,i,f,S){if(i.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(t=i.alternate,t!==null&&qn(t,i,S,!0),i=Bt.current,i!==null){switch(i.tag){case 31:case 13:return Kt===null?gs():i.alternate===null&&rt===0&&(rt=3),i.flags&=-257,i.flags|=65536,i.lanes=S,f===Xr?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([f]):t.add(f),Po(e,f,S)),!1;case 22:return i.flags|=65536,f===Xr?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([f])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([f]):i.add(f)),Po(e,f,S)),!1}throw Error(v(435,i.tag))}return Po(e,f,S),gs(),!1}if(Fe)return t=Bt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=S,f!==jl&&(e=Error(v(422),{cause:f}),La(qt(e,i)))):(f!==jl&&(t=Error(v(423),{cause:f}),La(qt(t,i))),e=e.current.alternate,e.flags|=65536,S&=-S,e.lanes|=S,f=qt(f,i),S=ho(e.stateNode,f,S),Yl(e,S),rt!==4&&(rt=2)),!1;var x=Error(v(520),{cause:f});if(x=qt(x,i),Ka===null?Ka=[x]:Ka.push(x),rt!==4&&(rt=2),t===null)return!0;f=qt(f,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=S&-S,i.lanes|=e,e=ho(i.stateNode,f,e),Yl(i,e),!1;case 1:if(t=i.type,x=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Qi===null||!Qi.has(x))))return i.flags|=65536,S&=-S,i.lanes|=S,S=nh(S),ah(S,e,i,f),Yl(i,S),!1}i=i.return}while(i!==null);return!1}var go=Error(v(461)),ft=!1;function xt(e,t,i,f){t.child=e===null?of(t,null,i,f):_n(t,e.child,i,f)}function rh(e,t,i,f,S){i=i.render;var x=t.ref;if("ref"in f){var O={};for(var R in f)R!=="ref"&&(O[R]=f[R])}else O=f;return yn(t),f=Wl(e,t,i,O,x,S),R=Ql(),e!==null&&!ft?(Zl(e,t,S),Ci(e,t,S)):(Fe&&R&&Al(t),t.flags|=1,xt(e,t,f,S),t.child)}function sh(e,t,i,f,S){if(e===null){var x=i.type;return typeof x=="function"&&!El(x)&&x.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=x,lh(e,t,x,f,S)):(e=Br(i.type,null,f,t,t.mode,S),e.ref=t.ref,e.return=t,t.child=e)}if(x=e.child,!_o(e,S)){var O=x.memoizedProps;if(i=i.compare,i=i!==null?i:Aa,i(O,f)&&e.ref===t.ref)return Ci(e,t,S)}return t.flags|=1,e=vi(x,f),e.ref=t.ref,e.return=t,t.child=e}function lh(e,t,i,f,S){if(e!==null){var x=e.memoizedProps;if(Aa(x,f)&&e.ref===t.ref)if(ft=!1,t.pendingProps=f=x,_o(e,S))(e.flags&131072)!==0&&(ft=!0);else return t.lanes=e.lanes,Ci(e,t,S)}return mo(e,t,i,f,S)}function oh(e,t,i,f){var S=f.children,x=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((t.flags&128)!==0){if(x=x!==null?x.baseLanes|i:i,e!==null){for(f=t.child=e.child,S=0;f!==null;)S=S|f.lanes|f.childLanes,f=f.sibling;f=S&~x}else f=0,t.child=null;return uh(e,t,x,i,f)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ur(t,x!==null?x.cachePool:null),x!==null?ff(t,x):Gl(),hf(t);else return f=t.lanes=536870912,uh(e,t,x!==null?x.baseLanes|i:i,i,f)}else x!==null?(Ur(t,x.cachePool),ff(t,x),Vi(),t.memoizedState=null):(e!==null&&Ur(t,null),Gl(),Vi());return xt(e,t,S,i),t.child}function Ga(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function uh(e,t,i,f,S){var x=Pl();return x=x===null?null:{parent:ut._currentValue,pool:x},t.memoizedState={baseLanes:i,cachePool:x},e!==null&&Ur(t,null),Gl(),hf(t),e!==null&&qn(e,t,f,!0),t.childLanes=S,null}function ns(e,t){return t=rs({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ch(e,t,i){return _n(t,e.child,null,i),e=ns(t,t.pendingProps),e.flags|=2,Pt(t),t.memoizedState=null,e}function Mp(e,t,i){var f=t.pendingProps,S=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Fe){if(f.mode==="hidden")return e=ns(t,f),t.lanes=536870912,Ga(null,e);if(Il(t),(e=Ke)?(e=_d(e,Zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Bi!==null?{id:li,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},i=Ic(e),i.return=t,t.child=i,bt=t,Ke=null)):e=null,e===null)throw Fi(t);return t.lanes=536870912,null}return ns(t,f)}var x=e.memoizedState;if(x!==null){var O=x.dehydrated;if(Il(t),S)if(t.flags&256)t.flags&=-257,t=ch(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(v(558));else if(ft||qn(e,t,i,!1),S=(i&e.childLanes)!==0,ft||S){if(f=Ze,f!==null&&(O=$u(f,i),O!==0&&O!==x.retryLane))throw x.retryLane=O,gn(e,O),zt(f,e,O),go;gs(),t=ch(e,t,i)}else e=x.treeContext,Ke=Jt(O.nextSibling),bt=t,Fe=!0,Pi=null,Zt=!1,e!==null&&Qc(t,e),t=ns(t,f),t.flags|=4096;return t}return e=vi(e.child,{mode:f.mode,children:f.children}),e.ref=t.ref,t.child=e,e.return=t,e}function as(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(v(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function mo(e,t,i,f,S){return yn(t),i=Wl(e,t,i,f,void 0,S),f=Ql(),e!==null&&!ft?(Zl(e,t,S),Ci(e,t,S)):(Fe&&f&&Al(t),t.flags|=1,xt(e,t,i,S),t.child)}function fh(e,t,i,f,S,x){return yn(t),t.updateQueue=null,i=gf(t,f,i,S),df(e),f=Ql(),e!==null&&!ft?(Zl(e,t,x),Ci(e,t,x)):(Fe&&f&&Al(t),t.flags|=1,xt(e,t,i,x),t.child)}function hh(e,t,i,f,S){if(yn(t),t.stateNode===null){var x=Xn,O=i.contextType;typeof O=="object"&&O!==null&&(x=St(O)),x=new i(f,x),t.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=fo,t.stateNode=x,x._reactInternals=t,x=t.stateNode,x.props=f,x.state=t.memoizedState,x.refs={},Hl(t),O=i.contextType,x.context=typeof O=="object"&&O!==null?St(O):Xn,x.state=t.memoizedState,O=i.getDerivedStateFromProps,typeof O=="function"&&(co(t,i,O,f),x.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(O=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),O!==x.state&&fo.enqueueReplaceState(x,x.state,null),Fa(t,f,x,S),Pa(),x.state=t.memoizedState),typeof x.componentDidMount=="function"&&(t.flags|=4194308),f=!0}else if(e===null){x=t.stateNode;var R=t.memoizedProps,U=Tn(i,R);x.props=U;var ne=x.context,he=i.contextType;O=Xn,typeof he=="object"&&he!==null&&(O=St(he));var ye=i.getDerivedStateFromProps;he=typeof ye=="function"||typeof x.getSnapshotBeforeUpdate=="function",R=t.pendingProps!==R,he||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(R||ne!==O)&&Jf(t,x,f,O),Ui=!1;var ae=t.memoizedState;x.state=ae,Fa(t,f,x,S),Pa(),ne=t.memoizedState,R||ae!==ne||Ui?(typeof ye=="function"&&(co(t,i,ye,f),ne=t.memoizedState),(U=Ui||Kf(t,i,U,f,ae,ne,O))?(he||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(t.flags|=4194308)):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=f,t.memoizedState=ne),x.props=f,x.state=ne,x.context=O,f=U):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),f=!1)}else{x=t.stateNode,Ul(e,t),O=t.memoizedProps,he=Tn(i,O),x.props=he,ye=t.pendingProps,ae=x.context,ne=i.contextType,U=Xn,typeof ne=="object"&&ne!==null&&(U=St(ne)),R=i.getDerivedStateFromProps,(ne=typeof R=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O!==ye||ae!==U)&&Jf(t,x,f,U),Ui=!1,ae=t.memoizedState,x.state=ae,Fa(t,f,x,S),Pa();var se=t.memoizedState;O!==ye||ae!==se||Ui||e!==null&&e.dependencies!==null&&Fr(e.dependencies)?(typeof R=="function"&&(co(t,i,R,f),se=t.memoizedState),(he=Ui||Kf(t,i,he,f,ae,se,U)||e!==null&&e.dependencies!==null&&Fr(e.dependencies))?(ne||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,se,U),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,se,U)),typeof x.componentDidUpdate=="function"&&(t.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof x.componentDidUpdate!="function"||O===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),t.memoizedProps=f,t.memoizedState=se),x.props=f,x.state=se,x.context=U,f=he):(typeof x.componentDidUpdate!="function"||O===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),f=!1)}return x=f,as(e,t),f=(t.flags&128)!==0,x||f?(x=t.stateNode,i=f&&typeof i.getDerivedStateFromError!="function"?null:x.render(),t.flags|=1,e!==null&&f?(t.child=_n(t,e.child,null,S),t.child=_n(t,null,i,S)):xt(e,t,i,S),t.memoizedState=x.state,e=t.child):e=Ci(e,t,S),e}function dh(e,t,i,f){return pn(),t.flags|=256,xt(e,t,i,f),t.child}var po={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vo(e){return{baseLanes:e,cachePool:tf()}}function yo(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Ht),e}function gh(e,t,i){var f=t.pendingProps,S=!1,x=(t.flags&128)!==0,O;if((O=x)||(O=e!==null&&e.memoizedState===null?!1:(st.current&2)!==0),O&&(S=!0,t.flags&=-129),O=(t.flags&32)!==0,t.flags&=-33,e===null){if(Fe){if(S?Gi(t):Vi(),(e=Ke)?(e=_d(e,Zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Bi!==null?{id:li,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},i=Ic(e),i.return=t,t.child=i,bt=t,Ke=null)):e=null,e===null)throw Fi(t);return eu(e)?t.lanes=32:t.lanes=536870912,null}var R=f.children;return f=f.fallback,S?(Vi(),S=t.mode,R=rs({mode:"hidden",children:R},S),f=mn(f,S,i,null),R.return=t,f.return=t,R.sibling=f,t.child=R,f=t.child,f.memoizedState=vo(i),f.childLanes=yo(e,O,i),t.memoizedState=po,Ga(null,f)):(Gi(t),bo(t,R))}var U=e.memoizedState;if(U!==null&&(R=U.dehydrated,R!==null)){if(x)t.flags&256?(Gi(t),t.flags&=-257,t=So(e,t,i)):t.memoizedState!==null?(Vi(),t.child=e.child,t.flags|=128,t=null):(Vi(),R=f.fallback,S=t.mode,f=rs({mode:"visible",children:f.children},S),R=mn(R,S,i,null),R.flags|=2,f.return=t,R.return=t,f.sibling=R,t.child=f,_n(t,e.child,null,i),f=t.child,f.memoizedState=vo(i),f.childLanes=yo(e,O,i),t.memoizedState=po,t=Ga(null,f));else if(Gi(t),eu(R)){if(O=R.nextSibling&&R.nextSibling.dataset,O)var ne=O.dgst;O=ne,f=Error(v(419)),f.stack="",f.digest=O,La({value:f,source:null,stack:null}),t=So(e,t,i)}else if(ft||qn(e,t,i,!1),O=(i&e.childLanes)!==0,ft||O){if(O=Ze,O!==null&&(f=$u(O,i),f!==0&&f!==U.retryLane))throw U.retryLane=f,gn(e,f),zt(O,e,f),go;$o(R)||gs(),t=So(e,t,i)}else $o(R)?(t.flags|=192,t.child=e.child,t=null):(e=U.treeContext,Ke=Jt(R.nextSibling),bt=t,Fe=!0,Pi=null,Zt=!1,e!==null&&Qc(t,e),t=bo(t,f.children),t.flags|=4096);return t}return S?(Vi(),R=f.fallback,S=t.mode,U=e.child,ne=U.sibling,f=vi(U,{mode:"hidden",children:f.children}),f.subtreeFlags=U.subtreeFlags&65011712,ne!==null?R=vi(ne,R):(R=mn(R,S,i,null),R.flags|=2),R.return=t,f.return=t,f.sibling=R,t.child=f,Ga(null,f),f=t.child,R=e.child.memoizedState,R===null?R=vo(i):(S=R.cachePool,S!==null?(U=ut._currentValue,S=S.parent!==U?{parent:U,pool:U}:S):S=tf(),R={baseLanes:R.baseLanes|i,cachePool:S}),f.memoizedState=R,f.childLanes=yo(e,O,i),t.memoizedState=po,Ga(e.child,f)):(Gi(t),i=e.child,e=i.sibling,i=vi(i,{mode:"visible",children:f.children}),i.return=t,i.sibling=null,e!==null&&(O=t.deletions,O===null?(t.deletions=[e],t.flags|=16):O.push(e)),t.child=i,t.memoizedState=null,i)}function bo(e,t){return t=rs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function rs(e,t){return e=Nt(22,e,null,t),e.lanes=0,e}function So(e,t,i){return _n(t,e.child,null,i),e=bo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mh(e,t,i){e.lanes|=t;var f=e.alternate;f!==null&&(f.lanes|=t),zl(e.return,t,i)}function xo(e,t,i,f,S,x){var O=e.memoizedState;O===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:f,tail:i,tailMode:S,treeForkCount:x}:(O.isBackwards=t,O.rendering=null,O.renderingStartTime=0,O.last=f,O.tail=i,O.tailMode=S,O.treeForkCount=x)}function ph(e,t,i){var f=t.pendingProps,S=f.revealOrder,x=f.tail;f=f.children;var O=st.current,R=(O&2)!==0;if(R?(O=O&1|2,t.flags|=128):O&=1,X(st,O),xt(e,t,f,i),f=Fe?ja:0,!R&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mh(e,i,t);else if(e.tag===19)mh(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(S){case"forwards":for(i=t.child,S=null;i!==null;)e=i.alternate,e!==null&&qr(e)===null&&(S=i),i=i.sibling;i=S,i===null?(S=t.child,t.child=null):(S=i.sibling,i.sibling=null),xo(t,!1,S,i,x,f);break;case"backwards":case"unstable_legacy-backwards":for(i=null,S=t.child,t.child=null;S!==null;){if(e=S.alternate,e!==null&&qr(e)===null){t.child=S;break}e=S.sibling,S.sibling=i,i=S,S=e}xo(t,!0,i,null,x,f);break;case"together":xo(t,!1,null,null,void 0,f);break;default:t.memoizedState=null}return t.child}function Ci(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Wi|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(qn(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(v(153));if(t.child!==null){for(e=t.child,i=vi(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=vi(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function _o(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Fr(e)))}function Ap(e,t,i){switch(t.tag){case 3:le(t,t.stateNode.containerInfo),Hi(t,ut,e.memoizedState.cache),pn();break;case 27:case 5:ve(t);break;case 4:le(t,t.stateNode.containerInfo);break;case 10:Hi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Il(t),null;break;case 13:var f=t.memoizedState;if(f!==null)return f.dehydrated!==null?(Gi(t),t.flags|=128,null):(i&t.child.childLanes)!==0?gh(e,t,i):(Gi(t),e=Ci(e,t,i),e!==null?e.sibling:null);Gi(t);break;case 19:var S=(e.flags&128)!==0;if(f=(i&t.childLanes)!==0,f||(qn(e,t,i,!1),f=(i&t.childLanes)!==0),S){if(f)return ph(e,t,i);t.flags|=128}if(S=t.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),X(st,st.current),f)break;return null;case 22:return t.lanes=0,oh(e,t,i,t.pendingProps);case 24:Hi(t,ut,e.memoizedState.cache)}return Ci(e,t,i)}function vh(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)ft=!0;else{if(!_o(e,i)&&(t.flags&128)===0)return ft=!1,Ap(e,t,i);ft=(e.flags&131072)!==0}else ft=!1,Fe&&(t.flags&1048576)!==0&&Wc(t,ja,t.index);switch(t.lanes=0,t.tag){case 16:e:{var f=t.pendingProps;if(e=Sn(t.elementType),t.type=e,typeof e=="function")El(e)?(f=Tn(e,f),t.tag=1,t=hh(null,t,e,f,i)):(t.tag=0,t=mo(null,t,e,f,i));else{if(e!=null){var S=e.$$typeof;if(S===T){t.tag=11,t=rh(null,t,e,f,i);break e}else if(S===k){t.tag=14,t=sh(null,t,e,f,i);break e}}throw t=re(e)||e,Error(v(306,t,""))}}return t;case 0:return mo(e,t,t.type,t.pendingProps,i);case 1:return f=t.type,S=Tn(f,t.pendingProps),hh(e,t,f,S,i);case 3:e:{if(le(t,t.stateNode.containerInfo),e===null)throw Error(v(387));f=t.pendingProps;var x=t.memoizedState;S=x.element,Ul(e,t),Fa(t,f,null,i);var O=t.memoizedState;if(f=O.cache,Hi(t,ut,f),f!==x.cache&&Rl(t,[ut],i,!0),Pa(),f=O.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:O.cache},t.updateQueue.baseState=x,t.memoizedState=x,t.flags&256){t=dh(e,t,f,i);break e}else if(f!==S){S=qt(Error(v(424)),t),La(S),t=dh(e,t,f,i);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ke=Jt(e.firstChild),bt=t,Fe=!0,Pi=null,Zt=!0,i=of(t,null,f,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(pn(),f===S){t=Ci(e,t,i);break e}xt(e,t,f,i)}t=t.child}return t;case 26:return as(e,t),e===null?(i=Md(t.type,null,t.pendingProps,null))?t.memoizedState=i:Fe||(i=t.type,e=t.pendingProps,f=xs(Y.current).createElement(i),f[yt]=t,f[Mt]=e,_t(f,i,e),mt(f),t.stateNode=f):t.memoizedState=Md(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ve(t),e===null&&Fe&&(f=t.stateNode=wd(t.type,t.pendingProps,Y.current),bt=t,Zt=!0,S=Ke,$i(t.type)?(tu=S,Ke=Jt(f.firstChild)):Ke=S),xt(e,t,t.pendingProps.children,i),as(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Fe&&((S=f=Ke)&&(f=rv(f,t.type,t.pendingProps,Zt),f!==null?(t.stateNode=f,bt=t,Ke=Jt(f.firstChild),Zt=!1,S=!0):S=!1),S||Fi(t)),ve(t),S=t.type,x=t.pendingProps,O=e!==null?e.memoizedProps:null,f=x.children,Zo(S,x)?f=null:O!==null&&Zo(S,O)&&(t.flags|=32),t.memoizedState!==null&&(S=Wl(e,t,Sp,null,null,i),rr._currentValue=S),as(e,t),xt(e,t,f,i),t.child;case 6:return e===null&&Fe&&((e=i=Ke)&&(i=sv(i,t.pendingProps,Zt),i!==null?(t.stateNode=i,bt=t,Ke=null,e=!0):e=!1),e||Fi(t)),null;case 13:return gh(e,t,i);case 4:return le(t,t.stateNode.containerInfo),f=t.pendingProps,e===null?t.child=_n(t,null,f,i):xt(e,t,f,i),t.child;case 11:return rh(e,t,t.type,t.pendingProps,i);case 7:return xt(e,t,t.pendingProps,i),t.child;case 8:return xt(e,t,t.pendingProps.children,i),t.child;case 12:return xt(e,t,t.pendingProps.children,i),t.child;case 10:return f=t.pendingProps,Hi(t,t.type,f.value),xt(e,t,f.children,i),t.child;case 9:return S=t.type._context,f=t.pendingProps.children,yn(t),S=St(S),f=f(S),t.flags|=1,xt(e,t,f,i),t.child;case 14:return sh(e,t,t.type,t.pendingProps,i);case 15:return lh(e,t,t.type,t.pendingProps,i);case 19:return ph(e,t,i);case 31:return Mp(e,t,i);case 22:return oh(e,t,i,t.pendingProps);case 24:return yn(t),f=St(ut),e===null?(S=Pl(),S===null&&(S=Ze,x=Nl(),S.pooledCache=x,x.refCount++,x!==null&&(S.pooledCacheLanes|=i),S=x),t.memoizedState={parent:f,cache:S},Hl(t),Hi(t,ut,S)):((e.lanes&i)!==0&&(Ul(e,t),Fa(t,null,null,i),Pa()),S=e.memoizedState,x=t.memoizedState,S.parent!==f?(S={parent:f,cache:f},t.memoizedState=S,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=S),Hi(t,ut,f)):(f=x.cache,Hi(t,ut,f),f!==S.cache&&Rl(t,[ut],i,!0))),xt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(v(156,t.tag))}function Ti(e){e.flags|=4}function Co(e,t,i,f,S){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(S&335544128)===S)if(e.stateNode.complete)e.flags|=8192;else if(Gh())e.flags|=8192;else throw xn=Xr,Fl}else e.flags&=-16777217}function yh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!kd(t))if(Gh())e.flags|=8192;else throw xn=Xr,Fl}function ss(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Zu():536870912,e.lanes|=t,ra|=t)}function Va(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var f=null;i!==null;)i.alternate!==null&&(f=i),i=i.sibling;f===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:f.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,f=0;if(t)for(var S=e.child;S!==null;)i|=S.lanes|S.childLanes,f|=S.subtreeFlags&65011712,f|=S.flags&65011712,S.return=e,S=S.sibling;else for(S=e.child;S!==null;)i|=S.lanes|S.childLanes,f|=S.subtreeFlags,f|=S.flags,S.return=e,S=S.sibling;return e.subtreeFlags|=f,e.childLanes=i,t}function Dp(e,t,i){var f=t.pendingProps;switch(Dl(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return Je(t),null;case 3:return i=t.stateNode,f=null,e!==null&&(f=e.memoizedState.cache),t.memoizedState.cache!==f&&(t.flags|=2048),Si(ut),te(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(In(t)?Ti(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ll())),Je(t),null;case 26:var S=t.type,x=t.memoizedState;return e===null?(Ti(t),x!==null?(Je(t),yh(t,x)):(Je(t),Co(t,S,null,f,i))):x?x!==e.memoizedState?(Ti(t),Je(t),yh(t,x)):(Je(t),t.flags&=-16777217):(e=e.memoizedProps,e!==f&&Ti(t),Je(t),Co(t,S,e,f,i)),null;case 27:if(Se(t),i=Y.current,S=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==f&&Ti(t);else{if(!f){if(t.stateNode===null)throw Error(v(166));return Je(t),null}e=P.current,In(t)?Zc(t):(e=wd(S,f,i),t.stateNode=e,Ti(t))}return Je(t),null;case 5:if(Se(t),S=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==f&&Ti(t);else{if(!f){if(t.stateNode===null)throw Error(v(166));return Je(t),null}if(x=P.current,In(t))Zc(t);else{var O=xs(Y.current);switch(x){case 1:x=O.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:x=O.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":x=O.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":x=O.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":x=O.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof f.is=="string"?O.createElement("select",{is:f.is}):O.createElement("select"),f.multiple?x.multiple=!0:f.size&&(x.size=f.size);break;default:x=typeof f.is=="string"?O.createElement(S,{is:f.is}):O.createElement(S)}}x[yt]=t,x[Mt]=f;e:for(O=t.child;O!==null;){if(O.tag===5||O.tag===6)x.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===t)break e;for(;O.sibling===null;){if(O.return===null||O.return===t)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}t.stateNode=x;e:switch(_t(x,S,f),S){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Ti(t)}}return Je(t),Co(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==f&&Ti(t);else{if(typeof f!="string"&&t.stateNode===null)throw Error(v(166));if(e=Y.current,In(t)){if(e=t.stateNode,i=t.memoizedProps,f=null,S=bt,S!==null)switch(S.tag){case 27:case 5:f=S.memoizedProps}e[yt]=t,e=!!(e.nodeValue===i||f!==null&&f.suppressHydrationWarning===!0||gd(e.nodeValue,i)),e||Fi(t,!0)}else e=xs(e).createTextNode(f),e[yt]=t,t.stateNode=e}return Je(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(f=In(t),i!==null){if(e===null){if(!f)throw Error(v(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(v(557));e[yt]=t}else pn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Je(t),e=!1}else i=Ll(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Pt(t),t):(Pt(t),null);if((t.flags&128)!==0)throw Error(v(558))}return Je(t),null;case 13:if(f=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(S=In(t),f!==null&&f.dehydrated!==null){if(e===null){if(!S)throw Error(v(318));if(S=t.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(v(317));S[yt]=t}else pn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Je(t),S=!1}else S=Ll(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=S),S=!0;if(!S)return t.flags&256?(Pt(t),t):(Pt(t),null)}return Pt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=f!==null,e=e!==null&&e.memoizedState!==null,i&&(f=t.child,S=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(S=f.alternate.memoizedState.cachePool.pool),x=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),x!==S&&(f.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),ss(t,t.updateQueue),Je(t),null);case 4:return te(),e===null&&Vo(t.stateNode.containerInfo),Je(t),null;case 10:return Si(t.type),Je(t),null;case 19:if(B(st),f=t.memoizedState,f===null)return Je(t),null;if(S=(t.flags&128)!==0,x=f.rendering,x===null)if(S)Va(f,!1);else{if(rt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(x=qr(e),x!==null){for(t.flags|=128,Va(f,!1),e=x.updateQueue,t.updateQueue=e,ss(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Vc(i,e),i=i.sibling;return X(st,st.current&1|2),Fe&&yi(t,f.treeForkCount),t.child}e=e.sibling}f.tail!==null&&Oe()>fs&&(t.flags|=128,S=!0,Va(f,!1),t.lanes=4194304)}else{if(!S)if(e=qr(x),e!==null){if(t.flags|=128,S=!0,e=e.updateQueue,t.updateQueue=e,ss(t,e),Va(f,!0),f.tail===null&&f.tailMode==="hidden"&&!x.alternate&&!Fe)return Je(t),null}else 2*Oe()-f.renderingStartTime>fs&&i!==536870912&&(t.flags|=128,S=!0,Va(f,!1),t.lanes=4194304);f.isBackwards?(x.sibling=t.child,t.child=x):(e=f.last,e!==null?e.sibling=x:t.child=x,f.last=x)}return f.tail!==null?(e=f.tail,f.rendering=e,f.tail=e.sibling,f.renderingStartTime=Oe(),e.sibling=null,i=st.current,X(st,S?i&1|2:i&1),Fe&&yi(t,f.treeForkCount),e):(Je(t),null);case 22:case 23:return Pt(t),Vl(),f=t.memoizedState!==null,e!==null?e.memoizedState!==null!==f&&(t.flags|=8192):f&&(t.flags|=8192),f?(i&536870912)!==0&&(t.flags&128)===0&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),i=t.updateQueue,i!==null&&ss(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),f=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(f=t.memoizedState.cachePool.pool),f!==i&&(t.flags|=2048),e!==null&&B(bn),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Si(ut),Je(t),null;case 25:return null;case 30:return null}throw Error(v(156,t.tag))}function jp(e,t){switch(Dl(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Si(ut),te(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Se(t),null;case 31:if(t.memoizedState!==null){if(Pt(t),t.alternate===null)throw Error(v(340));pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Pt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(v(340));pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(st),null;case 4:return te(),null;case 10:return Si(t.type),null;case 22:case 23:return Pt(t),Vl(),e!==null&&B(bn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Si(ut),null;case 25:return null;default:return null}}function bh(e,t){switch(Dl(t),t.tag){case 3:Si(ut),te();break;case 26:case 27:case 5:Se(t);break;case 4:te();break;case 31:t.memoizedState!==null&&Pt(t);break;case 13:Pt(t);break;case 19:B(st);break;case 10:Si(t.type);break;case 22:case 23:Pt(t),Vl(),e!==null&&B(bn);break;case 24:Si(ut)}}function Ia(e,t){try{var i=t.updateQueue,f=i!==null?i.lastEffect:null;if(f!==null){var S=f.next;i=S;do{if((i.tag&e)===e){f=void 0;var x=i.create,O=i.inst;f=x(),O.destroy=f}i=i.next}while(i!==S)}}catch(R){Ve(t,t.return,R)}}function Ii(e,t,i){try{var f=t.updateQueue,S=f!==null?f.lastEffect:null;if(S!==null){var x=S.next;f=x;do{if((f.tag&e)===e){var O=f.inst,R=O.destroy;if(R!==void 0){O.destroy=void 0,S=t;var U=i,ne=R;try{ne()}catch(he){Ve(S,U,he)}}}f=f.next}while(f!==x)}}catch(he){Ve(t,t.return,he)}}function Sh(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{cf(t,i)}catch(f){Ve(e,e.return,f)}}}function xh(e,t,i){i.props=Tn(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(f){Ve(e,t,f)}}function qa(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var f=e.stateNode;break;case 30:f=e.stateNode;break;default:f=e.stateNode}typeof i=="function"?e.refCleanup=i(f):i.current=f}}catch(S){Ve(e,t,S)}}function ui(e,t){var i=e.ref,f=e.refCleanup;if(i!==null)if(typeof f=="function")try{f()}catch(S){Ve(e,t,S)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(S){Ve(e,t,S)}else i.current=null}function _h(e){var t=e.type,i=e.memoizedProps,f=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&f.focus();break e;case"img":i.src?f.src=i.src:i.srcSet&&(f.srcset=i.srcSet)}}catch(S){Ve(e,e.return,S)}}function To(e,t,i){try{var f=e.stateNode;$p(f,e.type,i,t),f[Mt]=t}catch(S){Ve(e,e.return,S)}}function Ch(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$i(e.type)||e.tag===4}function wo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ch(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$i(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Eo(e,t,i){var f=e.tag;if(f===5||f===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=mi));else if(f!==4&&(f===27&&$i(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Eo(e,t,i),e=e.sibling;e!==null;)Eo(e,t,i),e=e.sibling}function ls(e,t,i){var f=e.tag;if(f===5||f===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(f!==4&&(f===27&&$i(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ls(e,t,i),e=e.sibling;e!==null;)ls(e,t,i),e=e.sibling}function Th(e){var t=e.stateNode,i=e.memoizedProps;try{for(var f=e.type,S=t.attributes;S.length;)t.removeAttributeNode(S[0]);_t(t,f,i),t[yt]=e,t[Mt]=i}catch(x){Ve(e,e.return,x)}}var wi=!1,ht=!1,Oo=!1,wh=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Lp(e,t){if(e=e.containerInfo,Wo=Ms,e=Nc(e),bl(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var f=i.getSelection&&i.getSelection();if(f&&f.rangeCount!==0){i=f.anchorNode;var S=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{i.nodeType,x.nodeType}catch{i=null;break e}var O=0,R=-1,U=-1,ne=0,he=0,ye=e,ae=null;t:for(;;){for(var se;ye!==i||S!==0&&ye.nodeType!==3||(R=O+S),ye!==x||f!==0&&ye.nodeType!==3||(U=O+f),ye.nodeType===3&&(O+=ye.nodeValue.length),(se=ye.firstChild)!==null;)ae=ye,ye=se;for(;;){if(ye===e)break t;if(ae===i&&++ne===S&&(R=O),ae===x&&++he===f&&(U=O),(se=ye.nextSibling)!==null)break;ye=ae,ae=ye.parentNode}ye=se}i=R===-1||U===-1?null:{start:R,end:U}}else i=null}i=i||{start:0,end:0}}else i=null;for(Qo={focusedElem:e,selectionRange:i},Ms=!1,pt=t;pt!==null;)if(t=pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pt=e;else for(;pt!==null;){switch(t=pt,x=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)S=e[i],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&x!==null){e=void 0,i=t,S=x.memoizedProps,x=x.memoizedState,f=i.stateNode;try{var Ce=Tn(i.type,S);e=f.getSnapshotBeforeUpdate(Ce,x),f.__reactInternalSnapshotBeforeUpdate=e}catch(Ae){Ve(i,i.return,Ae)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Jo(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Jo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(v(163))}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}}function Eh(e,t,i){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Oi(e,i),f&4&&Ia(5,i);break;case 1:if(Oi(e,i),f&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(O){Ve(i,i.return,O)}else{var S=Tn(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(S,t,e.__reactInternalSnapshotBeforeUpdate)}catch(O){Ve(i,i.return,O)}}f&64&&Sh(i),f&512&&qa(i,i.return);break;case 3:if(Oi(e,i),f&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{cf(e,t)}catch(O){Ve(i,i.return,O)}}break;case 27:t===null&&f&4&&Th(i);case 26:case 5:Oi(e,i),t===null&&f&4&&_h(i),f&512&&qa(i,i.return);break;case 12:Oi(e,i);break;case 31:Oi(e,i),f&4&&Ah(e,i);break;case 13:Oi(e,i),f&4&&Dh(e,i),f&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=Up.bind(null,i),lv(e,i))));break;case 22:if(f=i.memoizedState!==null||wi,!f){t=t!==null&&t.memoizedState!==null||ht,S=wi;var x=ht;wi=f,(ht=t)&&!x?Mi(e,i,(i.subtreeFlags&8772)!==0):Oi(e,i),wi=S,ht=x}break;case 30:break;default:Oi(e,i)}}function Oh(e){var t=e.alternate;t!==null&&(e.alternate=null,Oh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&il(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var et=null,Dt=!1;function Ei(e,t,i){for(i=i.child;i!==null;)Mh(e,t,i),i=i.sibling}function Mh(e,t,i){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(on,i)}catch{}switch(i.tag){case 26:ht||ui(i,t),Ei(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ht||ui(i,t);var f=et,S=Dt;$i(i.type)&&(et=i.stateNode,Dt=!1),Ei(e,t,i),ir(i.stateNode),et=f,Dt=S;break;case 5:ht||ui(i,t);case 6:if(f=et,S=Dt,et=null,Ei(e,t,i),et=f,Dt=S,et!==null)if(Dt)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(i.stateNode)}catch(x){Ve(i,t,x)}else try{et.removeChild(i.stateNode)}catch(x){Ve(i,t,x)}break;case 18:et!==null&&(Dt?(e=et,Sd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),da(e)):Sd(et,i.stateNode));break;case 4:f=et,S=Dt,et=i.stateNode.containerInfo,Dt=!0,Ei(e,t,i),et=f,Dt=S;break;case 0:case 11:case 14:case 15:Ii(2,i,t),ht||Ii(4,i,t),Ei(e,t,i);break;case 1:ht||(ui(i,t),f=i.stateNode,typeof f.componentWillUnmount=="function"&&xh(i,t,f)),Ei(e,t,i);break;case 21:Ei(e,t,i);break;case 22:ht=(f=ht)||i.memoizedState!==null,Ei(e,t,i),ht=f;break;default:Ei(e,t,i)}}function Ah(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{da(e)}catch(i){Ve(t,t.return,i)}}}function Dh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{da(e)}catch(i){Ve(t,t.return,i)}}function kp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new wh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new wh),t;default:throw Error(v(435,e.tag))}}function os(e,t){var i=kp(e);t.forEach(function(f){if(!i.has(f)){i.add(f);var S=Yp.bind(null,e,f);f.then(S,S)}})}function jt(e,t){var i=t.deletions;if(i!==null)for(var f=0;f<i.length;f++){var S=i[f],x=e,O=t,R=O;e:for(;R!==null;){switch(R.tag){case 27:if($i(R.type)){et=R.stateNode,Dt=!1;break e}break;case 5:et=R.stateNode,Dt=!1;break e;case 3:case 4:et=R.stateNode.containerInfo,Dt=!0;break e}R=R.return}if(et===null)throw Error(v(160));Mh(x,O,S),et=null,Dt=!1,x=S.alternate,x!==null&&(x.return=null),S.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)jh(t,e),t=t.sibling}var ii=null;function jh(e,t){var i=e.alternate,f=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jt(t,e),Lt(e),f&4&&(Ii(3,e,e.return),Ia(3,e),Ii(5,e,e.return));break;case 1:jt(t,e),Lt(e),f&512&&(ht||i===null||ui(i,i.return)),f&64&&wi&&(e=e.updateQueue,e!==null&&(f=e.callbacks,f!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?f:i.concat(f))));break;case 26:var S=ii;if(jt(t,e),Lt(e),f&512&&(ht||i===null||ui(i,i.return)),f&4){var x=i!==null?i.memoizedState:null;if(f=e.memoizedState,i===null)if(f===null)if(e.stateNode===null){e:{f=e.type,i=e.memoizedProps,S=S.ownerDocument||S;t:switch(f){case"title":x=S.getElementsByTagName("title")[0],(!x||x[Sa]||x[yt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=S.createElement(f),S.head.insertBefore(x,S.querySelector("head > title"))),_t(x,f,i),x[yt]=e,mt(x),f=x;break e;case"link":var O=jd("link","href",S).get(f+(i.href||""));if(O){for(var R=0;R<O.length;R++)if(x=O[R],x.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&x.getAttribute("rel")===(i.rel==null?null:i.rel)&&x.getAttribute("title")===(i.title==null?null:i.title)&&x.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){O.splice(R,1);break t}}x=S.createElement(f),_t(x,f,i),S.head.appendChild(x);break;case"meta":if(O=jd("meta","content",S).get(f+(i.content||""))){for(R=0;R<O.length;R++)if(x=O[R],x.getAttribute("content")===(i.content==null?null:""+i.content)&&x.getAttribute("name")===(i.name==null?null:i.name)&&x.getAttribute("property")===(i.property==null?null:i.property)&&x.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&x.getAttribute("charset")===(i.charSet==null?null:i.charSet)){O.splice(R,1);break t}}x=S.createElement(f),_t(x,f,i),S.head.appendChild(x);break;default:throw Error(v(468,f))}x[yt]=e,mt(x),f=x}e.stateNode=f}else Ld(S,e.type,e.stateNode);else e.stateNode=Dd(S,f,e.memoizedProps);else x!==f?(x===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):x.count--,f===null?Ld(S,e.type,e.stateNode):Dd(S,f,e.memoizedProps)):f===null&&e.stateNode!==null&&To(e,e.memoizedProps,i.memoizedProps)}break;case 27:jt(t,e),Lt(e),f&512&&(ht||i===null||ui(i,i.return)),i!==null&&f&4&&To(e,e.memoizedProps,i.memoizedProps);break;case 5:if(jt(t,e),Lt(e),f&512&&(ht||i===null||ui(i,i.return)),e.flags&32){S=e.stateNode;try{Nn(S,"")}catch(Ce){Ve(e,e.return,Ce)}}f&4&&e.stateNode!=null&&(S=e.memoizedProps,To(e,S,i!==null?i.memoizedProps:S)),f&1024&&(Oo=!0);break;case 6:if(jt(t,e),Lt(e),f&4){if(e.stateNode===null)throw Error(v(162));f=e.memoizedProps,i=e.stateNode;try{i.nodeValue=f}catch(Ce){Ve(e,e.return,Ce)}}break;case 3:if(Ts=null,S=ii,ii=_s(t.containerInfo),jt(t,e),ii=S,Lt(e),f&4&&i!==null&&i.memoizedState.isDehydrated)try{da(t.containerInfo)}catch(Ce){Ve(e,e.return,Ce)}Oo&&(Oo=!1,Lh(e));break;case 4:f=ii,ii=_s(e.stateNode.containerInfo),jt(t,e),Lt(e),ii=f;break;case 12:jt(t,e),Lt(e);break;case 31:jt(t,e),Lt(e),f&4&&(f=e.updateQueue,f!==null&&(e.updateQueue=null,os(e,f)));break;case 13:jt(t,e),Lt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(cs=Oe()),f&4&&(f=e.updateQueue,f!==null&&(e.updateQueue=null,os(e,f)));break;case 22:S=e.memoizedState!==null;var U=i!==null&&i.memoizedState!==null,ne=wi,he=ht;if(wi=ne||S,ht=he||U,jt(t,e),ht=he,wi=ne,Lt(e),f&8192)e:for(t=e.stateNode,t._visibility=S?t._visibility&-2:t._visibility|1,S&&(i===null||U||wi||ht||wn(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){U=i=t;try{if(x=U.stateNode,S)O=x.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{R=U.stateNode;var ye=U.memoizedProps.style,ae=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;R.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Ce){Ve(U,U.return,Ce)}}}else if(t.tag===6){if(i===null){U=t;try{U.stateNode.nodeValue=S?"":U.memoizedProps}catch(Ce){Ve(U,U.return,Ce)}}}else if(t.tag===18){if(i===null){U=t;try{var se=U.stateNode;S?xd(se,!0):xd(U.stateNode,!1)}catch(Ce){Ve(U,U.return,Ce)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}f&4&&(f=e.updateQueue,f!==null&&(i=f.retryQueue,i!==null&&(f.retryQueue=null,os(e,i))));break;case 19:jt(t,e),Lt(e),f&4&&(f=e.updateQueue,f!==null&&(e.updateQueue=null,os(e,f)));break;case 30:break;case 21:break;default:jt(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{for(var i,f=e.return;f!==null;){if(Ch(f)){i=f;break}f=f.return}if(i==null)throw Error(v(160));switch(i.tag){case 27:var S=i.stateNode,x=wo(e);ls(e,x,S);break;case 5:var O=i.stateNode;i.flags&32&&(Nn(O,""),i.flags&=-33);var R=wo(e);ls(e,R,O);break;case 3:case 4:var U=i.stateNode.containerInfo,ne=wo(e);Eo(e,ne,U);break;default:throw Error(v(161))}}catch(he){Ve(e,e.return,he)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Lh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Oi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Eh(e,t.alternate,t),t=t.sibling}function wn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ii(4,t,t.return),wn(t);break;case 1:ui(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&xh(t,t.return,i),wn(t);break;case 27:ir(t.stateNode);case 26:case 5:ui(t,t.return),wn(t);break;case 22:t.memoizedState===null&&wn(t);break;case 30:wn(t);break;default:wn(t)}e=e.sibling}}function Mi(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var f=t.alternate,S=e,x=t,O=x.flags;switch(x.tag){case 0:case 11:case 15:Mi(S,x,i),Ia(4,x);break;case 1:if(Mi(S,x,i),f=x,S=f.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(ne){Ve(f,f.return,ne)}if(f=x,S=f.updateQueue,S!==null){var R=f.stateNode;try{var U=S.shared.hiddenCallbacks;if(U!==null)for(S.shared.hiddenCallbacks=null,S=0;S<U.length;S++)uf(U[S],R)}catch(ne){Ve(f,f.return,ne)}}i&&O&64&&Sh(x),qa(x,x.return);break;case 27:Th(x);case 26:case 5:Mi(S,x,i),i&&f===null&&O&4&&_h(x),qa(x,x.return);break;case 12:Mi(S,x,i);break;case 31:Mi(S,x,i),i&&O&4&&Ah(S,x);break;case 13:Mi(S,x,i),i&&O&4&&Dh(S,x);break;case 22:x.memoizedState===null&&Mi(S,x,i),qa(x,x.return);break;case 30:break;default:Mi(S,x,i)}t=t.sibling}}function Mo(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&ka(i))}function Ao(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ka(e))}function ni(e,t,i,f){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kh(e,t,i,f),t=t.sibling}function kh(e,t,i,f){var S=t.flags;switch(t.tag){case 0:case 11:case 15:ni(e,t,i,f),S&2048&&Ia(9,t);break;case 1:ni(e,t,i,f);break;case 3:ni(e,t,i,f),S&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ka(e)));break;case 12:if(S&2048){ni(e,t,i,f),e=t.stateNode;try{var x=t.memoizedProps,O=x.id,R=x.onPostCommit;typeof R=="function"&&R(O,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){Ve(t,t.return,U)}}else ni(e,t,i,f);break;case 31:ni(e,t,i,f);break;case 13:ni(e,t,i,f);break;case 23:break;case 22:x=t.stateNode,O=t.alternate,t.memoizedState!==null?x._visibility&2?ni(e,t,i,f):Wa(e,t):x._visibility&2?ni(e,t,i,f):(x._visibility|=2,ia(e,t,i,f,(t.subtreeFlags&10256)!==0||!1)),S&2048&&Mo(O,t);break;case 24:ni(e,t,i,f),S&2048&&Ao(t.alternate,t);break;default:ni(e,t,i,f)}}function ia(e,t,i,f,S){for(S=S&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var x=e,O=t,R=i,U=f,ne=O.flags;switch(O.tag){case 0:case 11:case 15:ia(x,O,R,U,S),Ia(8,O);break;case 23:break;case 22:var he=O.stateNode;O.memoizedState!==null?he._visibility&2?ia(x,O,R,U,S):Wa(x,O):(he._visibility|=2,ia(x,O,R,U,S)),S&&ne&2048&&Mo(O.alternate,O);break;case 24:ia(x,O,R,U,S),S&&ne&2048&&Ao(O.alternate,O);break;default:ia(x,O,R,U,S)}t=t.sibling}}function Wa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,f=t,S=f.flags;switch(f.tag){case 22:Wa(i,f),S&2048&&Mo(f.alternate,f);break;case 24:Wa(i,f),S&2048&&Ao(f.alternate,f);break;default:Wa(i,f)}t=t.sibling}}var Qa=8192;function na(e,t,i){if(e.subtreeFlags&Qa)for(e=e.child;e!==null;)zh(e,t,i),e=e.sibling}function zh(e,t,i){switch(e.tag){case 26:na(e,t,i),e.flags&Qa&&e.memoizedState!==null&&bv(i,ii,e.memoizedState,e.memoizedProps);break;case 5:na(e,t,i);break;case 3:case 4:var f=ii;ii=_s(e.stateNode.containerInfo),na(e,t,i),ii=f;break;case 22:e.memoizedState===null&&(f=e.alternate,f!==null&&f.memoizedState!==null?(f=Qa,Qa=16777216,na(e,t,i),Qa=f):na(e,t,i));break;default:na(e,t,i)}}function Rh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Za(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var f=t[i];pt=f,Bh(f,e)}Rh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Nh(e),e=e.sibling}function Nh(e){switch(e.tag){case 0:case 11:case 15:Za(e),e.flags&2048&&Ii(9,e,e.return);break;case 3:Za(e);break;case 12:Za(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,us(e)):Za(e);break;default:Za(e)}}function us(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var f=t[i];pt=f,Bh(f,e)}Rh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ii(8,t,t.return),us(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,us(t));break;default:us(t)}e=e.sibling}}function Bh(e,t){for(;pt!==null;){var i=pt;switch(i.tag){case 0:case 11:case 15:Ii(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var f=i.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:ka(i.memoizedState.cache)}if(f=i.child,f!==null)f.return=i,pt=f;else e:for(i=e;pt!==null;){f=pt;var S=f.sibling,x=f.return;if(Oh(f),f===i){pt=null;break e}if(S!==null){S.return=x,pt=S;break e}pt=x}}}var zp={getCacheForType:function(e){var t=St(ut),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return St(ut).controller.signal}},Rp=typeof WeakMap=="function"?WeakMap:Map,Xe=0,Ze=null,ze=null,Be=0,Ge=0,Ft=null,qi=!1,aa=!1,Do=!1,Ai=0,rt=0,Wi=0,En=0,jo=0,Ht=0,ra=0,Ka=null,kt=null,Lo=!1,cs=0,Ph=0,fs=1/0,hs=null,Qi=null,gt=0,Zi=null,sa=null,Di=0,ko=0,zo=null,Fh=null,Ja=0,Ro=null;function Ut(){return(Xe&2)!==0&&Be!==0?Be&-Be:I.T!==null?Uo():ec()}function Hh(){if(Ht===0)if((Be&536870912)===0||Fe){var e=Sr;Sr<<=1,(Sr&3932160)===0&&(Sr=262144),Ht=e}else Ht=536870912;return e=Bt.current,e!==null&&(e.flags|=32),Ht}function zt(e,t,i){(e===Ze&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)&&(la(e,0),Ki(e,Be,Ht,!1)),ba(e,i),((Xe&2)===0||e!==Ze)&&(e===Ze&&((Xe&2)===0&&(En|=i),rt===4&&Ki(e,Be,Ht,!1)),ci(e))}function Uh(e,t,i){if((Xe&6)!==0)throw Error(v(327));var f=!i&&(t&127)===0&&(t&e.expiredLanes)===0||ya(e,t),S=f?Pp(e,t):Bo(e,t,!0),x=f;do{if(S===0){aa&&!f&&Ki(e,t,0,!1);break}else{if(i=e.current.alternate,x&&!Np(i)){S=Bo(e,t,!1),x=!1;continue}if(S===2){if(x=t,e.errorRecoveryDisabledLanes&x)var O=0;else O=e.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){t=O;e:{var R=e;S=Ka;var U=R.current.memoizedState.isDehydrated;if(U&&(la(R,O).flags|=256),O=Bo(R,O,!1),O!==2){if(Do&&!U){R.errorRecoveryDisabledLanes|=x,En|=x,S=4;break e}x=kt,kt=S,x!==null&&(kt===null?kt=x:kt.push.apply(kt,x))}S=O}if(x=!1,S!==2)continue}}if(S===1){la(e,0),Ki(e,t,0,!0);break}e:{switch(f=e,x=S,x){case 0:case 1:throw Error(v(345));case 4:if((t&4194048)!==t)break;case 6:Ki(f,t,Ht,!qi);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(v(329))}if((t&62914560)===t&&(S=cs+300-Oe(),10<S)){if(Ki(f,t,Ht,!qi),_r(f,0,!0)!==0)break e;Di=t,f.timeoutHandle=yd(Yh.bind(null,f,i,kt,hs,Lo,t,Ht,En,ra,qi,x,"Throttled",-0,0),S);break e}Yh(f,i,kt,hs,Lo,t,Ht,En,ra,qi,x,null,-0,0)}}break}while(!0);ci(e)}function Yh(e,t,i,f,S,x,O,R,U,ne,he,ye,ae,se){if(e.timeoutHandle=-1,ye=t.subtreeFlags,ye&8192||(ye&16785408)===16785408){ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mi},zh(t,x,ye);var Ce=(x&62914560)===x?cs-Oe():(x&4194048)===x?Ph-Oe():0;if(Ce=Sv(ye,Ce),Ce!==null){Di=x,e.cancelPendingCommit=Ce(Zh.bind(null,e,t,x,i,f,S,O,R,U,he,ye,null,ae,se)),Ki(e,x,O,!ne);return}}Zh(e,t,x,i,f,S,O,R,U)}function Np(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var f=0;f<i.length;f++){var S=i[f],x=S.getSnapshot;S=S.value;try{if(!Rt(x(),S))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ki(e,t,i,f){t&=~jo,t&=~En,e.suspendedLanes|=t,e.pingedLanes&=~t,f&&(e.warmLanes|=t),f=e.expirationTimes;for(var S=t;0<S;){var x=31-wt(S),O=1<<x;f[x]=-1,S&=~O}i!==0&&Ku(e,i,t)}function ds(){return(Xe&6)===0?($a(0),!1):!0}function No(){if(ze!==null){if(Ge===0)var e=ze.return;else e=ze,bi=vn=null,Kl(e),Kn=null,Ra=0,e=ze;for(;e!==null;)bh(e.alternate,e),e=e.return;ze=null}}function la(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,iv(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Di=0,No(),Ze=e,ze=i=vi(e.current,null),Be=t,Ge=0,Ft=null,qi=!1,aa=ya(e,t),Do=!1,ra=Ht=jo=En=Wi=rt=0,kt=Ka=null,Lo=!1,(t&8)!==0&&(t|=t&32);var f=e.entangledLanes;if(f!==0)for(e=e.entanglements,f&=t;0<f;){var S=31-wt(f),x=1<<S;t|=e[S],f&=~x}return Ai=t,zr(),i}function Xh(e,t){Le=null,I.H=Xa,t===Zn||t===Yr?(t=rf(),Ge=3):t===Fl?(t=rf(),Ge=4):Ge=t===go?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ft=t,ze===null&&(rt=1,is(e,qt(t,e.current)))}function Gh(){var e=Bt.current;return e===null?!0:(Be&4194048)===Be?Kt===null:(Be&62914560)===Be||(Be&536870912)!==0?e===Kt:!1}function Vh(){var e=I.H;return I.H=Xa,e===null?Xa:e}function Ih(){var e=I.A;return I.A=zp,e}function gs(){rt=4,qi||(Be&4194048)!==Be&&Bt.current!==null||(aa=!0),(Wi&134217727)===0&&(En&134217727)===0||Ze===null||Ki(Ze,Be,Ht,!1)}function Bo(e,t,i){var f=Xe;Xe|=2;var S=Vh(),x=Ih();(Ze!==e||Be!==t)&&(hs=null,la(e,t)),t=!1;var O=rt;e:do try{if(Ge!==0&&ze!==null){var R=ze,U=Ft;switch(Ge){case 8:No(),O=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(t=!0);var ne=Ge;if(Ge=0,Ft=null,oa(e,R,U,ne),i&&aa){O=0;break e}break;default:ne=Ge,Ge=0,Ft=null,oa(e,R,U,ne)}}Bp(),O=rt;break}catch(he){Xh(e,he)}while(!0);return t&&e.shellSuspendCounter++,bi=vn=null,Xe=f,I.H=S,I.A=x,ze===null&&(Ze=null,Be=0,zr()),O}function Bp(){for(;ze!==null;)qh(ze)}function Pp(e,t){var i=Xe;Xe|=2;var f=Vh(),S=Ih();Ze!==e||Be!==t?(hs=null,fs=Oe()+500,la(e,t)):aa=ya(e,t);e:do try{if(Ge!==0&&ze!==null){t=ze;var x=Ft;t:switch(Ge){case 1:Ge=0,Ft=null,oa(e,t,x,1);break;case 2:case 9:if(nf(x)){Ge=0,Ft=null,Wh(t);break}t=function(){Ge!==2&&Ge!==9||Ze!==e||(Ge=7),ci(e)},x.then(t,t);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:nf(x)?(Ge=0,Ft=null,Wh(t)):(Ge=0,Ft=null,oa(e,t,x,7));break;case 5:var O=null;switch(ze.tag){case 26:O=ze.memoizedState;case 5:case 27:var R=ze;if(O?kd(O):R.stateNode.complete){Ge=0,Ft=null;var U=R.sibling;if(U!==null)ze=U;else{var ne=R.return;ne!==null?(ze=ne,ms(ne)):ze=null}break t}}Ge=0,Ft=null,oa(e,t,x,5);break;case 6:Ge=0,Ft=null,oa(e,t,x,6);break;case 8:No(),rt=6;break e;default:throw Error(v(462))}}Fp();break}catch(he){Xh(e,he)}while(!0);return bi=vn=null,I.H=f,I.A=S,Xe=i,ze!==null?0:(Ze=null,Be=0,zr(),rt)}function Fp(){for(;ze!==null&&!ge();)qh(ze)}function qh(e){var t=vh(e.alternate,e,Ai);e.memoizedProps=e.pendingProps,t===null?ms(e):ze=t}function Wh(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=fh(i,t,t.pendingProps,t.type,void 0,Be);break;case 11:t=fh(i,t,t.pendingProps,t.type.render,t.ref,Be);break;case 5:Kl(t);default:bh(i,t),t=ze=Vc(t,Ai),t=vh(i,t,Ai)}e.memoizedProps=e.pendingProps,t===null?ms(e):ze=t}function oa(e,t,i,f){bi=vn=null,Kl(t),Kn=null,Ra=0;var S=t.return;try{if(Op(e,S,t,i,Be)){rt=1,is(e,qt(i,e.current)),ze=null;return}}catch(x){if(S!==null)throw ze=S,x;rt=1,is(e,qt(i,e.current)),ze=null;return}t.flags&32768?(Fe||f===1?e=!0:aa||(Be&536870912)!==0?e=!1:(qi=e=!0,(f===2||f===9||f===3||f===6)&&(f=Bt.current,f!==null&&f.tag===13&&(f.flags|=16384))),Qh(t,e)):ms(t)}function ms(e){var t=e;do{if((t.flags&32768)!==0){Qh(t,qi);return}e=t.return;var i=Dp(t.alternate,t,Ai);if(i!==null){ze=i;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);rt===0&&(rt=5)}function Qh(e,t){do{var i=jp(e.alternate,e);if(i!==null){i.flags&=32767,ze=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){ze=e;return}ze=e=i}while(e!==null);rt=6,ze=null}function Zh(e,t,i,f,S,x,O,R,U){e.cancelPendingCommit=null;do ps();while(gt!==0);if((Xe&6)!==0)throw Error(v(327));if(t!==null){if(t===e.current)throw Error(v(177));if(x=t.lanes|t.childLanes,x|=Tl,ym(e,i,x,O,R,U),e===Ze&&(ze=Ze=null,Be=0),sa=t,Zi=e,Di=i,ko=x,zo=S,Fh=f,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Xp(ot,function(){return td(),null})):(e.callbackNode=null,e.callbackPriority=0),f=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||f){f=I.T,I.T=null,S=J.p,J.p=2,O=Xe,Xe|=4;try{Lp(e,t,i)}finally{Xe=O,J.p=S,I.T=f}}gt=1,Kh(),Jh(),$h()}}function Kh(){if(gt===1){gt=0;var e=Zi,t=sa,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=I.T,I.T=null;var f=J.p;J.p=2;var S=Xe;Xe|=4;try{jh(t,e);var x=Qo,O=Nc(e.containerInfo),R=x.focusedElem,U=x.selectionRange;if(O!==R&&R&&R.ownerDocument&&Rc(R.ownerDocument.documentElement,R)){if(U!==null&&bl(R)){var ne=U.start,he=U.end;if(he===void 0&&(he=ne),"selectionStart"in R)R.selectionStart=ne,R.selectionEnd=Math.min(he,R.value.length);else{var ye=R.ownerDocument||document,ae=ye&&ye.defaultView||window;if(ae.getSelection){var se=ae.getSelection(),Ce=R.textContent.length,Ae=Math.min(U.start,Ce),We=U.end===void 0?Ae:Math.min(U.end,Ce);!se.extend&&Ae>We&&(O=We,We=Ae,Ae=O);var Z=zc(R,Ae),G=zc(R,We);if(Z&&G&&(se.rangeCount!==1||se.anchorNode!==Z.node||se.anchorOffset!==Z.offset||se.focusNode!==G.node||se.focusOffset!==G.offset)){var ie=ye.createRange();ie.setStart(Z.node,Z.offset),se.removeAllRanges(),Ae>We?(se.addRange(ie),se.extend(G.node,G.offset)):(ie.setEnd(G.node,G.offset),se.addRange(ie))}}}}for(ye=[],se=R;se=se.parentNode;)se.nodeType===1&&ye.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ye.length;R++){var me=ye[R];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}Ms=!!Wo,Qo=Wo=null}finally{Xe=S,J.p=f,I.T=i}}e.current=t,gt=2}}function Jh(){if(gt===2){gt=0;var e=Zi,t=sa,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=I.T,I.T=null;var f=J.p;J.p=2;var S=Xe;Xe|=4;try{Eh(e,t.alternate,t)}finally{Xe=S,J.p=f,I.T=i}}gt=3}}function $h(){if(gt===4||gt===3){gt=0,Ee();var e=Zi,t=sa,i=Di,f=Fh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?gt=5:(gt=0,sa=Zi=null,ed(e,e.pendingLanes));var S=e.pendingLanes;if(S===0&&(Qi=null),el(i),t=t.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(on,t,void 0,(t.current.flags&128)===128)}catch{}if(f!==null){t=I.T,S=J.p,J.p=2,I.T=null;try{for(var x=e.onRecoverableError,O=0;O<f.length;O++){var R=f[O];x(R.value,{componentStack:R.stack})}}finally{I.T=t,J.p=S}}(Di&3)!==0&&ps(),ci(e),S=e.pendingLanes,(i&261930)!==0&&(S&42)!==0?e===Ro?Ja++:(Ja=0,Ro=e):Ja=0,$a(0)}}function ed(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ka(t)))}function ps(){return Kh(),Jh(),$h(),td()}function td(){if(gt!==5)return!1;var e=Zi,t=ko;ko=0;var i=el(Di),f=I.T,S=J.p;try{J.p=32>i?32:i,I.T=null,i=zo,zo=null;var x=Zi,O=Di;if(gt=0,sa=Zi=null,Di=0,(Xe&6)!==0)throw Error(v(331));var R=Xe;if(Xe|=4,Nh(x.current),kh(x,x.current,O,i),Xe=R,$a(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(on,x)}catch{}return!0}finally{J.p=S,I.T=f,ed(e,t)}}function id(e,t,i){t=qt(i,t),t=ho(e.stateNode,t,2),e=Xi(e,t,2),e!==null&&(ba(e,2),ci(e))}function Ve(e,t,i){if(e.tag===3)id(e,e,i);else for(;t!==null;){if(t.tag===3){id(t,e,i);break}else if(t.tag===1){var f=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Qi===null||!Qi.has(f))){e=qt(i,e),i=nh(2),f=Xi(t,i,2),f!==null&&(ah(i,f,t,e),ba(f,2),ci(f));break}}t=t.return}}function Po(e,t,i){var f=e.pingCache;if(f===null){f=e.pingCache=new Rp;var S=new Set;f.set(t,S)}else S=f.get(t),S===void 0&&(S=new Set,f.set(t,S));S.has(i)||(Do=!0,S.add(i),e=Hp.bind(null,e,t,i),t.then(e,e))}function Hp(e,t,i){var f=e.pingCache;f!==null&&f.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ze===e&&(Be&i)===i&&(rt===4||rt===3&&(Be&62914560)===Be&&300>Oe()-cs?(Xe&2)===0&&la(e,0):jo|=i,ra===Be&&(ra=0)),ci(e)}function nd(e,t){t===0&&(t=Zu()),e=gn(e,t),e!==null&&(ba(e,t),ci(e))}function Up(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),nd(e,i)}function Yp(e,t){var i=0;switch(e.tag){case 31:case 13:var f=e.stateNode,S=e.memoizedState;S!==null&&(i=S.retryLane);break;case 19:f=e.stateNode;break;case 22:f=e.stateNode._retryCache;break;default:throw Error(v(314))}f!==null&&f.delete(t),nd(e,i)}function Xp(e,t){return De(e,t)}var vs=null,ua=null,Fo=!1,ys=!1,Ho=!1,Ji=0;function ci(e){e!==ua&&e.next===null&&(ua===null?vs=ua=e:ua=ua.next=e),ys=!0,Fo||(Fo=!0,Vp())}function $a(e,t){if(!Ho&&ys){Ho=!0;do for(var i=!1,f=vs;f!==null;){if(e!==0){var S=f.pendingLanes;if(S===0)var x=0;else{var O=f.suspendedLanes,R=f.pingedLanes;x=(1<<31-wt(42|e)+1)-1,x&=S&~(O&~R),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(i=!0,ld(f,x))}else x=Be,x=_r(f,f===Ze?x:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(x&3)===0||ya(f,x)||(i=!0,ld(f,x));f=f.next}while(i);Ho=!1}}function Gp(){ad()}function ad(){ys=Fo=!1;var e=0;Ji!==0&&tv()&&(e=Ji);for(var t=Oe(),i=null,f=vs;f!==null;){var S=f.next,x=rd(f,t);x===0?(f.next=null,i===null?vs=S:i.next=S,S===null&&(ua=i)):(i=f,(e!==0||(x&3)!==0)&&(ys=!0)),f=S}gt!==0&&gt!==5||$a(e),Ji!==0&&(Ji=0)}function rd(e,t){for(var i=e.suspendedLanes,f=e.pingedLanes,S=e.expirationTimes,x=e.pendingLanes&-62914561;0<x;){var O=31-wt(x),R=1<<O,U=S[O];U===-1?((R&i)===0||(R&f)!==0)&&(S[O]=vm(R,t)):U<=t&&(e.expiredLanes|=R),x&=~R}if(t=Ze,i=Be,i=_r(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),f=e.callbackNode,i===0||e===t&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)return f!==null&&f!==null&&Te(f),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||ya(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(f!==null&&Te(f),el(i)){case 2:case 8:i=He;break;case 32:i=ot;break;case 268435456:i=ri;break;default:i=ot}return f=sd.bind(null,e),i=De(i,f),e.callbackPriority=t,e.callbackNode=i,t}return f!==null&&f!==null&&Te(f),e.callbackPriority=2,e.callbackNode=null,2}function sd(e,t){if(gt!==0&&gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(ps()&&e.callbackNode!==i)return null;var f=Be;return f=_r(e,e===Ze?f:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),f===0?null:(Uh(e,f,t),rd(e,Oe()),e.callbackNode!=null&&e.callbackNode===i?sd.bind(null,e):null)}function ld(e,t){if(ps())return null;Uh(e,t,!0)}function Vp(){nv(function(){(Xe&6)!==0?De(Qe,Gp):ad()})}function Uo(){if(Ji===0){var e=Wn;e===0&&(e=br,br<<=1,(br&261888)===0&&(br=256)),Ji=e}return Ji}function od(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Er(""+e)}function ud(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function Ip(e,t,i,f,S){if(t==="submit"&&i&&i.stateNode===S){var x=od((S[Mt]||null).action),O=f.submitter;O&&(t=(t=O[Mt]||null)?od(t.formAction):O.getAttribute("formAction"),t!==null&&(x=t,O=null));var R=new Dr("action","action",null,f,S);e.push({event:R,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ji!==0){var U=O?ud(S,O):new FormData(S);so(i,{pending:!0,data:U,method:S.method,action:x},null,U)}}else typeof x=="function"&&(R.preventDefault(),U=O?ud(S,O):new FormData(S),so(i,{pending:!0,data:U,method:S.method,action:x},x,U))},currentTarget:S}]})}}for(var Yo=0;Yo<Cl.length;Yo++){var Xo=Cl[Yo],qp=Xo.toLowerCase(),Wp=Xo[0].toUpperCase()+Xo.slice(1);ti(qp,"on"+Wp)}ti(Fc,"onAnimationEnd"),ti(Hc,"onAnimationIteration"),ti(Uc,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(cp,"onTransitionRun"),ti(fp,"onTransitionStart"),ti(hp,"onTransitionCancel"),ti(Yc,"onTransitionEnd"),zn("onMouseEnter",["mouseout","mouseover"]),zn("onMouseLeave",["mouseout","mouseover"]),zn("onPointerEnter",["pointerout","pointerover"]),zn("onPointerLeave",["pointerout","pointerover"]),cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(er));function cd(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var f=e[i],S=f.event;f=f.listeners;e:{var x=void 0;if(t)for(var O=f.length-1;0<=O;O--){var R=f[O],U=R.instance,ne=R.currentTarget;if(R=R.listener,U!==x&&S.isPropagationStopped())break e;x=R,S.currentTarget=ne;try{x(S)}catch(he){kr(he)}S.currentTarget=null,x=U}else for(O=0;O<f.length;O++){if(R=f[O],U=R.instance,ne=R.currentTarget,R=R.listener,U!==x&&S.isPropagationStopped())break e;x=R,S.currentTarget=ne;try{x(S)}catch(he){kr(he)}S.currentTarget=null,x=U}}}}function Re(e,t){var i=t[tl];i===void 0&&(i=t[tl]=new Set);var f=e+"__bubble";i.has(f)||(fd(t,e,2,!1),i.add(f))}function Go(e,t,i){var f=0;t&&(f|=4),fd(i,e,f,t)}var bs="_reactListening"+Math.random().toString(36).slice(2);function Vo(e){if(!e[bs]){e[bs]=!0,nc.forEach(function(i){i!=="selectionchange"&&(Qp.has(i)||Go(i,!1,e),Go(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bs]||(t[bs]=!0,Go("selectionchange",!1,t))}}function fd(e,t,i,f){switch(Hd(t)){case 2:var S=Cv;break;case 8:S=Tv;break;default:S=su}i=S.bind(null,t,i,e),S=void 0,!cl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(S=!0),f?S!==void 0?e.addEventListener(t,i,{capture:!0,passive:S}):e.addEventListener(t,i,!0):S!==void 0?e.addEventListener(t,i,{passive:S}):e.addEventListener(t,i,!1)}function Io(e,t,i,f,S){var x=f;if((t&1)===0&&(t&2)===0&&f!==null)e:for(;;){if(f===null)return;var O=f.tag;if(O===3||O===4){var R=f.stateNode.containerInfo;if(R===S)break;if(O===4)for(O=f.return;O!==null;){var U=O.tag;if((U===3||U===4)&&O.stateNode.containerInfo===S)return;O=O.return}for(;R!==null;){if(O=jn(R),O===null)return;if(U=O.tag,U===5||U===6||U===26||U===27){f=x=O;continue e}R=R.parentNode}}f=f.return}mc(function(){var ne=x,he=ol(i),ye=[];e:{var ae=Xc.get(e);if(ae!==void 0){var se=Dr,Ce=e;switch(e){case"keypress":if(Mr(i)===0)break e;case"keydown":case"keyup":se=Ym;break;case"focusin":Ce="focus",se=gl;break;case"focusout":Ce="blur",se=gl;break;case"beforeblur":case"afterblur":se=gl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Dm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Vm;break;case Fc:case Hc:case Uc:se=km;break;case Yc:se=qm;break;case"scroll":case"scrollend":se=Mm;break;case"wheel":se=Qm;break;case"copy":case"cut":case"paste":se=Rm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Sc;break;case"toggle":case"beforetoggle":se=Km}var Ae=(t&4)!==0,We=!Ae&&(e==="scroll"||e==="scrollend"),Z=Ae?ae!==null?ae+"Capture":null:ae;Ae=[];for(var G=ne,ie;G!==null;){var me=G;if(ie=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||ie===null||Z===null||(me=_a(G,Z),me!=null&&Ae.push(tr(G,me,ie))),We)break;G=G.return}0<Ae.length&&(ae=new se(ae,Ce,null,i,he),ye.push({event:ae,listeners:Ae}))}}if((t&7)===0){e:{if(ae=e==="mouseover"||e==="pointerover",se=e==="mouseout"||e==="pointerout",ae&&i!==ll&&(Ce=i.relatedTarget||i.fromElement)&&(jn(Ce)||Ce[Dn]))break e;if((se||ae)&&(ae=he.window===he?he:(ae=he.ownerDocument)?ae.defaultView||ae.parentWindow:window,se?(Ce=i.relatedTarget||i.toElement,se=ne,Ce=Ce?jn(Ce):null,Ce!==null&&(We=w(Ce),Ae=Ce.tag,Ce!==We||Ae!==5&&Ae!==27&&Ae!==6)&&(Ce=null)):(se=null,Ce=ne),se!==Ce)){if(Ae=yc,me="onMouseLeave",Z="onMouseEnter",G="mouse",(e==="pointerout"||e==="pointerover")&&(Ae=Sc,me="onPointerLeave",Z="onPointerEnter",G="pointer"),We=se==null?ae:xa(se),ie=Ce==null?ae:xa(Ce),ae=new Ae(me,G+"leave",se,i,he),ae.target=We,ae.relatedTarget=ie,me=null,jn(he)===ne&&(Ae=new Ae(Z,G+"enter",Ce,i,he),Ae.target=ie,Ae.relatedTarget=We,me=Ae),We=me,se&&Ce)t:{for(Ae=Zp,Z=se,G=Ce,ie=0,me=Z;me;me=Ae(me))ie++;me=0;for(var Me=G;Me;Me=Ae(Me))me++;for(;0<ie-me;)Z=Ae(Z),ie--;for(;0<me-ie;)G=Ae(G),me--;for(;ie--;){if(Z===G||G!==null&&Z===G.alternate){Ae=Z;break t}Z=Ae(Z),G=Ae(G)}Ae=null}else Ae=null;se!==null&&hd(ye,ae,se,Ae,!1),Ce!==null&&We!==null&&hd(ye,We,Ce,Ae,!0)}}e:{if(ae=ne?xa(ne):window,se=ae.nodeName&&ae.nodeName.toLowerCase(),se==="select"||se==="input"&&ae.type==="file")var Ue=Mc;else if(Ec(ae))if(Ac)Ue=lp;else{Ue=rp;var we=ap}else se=ae.nodeName,!se||se.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ne&&sl(ne.elementType)&&(Ue=Mc):Ue=sp;if(Ue&&(Ue=Ue(e,ne))){Oc(ye,Ue,i,he);break e}we&&we(e,ae,ne),e==="focusout"&&ne&&ae.type==="number"&&ne.memoizedProps.value!=null&&rl(ae,"number",ae.value)}switch(we=ne?xa(ne):window,e){case"focusin":(Ec(we)||we.contentEditable==="true")&&(Hn=we,Sl=ne,Da=null);break;case"focusout":Da=Sl=Hn=null;break;case"mousedown":xl=!0;break;case"contextmenu":case"mouseup":case"dragend":xl=!1,Bc(ye,i,he);break;case"selectionchange":if(up)break;case"keydown":case"keyup":Bc(ye,i,he)}var ke;if(pl)e:{switch(e){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Fn?Tc(e,i)&&(Pe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Pe="onCompositionStart");Pe&&(xc&&i.locale!=="ko"&&(Fn||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Fn&&(ke=pc()):(Ni=he,fl="value"in Ni?Ni.value:Ni.textContent,Fn=!0)),we=Ss(ne,Pe),0<we.length&&(Pe=new bc(Pe,e,null,i,he),ye.push({event:Pe,listeners:we}),ke?Pe.data=ke:(ke=wc(i),ke!==null&&(Pe.data=ke)))),(ke=$m?ep(e,i):tp(e,i))&&(Pe=Ss(ne,"onBeforeInput"),0<Pe.length&&(we=new bc("onBeforeInput","beforeinput",null,i,he),ye.push({event:we,listeners:Pe}),we.data=ke)),Ip(ye,e,ne,i,he)}cd(ye,t)})}function tr(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Ss(e,t){for(var i=t+"Capture",f=[];e!==null;){var S=e,x=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||x===null||(S=_a(e,i),S!=null&&f.unshift(tr(e,S,x)),S=_a(e,t),S!=null&&f.push(tr(e,S,x))),e.tag===3)return f;e=e.return}return[]}function Zp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function hd(e,t,i,f,S){for(var x=t._reactName,O=[];i!==null&&i!==f;){var R=i,U=R.alternate,ne=R.stateNode;if(R=R.tag,U!==null&&U===f)break;R!==5&&R!==26&&R!==27||ne===null||(U=ne,S?(ne=_a(i,x),ne!=null&&O.unshift(tr(i,ne,U))):S||(ne=_a(i,x),ne!=null&&O.push(tr(i,ne,U)))),i=i.return}O.length!==0&&e.push({event:t,listeners:O})}var Kp=/\r\n?/g,Jp=/\u0000|\uFFFD/g;function dd(e){return(typeof e=="string"?e:""+e).replace(Kp,`
`).replace(Jp,"")}function gd(e,t){return t=dd(t),dd(e)===t}function qe(e,t,i,f,S,x){switch(i){case"children":typeof f=="string"?t==="body"||t==="textarea"&&f===""||Nn(e,f):(typeof f=="number"||typeof f=="bigint")&&t!=="body"&&Nn(e,""+f);break;case"className":Tr(e,"class",f);break;case"tabIndex":Tr(e,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Tr(e,i,f);break;case"style":dc(e,f,x);break;case"data":if(t!=="object"){Tr(e,"data",f);break}case"src":case"href":if(f===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){e.removeAttribute(i);break}f=Er(""+f),e.setAttribute(i,f);break;case"action":case"formAction":if(typeof f=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(i==="formAction"?(t!=="input"&&qe(e,t,"name",S.name,S,null),qe(e,t,"formEncType",S.formEncType,S,null),qe(e,t,"formMethod",S.formMethod,S,null),qe(e,t,"formTarget",S.formTarget,S,null)):(qe(e,t,"encType",S.encType,S,null),qe(e,t,"method",S.method,S,null),qe(e,t,"target",S.target,S,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){e.removeAttribute(i);break}f=Er(""+f),e.setAttribute(i,f);break;case"onClick":f!=null&&(e.onclick=mi);break;case"onScroll":f!=null&&Re("scroll",e);break;case"onScrollEnd":f!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(v(61));if(i=f.__html,i!=null){if(S.children!=null)throw Error(v(60));e.innerHTML=i}}break;case"multiple":e.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":e.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){e.removeAttribute("xlink:href");break}i=Er(""+f),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?e.setAttribute(i,""+f):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":f===!0?e.setAttribute(i,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?e.setAttribute(i,f):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?e.setAttribute(i,f):e.removeAttribute(i);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?e.removeAttribute(i):e.setAttribute(i,f);break;case"popover":Re("beforetoggle",e),Re("toggle",e),Cr(e,"popover",f);break;case"xlinkActuate":gi(e,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":gi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":gi(e,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":gi(e,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":gi(e,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":gi(e,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":gi(e,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":gi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":gi(e,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Cr(e,"is",f);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Em.get(i)||i,Cr(e,i,f))}}function qo(e,t,i,f,S,x){switch(i){case"style":dc(e,f,x);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(v(61));if(i=f.__html,i!=null){if(S.children!=null)throw Error(v(60));e.innerHTML=i}}break;case"children":typeof f=="string"?Nn(e,f):(typeof f=="number"||typeof f=="bigint")&&Nn(e,""+f);break;case"onScroll":f!=null&&Re("scroll",e);break;case"onScrollEnd":f!=null&&Re("scrollend",e);break;case"onClick":f!=null&&(e.onclick=mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ac.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(S=i.endsWith("Capture"),t=i.slice(2,S?i.length-7:void 0),x=e[Mt]||null,x=x!=null?x[i]:null,typeof x=="function"&&e.removeEventListener(t,x,S),typeof f=="function")){typeof x!="function"&&x!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,f,S);break e}i in e?e[i]=f:f===!0?e.setAttribute(i,""):Cr(e,i,f)}}}function _t(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var f=!1,S=!1,x;for(x in i)if(i.hasOwnProperty(x)){var O=i[x];if(O!=null)switch(x){case"src":f=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(v(137,t));default:qe(e,t,x,O,i,null)}}S&&qe(e,t,"srcSet",i.srcSet,i,null),f&&qe(e,t,"src",i.src,i,null);return;case"input":Re("invalid",e);var R=x=O=S=null,U=null,ne=null;for(f in i)if(i.hasOwnProperty(f)){var he=i[f];if(he!=null)switch(f){case"name":S=he;break;case"type":O=he;break;case"checked":U=he;break;case"defaultChecked":ne=he;break;case"value":x=he;break;case"defaultValue":R=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(v(137,t));break;default:qe(e,t,f,he,i,null)}}uc(e,x,R,U,ne,O,S,!1);return;case"select":Re("invalid",e),f=O=x=null;for(S in i)if(i.hasOwnProperty(S)&&(R=i[S],R!=null))switch(S){case"value":x=R;break;case"defaultValue":O=R;break;case"multiple":f=R;default:qe(e,t,S,R,i,null)}t=x,i=O,e.multiple=!!f,t!=null?Rn(e,!!f,t,!1):i!=null&&Rn(e,!!f,i,!0);return;case"textarea":Re("invalid",e),x=S=f=null;for(O in i)if(i.hasOwnProperty(O)&&(R=i[O],R!=null))switch(O){case"value":f=R;break;case"defaultValue":S=R;break;case"children":x=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(v(91));break;default:qe(e,t,O,R,i,null)}fc(e,f,S,x);return;case"option":for(U in i)i.hasOwnProperty(U)&&(f=i[U],f!=null)&&(U==="selected"?e.selected=f&&typeof f!="function"&&typeof f!="symbol":qe(e,t,U,f,i,null));return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(f=0;f<er.length;f++)Re(er[f],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in i)if(i.hasOwnProperty(ne)&&(f=i[ne],f!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(v(137,t));default:qe(e,t,ne,f,i,null)}return;default:if(sl(t)){for(he in i)i.hasOwnProperty(he)&&(f=i[he],f!==void 0&&qo(e,t,he,f,i,void 0));return}}for(R in i)i.hasOwnProperty(R)&&(f=i[R],f!=null&&qe(e,t,R,f,i,null))}function $p(e,t,i,f){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,x=null,O=null,R=null,U=null,ne=null,he=null;for(se in i){var ye=i[se];if(i.hasOwnProperty(se)&&ye!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":U=ye;default:f.hasOwnProperty(se)||qe(e,t,se,null,f,ye)}}for(var ae in f){var se=f[ae];if(ye=i[ae],f.hasOwnProperty(ae)&&(se!=null||ye!=null))switch(ae){case"type":x=se;break;case"name":S=se;break;case"checked":ne=se;break;case"defaultChecked":he=se;break;case"value":O=se;break;case"defaultValue":R=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(v(137,t));break;default:se!==ye&&qe(e,t,ae,se,f,ye)}}al(e,O,R,U,ne,he,x,S);return;case"select":se=O=R=ae=null;for(x in i)if(U=i[x],i.hasOwnProperty(x)&&U!=null)switch(x){case"value":break;case"multiple":se=U;default:f.hasOwnProperty(x)||qe(e,t,x,null,f,U)}for(S in f)if(x=f[S],U=i[S],f.hasOwnProperty(S)&&(x!=null||U!=null))switch(S){case"value":ae=x;break;case"defaultValue":R=x;break;case"multiple":O=x;default:x!==U&&qe(e,t,S,x,f,U)}t=R,i=O,f=se,ae!=null?Rn(e,!!i,ae,!1):!!f!=!!i&&(t!=null?Rn(e,!!i,t,!0):Rn(e,!!i,i?[]:"",!1));return;case"textarea":se=ae=null;for(R in i)if(S=i[R],i.hasOwnProperty(R)&&S!=null&&!f.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:qe(e,t,R,null,f,S)}for(O in f)if(S=f[O],x=i[O],f.hasOwnProperty(O)&&(S!=null||x!=null))switch(O){case"value":ae=S;break;case"defaultValue":se=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(v(91));break;default:S!==x&&qe(e,t,O,S,f,x)}cc(e,ae,se);return;case"option":for(var Ce in i)ae=i[Ce],i.hasOwnProperty(Ce)&&ae!=null&&!f.hasOwnProperty(Ce)&&(Ce==="selected"?e.selected=!1:qe(e,t,Ce,null,f,ae));for(U in f)ae=f[U],se=i[U],f.hasOwnProperty(U)&&ae!==se&&(ae!=null||se!=null)&&(U==="selected"?e.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":qe(e,t,U,ae,f,se));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in i)ae=i[Ae],i.hasOwnProperty(Ae)&&ae!=null&&!f.hasOwnProperty(Ae)&&qe(e,t,Ae,null,f,ae);for(ne in f)if(ae=f[ne],se=i[ne],f.hasOwnProperty(ne)&&ae!==se&&(ae!=null||se!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(v(137,t));break;default:qe(e,t,ne,ae,f,se)}return;default:if(sl(t)){for(var We in i)ae=i[We],i.hasOwnProperty(We)&&ae!==void 0&&!f.hasOwnProperty(We)&&qo(e,t,We,void 0,f,ae);for(he in f)ae=f[he],se=i[he],!f.hasOwnProperty(he)||ae===se||ae===void 0&&se===void 0||qo(e,t,he,ae,f,se);return}}for(var Z in i)ae=i[Z],i.hasOwnProperty(Z)&&ae!=null&&!f.hasOwnProperty(Z)&&qe(e,t,Z,null,f,ae);for(ye in f)ae=f[ye],se=i[ye],!f.hasOwnProperty(ye)||ae===se||ae==null&&se==null||qe(e,t,ye,ae,f,se)}function md(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ev(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),f=0;f<i.length;f++){var S=i[f],x=S.transferSize,O=S.initiatorType,R=S.duration;if(x&&R&&md(O)){for(O=0,R=S.responseEnd,f+=1;f<i.length;f++){var U=i[f],ne=U.startTime;if(ne>R)break;var he=U.transferSize,ye=U.initiatorType;he&&md(ye)&&(U=U.responseEnd,O+=he*(U<R?1:(R-ne)/(U-ne)))}if(--f,t+=8*(x+O)/(S.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Wo=null,Qo=null;function xs(e){return e.nodeType===9?e:e.ownerDocument}function pd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Zo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ko=null;function tv(){var e=window.event;return e&&e.type==="popstate"?e===Ko?!1:(Ko=e,!0):(Ko=null,!1)}var yd=typeof setTimeout=="function"?setTimeout:void 0,iv=typeof clearTimeout=="function"?clearTimeout:void 0,bd=typeof Promise=="function"?Promise:void 0,nv=typeof queueMicrotask=="function"?queueMicrotask:typeof bd<"u"?function(e){return bd.resolve(null).then(e).catch(av)}:yd;function av(e){setTimeout(function(){throw e})}function $i(e){return e==="head"}function Sd(e,t){var i=t,f=0;do{var S=i.nextSibling;if(e.removeChild(i),S&&S.nodeType===8)if(i=S.data,i==="/$"||i==="/&"){if(f===0){e.removeChild(S),da(t);return}f--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")f++;else if(i==="html")ir(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,ir(i);for(var x=i.firstChild;x;){var O=x.nextSibling,R=x.nodeName;x[Sa]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&x.rel.toLowerCase()==="stylesheet"||i.removeChild(x),x=O}}else i==="body"&&ir(e.ownerDocument.body);i=S}while(i);da(t)}function xd(e,t){var i=e;e=0;do{var f=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=f}while(i)}function Jo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Jo(i),il(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function rv(e,t,i,f){for(;e.nodeType===1;){var S=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!f&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(f){if(!e[Sa])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(x=e.getAttribute("rel"),x==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(x!==S.rel||e.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||e.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||e.getAttribute("title")!==(S.title==null?null:S.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(x=e.getAttribute("src"),(x!==(S.src==null?null:S.src)||e.getAttribute("type")!==(S.type==null?null:S.type)||e.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&x&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var x=S.name==null?null:""+S.name;if(S.type==="hidden"&&e.getAttribute("name")===x)return e}else return e;if(e=Jt(e.nextSibling),e===null)break}return null}function sv(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Jt(e.nextSibling),e===null))return null;return e}function _d(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Jt(e.nextSibling),e===null))return null;return e}function $o(e){return e.data==="$?"||e.data==="$~"}function eu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function lv(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var f=function(){t(),i.removeEventListener("DOMContentLoaded",f)};i.addEventListener("DOMContentLoaded",f),e._reactRetry=f}}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var tu=null;function Cd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Jt(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function Td(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function wd(e,t,i){switch(t=xs(i),e){case"html":if(e=t.documentElement,!e)throw Error(v(452));return e;case"head":if(e=t.head,!e)throw Error(v(453));return e;case"body":if(e=t.body,!e)throw Error(v(454));return e;default:throw Error(v(451))}}function ir(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);il(e)}var $t=new Map,Ed=new Set;function _s(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ji=J.d;J.d={f:ov,r:uv,D:cv,C:fv,L:hv,m:dv,X:mv,S:gv,M:pv};function ov(){var e=ji.f(),t=ds();return e||t}function uv(e){var t=Ln(e);t!==null&&t.tag===5&&t.type==="form"?Xf(t):ji.r(e)}var ca=typeof document>"u"?null:document;function Od(e,t,i){var f=ca;if(f&&typeof t=="string"&&t){var S=Vt(t);S='link[rel="'+e+'"][href="'+S+'"]',typeof i=="string"&&(S+='[crossorigin="'+i+'"]'),Ed.has(S)||(Ed.add(S),e={rel:e,crossOrigin:i,href:t},f.querySelector(S)===null&&(t=f.createElement("link"),_t(t,"link",e),mt(t),f.head.appendChild(t)))}}function cv(e){ji.D(e),Od("dns-prefetch",e,null)}function fv(e,t){ji.C(e,t),Od("preconnect",e,t)}function hv(e,t,i){ji.L(e,t,i);var f=ca;if(f&&e&&t){var S='link[rel="preload"][as="'+Vt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(S+='[imagesrcset="'+Vt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(S+='[imagesizes="'+Vt(i.imageSizes)+'"]')):S+='[href="'+Vt(e)+'"]';var x=S;switch(t){case"style":x=fa(e);break;case"script":x=ha(e)}$t.has(x)||(e=a({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),$t.set(x,e),f.querySelector(S)!==null||t==="style"&&f.querySelector(nr(x))||t==="script"&&f.querySelector(ar(x))||(t=f.createElement("link"),_t(t,"link",e),mt(t),f.head.appendChild(t)))}}function dv(e,t){ji.m(e,t);var i=ca;if(i&&e){var f=t&&typeof t.as=="string"?t.as:"script",S='link[rel="modulepreload"][as="'+Vt(f)+'"][href="'+Vt(e)+'"]',x=S;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ha(e)}if(!$t.has(x)&&(e=a({rel:"modulepreload",href:e},t),$t.set(x,e),i.querySelector(S)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(ar(x)))return}f=i.createElement("link"),_t(f,"link",e),mt(f),i.head.appendChild(f)}}}function gv(e,t,i){ji.S(e,t,i);var f=ca;if(f&&e){var S=kn(f).hoistableStyles,x=fa(e);t=t||"default";var O=S.get(x);if(!O){var R={loading:0,preload:null};if(O=f.querySelector(nr(x)))R.loading=5;else{e=a({rel:"stylesheet",href:e,"data-precedence":t},i),(i=$t.get(x))&&iu(e,i);var U=O=f.createElement("link");mt(U),_t(U,"link",e),U._p=new Promise(function(ne,he){U.onload=ne,U.onerror=he}),U.addEventListener("load",function(){R.loading|=1}),U.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Cs(O,t,f)}O={type:"stylesheet",instance:O,count:1,state:R},S.set(x,O)}}}function mv(e,t){ji.X(e,t);var i=ca;if(i&&e){var f=kn(i).hoistableScripts,S=ha(e),x=f.get(S);x||(x=i.querySelector(ar(S)),x||(e=a({src:e,async:!0},t),(t=$t.get(S))&&nu(e,t),x=i.createElement("script"),mt(x),_t(x,"link",e),i.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(S,x))}}function pv(e,t){ji.M(e,t);var i=ca;if(i&&e){var f=kn(i).hoistableScripts,S=ha(e),x=f.get(S);x||(x=i.querySelector(ar(S)),x||(e=a({src:e,async:!0,type:"module"},t),(t=$t.get(S))&&nu(e,t),x=i.createElement("script"),mt(x),_t(x,"link",e),i.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(S,x))}}function Md(e,t,i,f){var S=(S=Y.current)?_s(S):null;if(!S)throw Error(v(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=fa(i.href),i=kn(S).hoistableStyles,f=i.get(t),f||(f={type:"style",instance:null,count:0,state:null},i.set(t,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=fa(i.href);var x=kn(S).hoistableStyles,O=x.get(e);if(O||(S=S.ownerDocument||S,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(e,O),(x=S.querySelector(nr(e)))&&!x._p&&(O.instance=x,O.state.loading=5),$t.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},$t.set(e,i),x||vv(S,e,i,O.state))),t&&f===null)throw Error(v(528,""));return O}if(t&&f!==null)throw Error(v(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ha(i),i=kn(S).hoistableScripts,f=i.get(t),f||(f={type:"script",instance:null,count:0,state:null},i.set(t,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(v(444,e))}}function fa(e){return'href="'+Vt(e)+'"'}function nr(e){return'link[rel="stylesheet"]['+e+"]"}function Ad(e){return a({},e,{"data-precedence":e.precedence,precedence:null})}function vv(e,t,i,f){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?f.loading=1:(t=e.createElement("link"),f.preload=t,t.addEventListener("load",function(){return f.loading|=1}),t.addEventListener("error",function(){return f.loading|=2}),_t(t,"link",i),mt(t),e.head.appendChild(t))}function ha(e){return'[src="'+Vt(e)+'"]'}function ar(e){return"script[async]"+e}function Dd(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var f=e.querySelector('style[data-href~="'+Vt(i.href)+'"]');if(f)return t.instance=f,mt(f),f;var S=a({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return f=(e.ownerDocument||e).createElement("style"),mt(f),_t(f,"style",S),Cs(f,i.precedence,e),t.instance=f;case"stylesheet":S=fa(i.href);var x=e.querySelector(nr(S));if(x)return t.state.loading|=4,t.instance=x,mt(x),x;f=Ad(i),(S=$t.get(S))&&iu(f,S),x=(e.ownerDocument||e).createElement("link"),mt(x);var O=x;return O._p=new Promise(function(R,U){O.onload=R,O.onerror=U}),_t(x,"link",f),t.state.loading|=4,Cs(x,i.precedence,e),t.instance=x;case"script":return x=ha(i.src),(S=e.querySelector(ar(x)))?(t.instance=S,mt(S),S):(f=i,(S=$t.get(x))&&(f=a({},i),nu(f,S)),e=e.ownerDocument||e,S=e.createElement("script"),mt(S),_t(S,"link",f),e.head.appendChild(S),t.instance=S);case"void":return null;default:throw Error(v(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(f=t.instance,t.state.loading|=4,Cs(f,i.precedence,e));return t.instance}function Cs(e,t,i){for(var f=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=f.length?f[f.length-1]:null,x=S,O=0;O<f.length;O++){var R=f[O];if(R.dataset.precedence===t)x=R;else if(x!==S)break}x?x.parentNode.insertBefore(e,x.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function iu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function nu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ts=null;function jd(e,t,i){if(Ts===null){var f=new Map,S=Ts=new Map;S.set(i,f)}else S=Ts,f=S.get(i),f||(f=new Map,S.set(i,f));if(f.has(e))return f;for(f.set(e,null),i=i.getElementsByTagName(e),S=0;S<i.length;S++){var x=i[S];if(!(x[Sa]||x[yt]||e==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var O=x.getAttribute(t)||"";O=e+O;var R=f.get(O);R?R.push(x):f.set(O,[x])}}return f}function Ld(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function yv(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function kd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function bv(e,t,i,f){if(i.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var S=fa(f.href),x=t.querySelector(nr(S));if(x){t=x._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ws.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=x,mt(x);return}x=t.ownerDocument||t,f=Ad(f),(S=$t.get(S))&&iu(f,S),x=x.createElement("link"),mt(x);var O=x;O._p=new Promise(function(R,U){O.onload=R,O.onerror=U}),_t(x,"link",f),i.instance=x}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=ws.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var au=0;function Sv(e,t){return e.stylesheets&&e.count===0&&Os(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var f=setTimeout(function(){if(e.stylesheets&&Os(e,e.stylesheets),e.unsuspend){var x=e.unsuspend;e.unsuspend=null,x()}},6e4+t);0<e.imgBytes&&au===0&&(au=62500*ev());var S=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Os(e,e.stylesheets),e.unsuspend)){var x=e.unsuspend;e.unsuspend=null,x()}},(e.imgBytes>au?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(f),clearTimeout(S)}}:null}function ws(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Os(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Es=null;function Os(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Es=new Map,t.forEach(xv,e),Es=null,ws.call(e))}function xv(e,t){if(!(t.state.loading&4)){var i=Es.get(e);if(i)var f=i.get(null);else{i=new Map,Es.set(e,i);for(var S=e.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<S.length;x++){var O=S[x];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(i.set(O.dataset.precedence,O),f=O)}f&&i.set(null,f)}S=t.instance,O=S.getAttribute("data-precedence"),x=i.get(O)||f,x===f&&i.set(null,S),i.set(O,S),this.count++,f=ws.bind(this),S.addEventListener("load",f),S.addEventListener("error",f),x?x.parentNode.insertBefore(S,x.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(S,e.firstChild)),t.state.loading|=4}}var rr={$$typeof:_,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function _v(e,t,i,f,S,x,O,R,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Js(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Js(0),this.hiddenUpdates=Js(null),this.identifierPrefix=f,this.onUncaughtError=S,this.onCaughtError=x,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function zd(e,t,i,f,S,x,O,R,U,ne,he,ye){return e=new _v(e,t,i,O,U,ne,he,ye,R),t=1,x===!0&&(t|=24),x=Nt(3,null,null,t),e.current=x,x.stateNode=e,t=Nl(),t.refCount++,e.pooledCache=t,t.refCount++,x.memoizedState={element:f,isDehydrated:i,cache:t},Hl(x),e}function Rd(e){return e?(e=Xn,e):Xn}function Nd(e,t,i,f,S,x){S=Rd(S),f.context===null?f.context=S:f.pendingContext=S,f=Yi(t),f.payload={element:i},x=x===void 0?null:x,x!==null&&(f.callback=x),i=Xi(e,f,t),i!==null&&(zt(i,e,t),Ba(i,e,t))}function Bd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function ru(e,t){Bd(e,t),(e=e.alternate)&&Bd(e,t)}function Pd(e){if(e.tag===13||e.tag===31){var t=gn(e,67108864);t!==null&&zt(t,e,67108864),ru(e,67108864)}}function Fd(e){if(e.tag===13||e.tag===31){var t=Ut();t=$s(t);var i=gn(e,t);i!==null&&zt(i,e,t),ru(e,t)}}var Ms=!0;function Cv(e,t,i,f){var S=I.T;I.T=null;var x=J.p;try{J.p=2,su(e,t,i,f)}finally{J.p=x,I.T=S}}function Tv(e,t,i,f){var S=I.T;I.T=null;var x=J.p;try{J.p=8,su(e,t,i,f)}finally{J.p=x,I.T=S}}function su(e,t,i,f){if(Ms){var S=lu(f);if(S===null)Io(e,t,f,As,i),Ud(e,f);else if(Ev(S,e,t,i,f))f.stopPropagation();else if(Ud(e,f),t&4&&-1<wv.indexOf(e)){for(;S!==null;){var x=Ln(S);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var O=un(x.pendingLanes);if(O!==0){var R=x;for(R.pendingLanes|=2,R.entangledLanes|=2;O;){var U=1<<31-wt(O);R.entanglements[1]|=U,O&=~U}ci(x),(Xe&6)===0&&(fs=Oe()+500,$a(0))}}break;case 31:case 13:R=gn(x,2),R!==null&&zt(R,x,2),ds(),ru(x,2)}if(x=lu(f),x===null&&Io(e,t,f,As,i),x===S)break;S=x}S!==null&&f.stopPropagation()}else Io(e,t,f,null,i)}}function lu(e){return e=ol(e),ou(e)}var As=null;function ou(e){if(As=null,e=jn(e),e!==null){var t=w(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=M(t),e!==null)return e;e=null}else if(i===31){if(e=p(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return As=e,null}function Hd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ne()){case Qe:return 2;case He:return 8;case ot:case nt:return 32;case ri:return 268435456;default:return 32}default:return 32}}var uu=!1,en=null,tn=null,nn=null,sr=new Map,lr=new Map,an=[],wv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ud(e,t){switch(e){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":tn=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":sr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lr.delete(t.pointerId)}}function or(e,t,i,f,S,x){return e===null||e.nativeEvent!==x?(e={blockedOn:t,domEventName:i,eventSystemFlags:f,nativeEvent:x,targetContainers:[S]},t!==null&&(t=Ln(t),t!==null&&Pd(t)),e):(e.eventSystemFlags|=f,t=e.targetContainers,S!==null&&t.indexOf(S)===-1&&t.push(S),e)}function Ev(e,t,i,f,S){switch(t){case"focusin":return en=or(en,e,t,i,f,S),!0;case"dragenter":return tn=or(tn,e,t,i,f,S),!0;case"mouseover":return nn=or(nn,e,t,i,f,S),!0;case"pointerover":var x=S.pointerId;return sr.set(x,or(sr.get(x)||null,e,t,i,f,S)),!0;case"gotpointercapture":return x=S.pointerId,lr.set(x,or(lr.get(x)||null,e,t,i,f,S)),!0}return!1}function Yd(e){var t=jn(e.target);if(t!==null){var i=w(t);if(i!==null){if(t=i.tag,t===13){if(t=M(i),t!==null){e.blockedOn=t,tc(e.priority,function(){Fd(i)});return}}else if(t===31){if(t=p(i),t!==null){e.blockedOn=t,tc(e.priority,function(){Fd(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ds(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=lu(e.nativeEvent);if(i===null){i=e.nativeEvent;var f=new i.constructor(i.type,i);ll=f,i.target.dispatchEvent(f),ll=null}else return t=Ln(i),t!==null&&Pd(t),e.blockedOn=i,!1;t.shift()}return!0}function Xd(e,t,i){Ds(e)&&i.delete(t)}function Ov(){uu=!1,en!==null&&Ds(en)&&(en=null),tn!==null&&Ds(tn)&&(tn=null),nn!==null&&Ds(nn)&&(nn=null),sr.forEach(Xd),lr.forEach(Xd)}function js(e,t){e.blockedOn===t&&(e.blockedOn=null,uu||(uu=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,Ov)))}var Ls=null;function Gd(e){Ls!==e&&(Ls=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){Ls===e&&(Ls=null);for(var t=0;t<e.length;t+=3){var i=e[t],f=e[t+1],S=e[t+2];if(typeof f!="function"){if(ou(f||i)===null)continue;break}var x=Ln(i);x!==null&&(e.splice(t,3),t-=3,so(x,{pending:!0,data:S,method:i.method,action:f},f,S))}}))}function da(e){function t(U){return js(U,e)}en!==null&&js(en,e),tn!==null&&js(tn,e),nn!==null&&js(nn,e),sr.forEach(t),lr.forEach(t);for(var i=0;i<an.length;i++){var f=an[i];f.blockedOn===e&&(f.blockedOn=null)}for(;0<an.length&&(i=an[0],i.blockedOn===null);)Yd(i),i.blockedOn===null&&an.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(f=0;f<i.length;f+=3){var S=i[f],x=i[f+1],O=S[Mt]||null;if(typeof x=="function")O||Gd(i);else if(O){var R=null;if(x&&x.hasAttribute("formAction")){if(S=x,O=x[Mt]||null)R=O.formAction;else if(ou(S)!==null)continue}else R=O.action;typeof R=="function"?i[f+1]=R:(i.splice(f,3),f-=3),Gd(i)}}}function Vd(){function e(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(O){return S=O})},focusReset:"manual",scroll:"manual"})}function t(){S!==null&&(S(),S=null),f||setTimeout(i,20)}function i(){if(!f&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,S=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){f=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),S!==null&&(S(),S=null)}}}function cu(e){this._internalRoot=e}ks.prototype.render=cu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(v(409));var i=t.current,f=Ut();Nd(i,f,e,t,null,null)},ks.prototype.unmount=cu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nd(e.current,2,null,e,null,null),ds(),t[Dn]=null}};function ks(e){this._internalRoot=e}ks.prototype.unstable_scheduleHydration=function(e){if(e){var t=ec();e={blockedOn:null,target:e,priority:t};for(var i=0;i<an.length&&t!==0&&t<an[i].priority;i++);an.splice(i,0,e),i===0&&Yd(e)}};var Id=s.version;if(Id!=="19.2.3")throw Error(v(527,Id,"19.2.3"));J.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(v(188)):(e=Object.keys(e).join(","),Error(v(268,e)));return e=h(t),e=e!==null?d(e):null,e=e===null?null:e.stateNode,e};var Mv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zs.isDisabled&&zs.supportsFiber)try{on=zs.inject(Mv),Ct=zs}catch{}}return cr.createRoot=function(e,t){if(!C(e))throw Error(v(299));var i=!1,f="",S=$f,x=eh,O=th;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(f=t.identifierPrefix),t.onUncaughtError!==void 0&&(S=t.onUncaughtError),t.onCaughtError!==void 0&&(x=t.onCaughtError),t.onRecoverableError!==void 0&&(O=t.onRecoverableError)),t=zd(e,1,!1,null,null,i,f,null,S,x,O,Vd),e[Dn]=t.current,Vo(e),new cu(t)},cr.hydrateRoot=function(e,t,i){if(!C(e))throw Error(v(299));var f=!1,S="",x=$f,O=eh,R=th,U=null;return i!=null&&(i.unstable_strictMode===!0&&(f=!0),i.identifierPrefix!==void 0&&(S=i.identifierPrefix),i.onUncaughtError!==void 0&&(x=i.onUncaughtError),i.onCaughtError!==void 0&&(O=i.onCaughtError),i.onRecoverableError!==void 0&&(R=i.onRecoverableError),i.formState!==void 0&&(U=i.formState)),t=zd(e,1,!0,t,i??null,f,S,U,x,O,R,Vd),t.context=Rd(null),i=t.current,f=Ut(),f=$s(f),S=Yi(f),S.callback=null,Xi(i,S,f),i=f,t.current.lanes=i,ba(t,i),ci(t),e[Dn]=t.current,Vo(e),new ks(t)},cr.version="19.2.3",cr}var ig;function Fv(){if(ig)return du.exports;ig=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(s){console.error(s)}}return u(),du.exports=Pv(),du.exports}var Hv=Fv();const Uv=Sg(Hv);var ng="popstate";function Yv(u={}){function s(v,C){let{pathname:w,search:M,hash:p}=v.location;return ju("",{pathname:w,search:M,hash:p},C.state&&C.state.usr||null,C.state&&C.state.key||"default")}function y(v,C){return typeof C=="string"?C:gr(C)}return Gv(s,y,null,u)}function it(u,s){if(u===!1||u===null||typeof u>"u")throw new Error(s)}function ai(u,s){if(!u){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Xv(){return Math.random().toString(36).substring(2,10)}function ag(u,s){return{usr:u.state,key:u.key,idx:s}}function ju(u,s,y=null,v){return{pathname:typeof u=="string"?u:u.pathname,search:"",hash:"",...typeof s=="string"?pa(s):s,state:y,key:s&&s.key||v||Xv()}}function gr({pathname:u="/",search:s="",hash:y=""}){return s&&s!=="?"&&(u+=s.charAt(0)==="?"?s:"?"+s),y&&y!=="#"&&(u+=y.charAt(0)==="#"?y:"#"+y),u}function pa(u){let s={};if(u){let y=u.indexOf("#");y>=0&&(s.hash=u.substring(y),u=u.substring(0,y));let v=u.indexOf("?");v>=0&&(s.search=u.substring(v),u=u.substring(0,v)),u&&(s.pathname=u)}return s}function Gv(u,s,y,v={}){let{window:C=document.defaultView,v5Compat:w=!1}=v,M=C.history,p="POP",n=null,h=d();h==null&&(h=0,M.replaceState({...M.state,idx:h},""));function d(){return(M.state||{idx:null}).idx}function a(){p="POP";let o=d(),m=o==null?null:o-h;h=o,n&&n({action:p,location:g.location,delta:m})}function l(o,m){p="PUSH";let b=ju(g.location,o,m);h=d()+1;let _=ag(b,h),T=g.createHref(b);try{M.pushState(_,"",T)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;C.location.assign(T)}w&&n&&n({action:p,location:g.location,delta:1})}function r(o,m){p="REPLACE";let b=ju(g.location,o,m);h=d();let _=ag(b,h),T=g.createHref(b);M.replaceState(_,"",T),w&&n&&n({action:p,location:g.location,delta:0})}function c(o){return Vv(o)}let g={get action(){return p},get location(){return u(C,M)},listen(o){if(n)throw new Error("A history only accepts one active listener");return C.addEventListener(ng,a),n=o,()=>{C.removeEventListener(ng,a),n=null}},createHref(o){return s(C,o)},createURL:c,encodeLocation(o){let m=c(o);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:l,replace:r,go(o){return M.go(o)}};return g}function Vv(u,s=!1){let y="http://localhost";typeof window<"u"&&(y=window.location.origin!=="null"?window.location.origin:window.location.href),it(y,"No window.location.(origin|href) available to create URL");let v=typeof u=="string"?u:gr(u);return v=v.replace(/ $/,"%20"),!s&&v.startsWith("//")&&(v=y+v),new URL(v,y)}function xg(u,s,y="/"){return Iv(u,s,y,!1)}function Iv(u,s,y,v){let C=typeof s=="string"?pa(s):s,w=zi(C.pathname||"/",y);if(w==null)return null;let M=_g(u);qv(M);let p=null;for(let n=0;p==null&&n<M.length;++n){let h=a0(w);p=i0(M[n],h,v)}return p}function _g(u,s=[],y=[],v="",C=!1){let w=(M,p,n=C,h)=>{let d={relativePath:h===void 0?M.path||"":h,caseSensitive:M.caseSensitive===!0,childrenIndex:p,route:M};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(v)&&n)return;it(d.relativePath.startsWith(v),`Absolute route path "${d.relativePath}" nested under path "${v}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(v.length)}let a=ki([v,d.relativePath]),l=y.concat(d);M.children&&M.children.length>0&&(it(M.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${a}".`),_g(M.children,s,l,a,n)),!(M.path==null&&!M.index)&&s.push({path:a,score:e0(a,M.index),routesMeta:l})};return u.forEach((M,p)=>{if(M.path===""||!M.path?.includes("?"))w(M,p);else for(let n of Cg(M.path))w(M,p,!0,n)}),s}function Cg(u){let s=u.split("/");if(s.length===0)return[];let[y,...v]=s,C=y.endsWith("?"),w=y.replace(/\?$/,"");if(v.length===0)return C?[w,""]:[w];let M=Cg(v.join("/")),p=[];return p.push(...M.map(n=>n===""?w:[w,n].join("/"))),C&&p.push(...M),p.map(n=>u.startsWith("/")&&n===""?"/":n)}function qv(u){u.sort((s,y)=>s.score!==y.score?y.score-s.score:t0(s.routesMeta.map(v=>v.childrenIndex),y.routesMeta.map(v=>v.childrenIndex)))}var Wv=/^:[\w-]+$/,Qv=3,Zv=2,Kv=1,Jv=10,$v=-2,rg=u=>u==="*";function e0(u,s){let y=u.split("/"),v=y.length;return y.some(rg)&&(v+=$v),s&&(v+=Zv),y.filter(C=>!rg(C)).reduce((C,w)=>C+(Wv.test(w)?Qv:w===""?Kv:Jv),v)}function t0(u,s){return u.length===s.length&&u.slice(0,-1).every((v,C)=>v===s[C])?u[u.length-1]-s[s.length-1]:0}function i0(u,s,y=!1){let{routesMeta:v}=u,C={},w="/",M=[];for(let p=0;p<v.length;++p){let n=v[p],h=p===v.length-1,d=w==="/"?s:s.slice(w.length)||"/",a=Xs({path:n.relativePath,caseSensitive:n.caseSensitive,end:h},d),l=n.route;if(!a&&h&&y&&!v[v.length-1].route.index&&(a=Xs({path:n.relativePath,caseSensitive:n.caseSensitive,end:!1},d)),!a)return null;Object.assign(C,a.params),M.push({params:C,pathname:ki([w,a.pathname]),pathnameBase:o0(ki([w,a.pathnameBase])),route:l}),a.pathnameBase!=="/"&&(w=ki([w,a.pathnameBase]))}return M}function Xs(u,s){typeof u=="string"&&(u={path:u,caseSensitive:!1,end:!0});let[y,v]=n0(u.path,u.caseSensitive,u.end),C=s.match(y);if(!C)return null;let w=C[0],M=w.replace(/(.)\/+$/,"$1"),p=C.slice(1);return{params:v.reduce((h,{paramName:d,isOptional:a},l)=>{if(d==="*"){let c=p[l]||"";M=w.slice(0,w.length-c.length).replace(/(.)\/+$/,"$1")}const r=p[l];return a&&!r?h[d]=void 0:h[d]=(r||"").replace(/%2F/g,"/"),h},{}),pathname:w,pathnameBase:M,pattern:u}}function n0(u,s=!1,y=!0){ai(u==="*"||!u.endsWith("*")||u.endsWith("/*"),`Route path "${u}" will be treated as if it were "${u.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${u.replace(/\*$/,"/*")}".`);let v=[],C="^"+u.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(M,p,n)=>(v.push({paramName:p,isOptional:n!=null}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return u.endsWith("*")?(v.push({paramName:"*"}),C+=u==="*"||u==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):y?C+="\\/*$":u!==""&&u!=="/"&&(C+="(?:(?=\\/|$))"),[new RegExp(C,s?void 0:"i"),v]}function a0(u){try{return u.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return ai(!1,`The URL path "${u}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),u}}function zi(u,s){if(s==="/")return u;if(!u.toLowerCase().startsWith(s.toLowerCase()))return null;let y=s.endsWith("/")?s.length-1:s.length,v=u.charAt(y);return v&&v!=="/"?null:u.slice(y)||"/"}var Tg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r0=u=>Tg.test(u);function s0(u,s="/"){let{pathname:y,search:v="",hash:C=""}=typeof u=="string"?pa(u):u,w;if(y)if(r0(y))w=y;else{if(y.includes("//")){let M=y;y=y.replace(/\/\/+/g,"/"),ai(!1,`Pathnames cannot have embedded double slashes - normalizing ${M} -> ${y}`)}y.startsWith("/")?w=sg(y.substring(1),"/"):w=sg(y,s)}else w=s;return{pathname:w,search:u0(v),hash:c0(C)}}function sg(u,s){let y=s.replace(/\/+$/,"").split("/");return u.split("/").forEach(C=>{C===".."?y.length>1&&y.pop():C!=="."&&y.push(C)}),y.length>1?y.join("/"):"/"}function vu(u,s,y,v){return`Cannot include a '${u}' character in a manually specified \`to.${s}\` field [${JSON.stringify(v)}].  Please separate it out to the \`to.${y}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l0(u){return u.filter((s,y)=>y===0||s.route.path&&s.route.path.length>0)}function wg(u){let s=l0(u);return s.map((y,v)=>v===s.length-1?y.pathname:y.pathnameBase)}function Eg(u,s,y,v=!1){let C;typeof u=="string"?C=pa(u):(C={...u},it(!C.pathname||!C.pathname.includes("?"),vu("?","pathname","search",C)),it(!C.pathname||!C.pathname.includes("#"),vu("#","pathname","hash",C)),it(!C.search||!C.search.includes("#"),vu("#","search","hash",C)));let w=u===""||C.pathname==="",M=w?"/":C.pathname,p;if(M==null)p=y;else{let a=s.length-1;if(!v&&M.startsWith("..")){let l=M.split("/");for(;l[0]==="..";)l.shift(),a-=1;C.pathname=l.join("/")}p=a>=0?s[a]:"/"}let n=s0(C,p),h=M&&M!=="/"&&M.endsWith("/"),d=(w||M===".")&&y.endsWith("/");return!n.pathname.endsWith("/")&&(h||d)&&(n.pathname+="/"),n}var ki=u=>u.join("/").replace(/\/\/+/g,"/"),o0=u=>u.replace(/\/+$/,"").replace(/^\/*/,"/"),u0=u=>!u||u==="?"?"":u.startsWith("?")?u:"?"+u,c0=u=>!u||u==="#"?"":u.startsWith("#")?u:"#"+u,f0=class{constructor(u,s,y,v=!1){this.status=u,this.statusText=s||"",this.internal=v,y instanceof Error?(this.data=y.toString(),this.error=y):this.data=y}};function h0(u){return u!=null&&typeof u.status=="number"&&typeof u.statusText=="string"&&typeof u.internal=="boolean"&&"data"in u}function d0(u){return u.map(s=>s.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Og=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Mg(u,s){let y=u;if(typeof y!="string"||!Tg.test(y))return{absoluteURL:void 0,isExternal:!1,to:y};let v=y,C=!1;if(Og)try{let w=new URL(window.location.href),M=y.startsWith("//")?new URL(w.protocol+y):new URL(y),p=zi(M.pathname,s);M.origin===w.origin&&p!=null?y=p+M.search+M.hash:C=!0}catch{ai(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:v,isExternal:C,to:y}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ag=["POST","PUT","PATCH","DELETE"];new Set(Ag);var g0=["GET",...Ag];new Set(g0);var va=Q.createContext(null);va.displayName="DataRouter";var Qs=Q.createContext(null);Qs.displayName="DataRouterState";var m0=Q.createContext(!1),Dg=Q.createContext({isTransitioning:!1});Dg.displayName="ViewTransition";var p0=Q.createContext(new Map);p0.displayName="Fetchers";var v0=Q.createContext(null);v0.displayName="Await";var ei=Q.createContext(null);ei.displayName="Navigation";var pr=Q.createContext(null);pr.displayName="Location";var di=Q.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var Bu=Q.createContext(null);Bu.displayName="RouteError";var jg="REACT_ROUTER_ERROR",y0="REDIRECT",b0="ROUTE_ERROR_RESPONSE";function S0(u){if(u.startsWith(`${jg}:${y0}:{`))try{let s=JSON.parse(u.slice(28));if(typeof s=="object"&&s&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.location=="string"&&typeof s.reloadDocument=="boolean"&&typeof s.replace=="boolean")return s}catch{}}function x0(u){if(u.startsWith(`${jg}:${b0}:{`))try{let s=JSON.parse(u.slice(40));if(typeof s=="object"&&s&&typeof s.status=="number"&&typeof s.statusText=="string")return new f0(s.status,s.statusText,s.data)}catch{}}function _0(u,{relative:s}={}){it(vr(),"useHref() may be used only in the context of a <Router> component.");let{basename:y,navigator:v}=Q.useContext(ei),{hash:C,pathname:w,search:M}=yr(u,{relative:s}),p=w;return y!=="/"&&(p=w==="/"?y:ki([y,w])),v.createHref({pathname:p,search:M,hash:C})}function vr(){return Q.useContext(pr)!=null}function An(){return it(vr(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(pr).location}var Lg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kg(u){Q.useContext(ei).static||Q.useLayoutEffect(u)}function C0(){let{isDataRoute:u}=Q.useContext(di);return u?B0():T0()}function T0(){it(vr(),"useNavigate() may be used only in the context of a <Router> component.");let u=Q.useContext(va),{basename:s,navigator:y}=Q.useContext(ei),{matches:v}=Q.useContext(di),{pathname:C}=An(),w=JSON.stringify(wg(v)),M=Q.useRef(!1);return kg(()=>{M.current=!0}),Q.useCallback((n,h={})=>{if(ai(M.current,Lg),!M.current)return;if(typeof n=="number"){y.go(n);return}let d=Eg(n,JSON.parse(w),C,h.relative==="path");u==null&&s!=="/"&&(d.pathname=d.pathname==="/"?s:ki([s,d.pathname])),(h.replace?y.replace:y.push)(d,h.state,h)},[s,y,w,C,u])}Q.createContext(null);function w0(){let{matches:u}=Q.useContext(di),s=u[u.length-1];return s?s.params:{}}function yr(u,{relative:s}={}){let{matches:y}=Q.useContext(di),{pathname:v}=An(),C=JSON.stringify(wg(y));return Q.useMemo(()=>Eg(u,JSON.parse(C),v,s==="path"),[u,C,v,s])}function E0(u,s){return zg(u,s)}function zg(u,s,y,v,C){it(vr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:w}=Q.useContext(ei),{matches:M}=Q.useContext(di),p=M[M.length-1],n=p?p.params:{},h=p?p.pathname:"/",d=p?p.pathnameBase:"/",a=p&&p.route;{let b=a&&a.path||"";Ng(h,!a||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let l=An(),r;if(s){let b=typeof s=="string"?pa(s):s;it(d==="/"||b.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${b.pathname}" was given in the \`location\` prop.`),r=b}else r=l;let c=r.pathname||"/",g=c;if(d!=="/"){let b=d.replace(/^\//,"").split("/");g="/"+c.replace(/^\//,"").split("/").slice(b.length).join("/")}let o=xg(u,{pathname:g});ai(a||o!=null,`No routes matched location "${r.pathname}${r.search}${r.hash}" `),ai(o==null||o[o.length-1].route.element!==void 0||o[o.length-1].route.Component!==void 0||o[o.length-1].route.lazy!==void 0,`Matched leaf route at location "${r.pathname}${r.search}${r.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=j0(o&&o.map(b=>Object.assign({},b,{params:Object.assign({},n,b.params),pathname:ki([d,w.encodeLocation?w.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:ki([d,w.encodeLocation?w.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),M,y,v,C);return s&&m?Q.createElement(pr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...r},navigationType:"POP"}},m):m}function O0(){let u=N0(),s=h0(u)?`${u.status} ${u.statusText}`:u instanceof Error?u.message:JSON.stringify(u),y=u instanceof Error?u.stack:null,v="rgba(200,200,200, 0.5)",C={padding:"0.5rem",backgroundColor:v},w={padding:"2px 4px",backgroundColor:v},M=null;return console.error("Error handled by React Router default ErrorBoundary:",u),M=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:w},"ErrorBoundary")," or"," ",Q.createElement("code",{style:w},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},s),y?Q.createElement("pre",{style:C},y):null,M)}var M0=Q.createElement(O0,null),Rg=class extends Q.Component{constructor(u){super(u),this.state={location:u.location,revalidation:u.revalidation,error:u.error}}static getDerivedStateFromError(u){return{error:u}}static getDerivedStateFromProps(u,s){return s.location!==u.location||s.revalidation!=="idle"&&u.revalidation==="idle"?{error:u.error,location:u.location,revalidation:u.revalidation}:{error:u.error!==void 0?u.error:s.error,location:s.location,revalidation:u.revalidation||s.revalidation}}componentDidCatch(u,s){this.props.onError?this.props.onError(u,s):console.error("React Router caught the following error during render",u)}render(){let u=this.state.error;if(this.context&&typeof u=="object"&&u&&"digest"in u&&typeof u.digest=="string"){const y=x0(u.digest);y&&(u=y)}let s=u!==void 0?Q.createElement(di.Provider,{value:this.props.routeContext},Q.createElement(Bu.Provider,{value:u,children:this.props.component})):this.props.children;return this.context?Q.createElement(A0,{error:u},s):s}};Rg.contextType=m0;var yu=new WeakMap;function A0({children:u,error:s}){let{basename:y}=Q.useContext(ei);if(typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){let v=S0(s.digest);if(v){let C=yu.get(s);if(C)throw C;let w=Mg(v.location,y);if(Og&&!yu.get(s))if(w.isExternal||v.reloadDocument)window.location.href=w.absoluteURL||w.to;else{const M=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(w.to,{replace:v.replace}));throw yu.set(s,M),M}return Q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${w.absoluteURL||w.to}`})}}return u}function D0({routeContext:u,match:s,children:y}){let v=Q.useContext(va);return v&&v.static&&v.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(v.staticContext._deepestRenderedBoundaryId=s.route.id),Q.createElement(di.Provider,{value:u},y)}function j0(u,s=[],y=null,v=null,C=null){if(u==null){if(!y)return null;if(y.errors)u=y.matches;else if(s.length===0&&!y.initialized&&y.matches.length>0)u=y.matches;else return null}let w=u,M=y?.errors;if(M!=null){let d=w.findIndex(a=>a.route.id&&M?.[a.route.id]!==void 0);it(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(M).join(",")}`),w=w.slice(0,Math.min(w.length,d+1))}let p=!1,n=-1;if(y)for(let d=0;d<w.length;d++){let a=w[d];if((a.route.HydrateFallback||a.route.hydrateFallbackElement)&&(n=d),a.route.id){let{loaderData:l,errors:r}=y,c=a.route.loader&&!l.hasOwnProperty(a.route.id)&&(!r||r[a.route.id]===void 0);if(a.route.lazy||c){p=!0,n>=0?w=w.slice(0,n+1):w=[w[0]];break}}}let h=y&&v?(d,a)=>{v(d,{location:y.location,params:y.matches?.[0]?.params??{},unstable_pattern:d0(y.matches),errorInfo:a})}:void 0;return w.reduceRight((d,a,l)=>{let r,c=!1,g=null,o=null;y&&(r=M&&a.route.id?M[a.route.id]:void 0,g=a.route.errorElement||M0,p&&(n<0&&l===0?(Ng("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),c=!0,o=null):n===l&&(c=!0,o=a.route.hydrateFallbackElement||null)));let m=s.concat(w.slice(0,l+1)),b=()=>{let _;return r?_=g:c?_=o:a.route.Component?_=Q.createElement(a.route.Component,null):a.route.element?_=a.route.element:_=d,Q.createElement(D0,{match:a,routeContext:{outlet:d,matches:m,isDataRoute:y!=null},children:_})};return y&&(a.route.ErrorBoundary||a.route.errorElement||l===0)?Q.createElement(Rg,{location:y.location,revalidation:y.revalidation,component:g,error:r,children:b(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:h}):b()},null)}function Pu(u){return`${u} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L0(u){let s=Q.useContext(va);return it(s,Pu(u)),s}function k0(u){let s=Q.useContext(Qs);return it(s,Pu(u)),s}function z0(u){let s=Q.useContext(di);return it(s,Pu(u)),s}function Fu(u){let s=z0(u),y=s.matches[s.matches.length-1];return it(y.route.id,`${u} can only be used on routes that contain a unique "id"`),y.route.id}function R0(){return Fu("useRouteId")}function N0(){let u=Q.useContext(Bu),s=k0("useRouteError"),y=Fu("useRouteError");return u!==void 0?u:s.errors?.[y]}function B0(){let{router:u}=L0("useNavigate"),s=Fu("useNavigate"),y=Q.useRef(!1);return kg(()=>{y.current=!0}),Q.useCallback(async(C,w={})=>{ai(y.current,Lg),y.current&&(typeof C=="number"?await u.navigate(C):await u.navigate(C,{fromRouteId:s,...w}))},[u,s])}var lg={};function Ng(u,s,y){!s&&!lg[u]&&(lg[u]=!0,ai(!1,y))}Q.memo(P0);function P0({routes:u,future:s,state:y,onError:v}){return zg(u,void 0,y,v,s)}function On(u){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function F0({basename:u="/",children:s=null,location:y,navigationType:v="POP",navigator:C,static:w=!1,unstable_useTransitions:M}){it(!vr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=u.replace(/^\/*/,"/"),n=Q.useMemo(()=>({basename:p,navigator:C,static:w,unstable_useTransitions:M,future:{}}),[p,C,w,M]);typeof y=="string"&&(y=pa(y));let{pathname:h="/",search:d="",hash:a="",state:l=null,key:r="default"}=y,c=Q.useMemo(()=>{let g=zi(h,p);return g==null?null:{location:{pathname:g,search:d,hash:a,state:l,key:r},navigationType:v}},[p,h,d,a,l,r,v]);return ai(c!=null,`<Router basename="${p}"> is not able to match the URL "${h}${d}${a}" because it does not start with the basename, so the <Router> won't render anything.`),c==null?null:Q.createElement(ei.Provider,{value:n},Q.createElement(pr.Provider,{children:s,value:c}))}function H0({children:u,location:s}){return E0(Lu(u),s)}function Lu(u,s=[]){let y=[];return Q.Children.forEach(u,(v,C)=>{if(!Q.isValidElement(v))return;let w=[...s,C];if(v.type===Q.Fragment){y.push.apply(y,Lu(v.props.children,w));return}it(v.type===On,`[${typeof v.type=="string"?v.type:v.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!v.props.index||!v.props.children,"An index route cannot have child routes.");let M={id:v.props.id||w.join("-"),caseSensitive:v.props.caseSensitive,element:v.props.element,Component:v.props.Component,index:v.props.index,path:v.props.path,middleware:v.props.middleware,loader:v.props.loader,action:v.props.action,hydrateFallbackElement:v.props.hydrateFallbackElement,HydrateFallback:v.props.HydrateFallback,errorElement:v.props.errorElement,ErrorBoundary:v.props.ErrorBoundary,hasErrorBoundary:v.props.hasErrorBoundary===!0||v.props.ErrorBoundary!=null||v.props.errorElement!=null,shouldRevalidate:v.props.shouldRevalidate,handle:v.props.handle,lazy:v.props.lazy};v.props.children&&(M.children=Lu(v.props.children,w)),y.push(M)}),y}var Hs="get",Us="application/x-www-form-urlencoded";function Zs(u){return typeof HTMLElement<"u"&&u instanceof HTMLElement}function U0(u){return Zs(u)&&u.tagName.toLowerCase()==="button"}function Y0(u){return Zs(u)&&u.tagName.toLowerCase()==="form"}function X0(u){return Zs(u)&&u.tagName.toLowerCase()==="input"}function G0(u){return!!(u.metaKey||u.altKey||u.ctrlKey||u.shiftKey)}function V0(u,s){return u.button===0&&(!s||s==="_self")&&!G0(u)}var Rs=null;function I0(){if(Rs===null)try{new FormData(document.createElement("form"),0),Rs=!1}catch{Rs=!0}return Rs}var q0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bu(u){return u!=null&&!q0.has(u)?(ai(!1,`"${u}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Us}"`),null):u}function W0(u,s){let y,v,C,w,M;if(Y0(u)){let p=u.getAttribute("action");v=p?zi(p,s):null,y=u.getAttribute("method")||Hs,C=bu(u.getAttribute("enctype"))||Us,w=new FormData(u)}else if(U0(u)||X0(u)&&(u.type==="submit"||u.type==="image")){let p=u.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let n=u.getAttribute("formaction")||p.getAttribute("action");if(v=n?zi(n,s):null,y=u.getAttribute("formmethod")||p.getAttribute("method")||Hs,C=bu(u.getAttribute("formenctype"))||bu(p.getAttribute("enctype"))||Us,w=new FormData(p,u),!I0()){let{name:h,type:d,value:a}=u;if(d==="image"){let l=h?`${h}.`:"";w.append(`${l}x`,"0"),w.append(`${l}y`,"0")}else h&&w.append(h,a)}}else{if(Zs(u))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');y=Hs,v=null,C=Us,M=u}return w&&C==="text/plain"&&(M=w,w=void 0),{action:v,method:y.toLowerCase(),encType:C,formData:w,body:M}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hu(u,s){if(u===!1||u===null||typeof u>"u")throw new Error(s)}function Q0(u,s,y,v){let C=typeof u=="string"?new URL(u,typeof window>"u"?"server://singlefetch/":window.location.origin):u;return y?C.pathname.endsWith("/")?C.pathname=`${C.pathname}_.${v}`:C.pathname=`${C.pathname}.${v}`:C.pathname==="/"?C.pathname=`_root.${v}`:s&&zi(C.pathname,s)==="/"?C.pathname=`${s.replace(/\/$/,"")}/_root.${v}`:C.pathname=`${C.pathname.replace(/\/$/,"")}.${v}`,C}async function Z0(u,s){if(u.id in s)return s[u.id];try{let y=await import(u.module);return s[u.id]=y,y}catch(y){return console.error(`Error loading route module \`${u.module}\`, reloading page...`),console.error(y),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K0(u){return u==null?!1:u.href==null?u.rel==="preload"&&typeof u.imageSrcSet=="string"&&typeof u.imageSizes=="string":typeof u.rel=="string"&&typeof u.href=="string"}async function J0(u,s,y){let v=await Promise.all(u.map(async C=>{let w=s.routes[C.route.id];if(w){let M=await Z0(w,y);return M.links?M.links():[]}return[]}));return iy(v.flat(1).filter(K0).filter(C=>C.rel==="stylesheet"||C.rel==="preload").map(C=>C.rel==="stylesheet"?{...C,rel:"prefetch",as:"style"}:{...C,rel:"prefetch"}))}function og(u,s,y,v,C,w){let M=(n,h)=>y[h]?n.route.id!==y[h].route.id:!0,p=(n,h)=>y[h].pathname!==n.pathname||y[h].route.path?.endsWith("*")&&y[h].params["*"]!==n.params["*"];return w==="assets"?s.filter((n,h)=>M(n,h)||p(n,h)):w==="data"?s.filter((n,h)=>{let d=v.routes[n.route.id];if(!d||!d.hasLoader)return!1;if(M(n,h)||p(n,h))return!0;if(n.route.shouldRevalidate){let a=n.route.shouldRevalidate({currentUrl:new URL(C.pathname+C.search+C.hash,window.origin),currentParams:y[0]?.params||{},nextUrl:new URL(u,window.origin),nextParams:n.params,defaultShouldRevalidate:!0});if(typeof a=="boolean")return a}return!0}):[]}function $0(u,s,{includeHydrateFallback:y}={}){return ey(u.map(v=>{let C=s.routes[v.route.id];if(!C)return[];let w=[C.module];return C.clientActionModule&&(w=w.concat(C.clientActionModule)),C.clientLoaderModule&&(w=w.concat(C.clientLoaderModule)),y&&C.hydrateFallbackModule&&(w=w.concat(C.hydrateFallbackModule)),C.imports&&(w=w.concat(C.imports)),w}).flat(1))}function ey(u){return[...new Set(u)]}function ty(u){let s={},y=Object.keys(u).sort();for(let v of y)s[v]=u[v];return s}function iy(u,s){let y=new Set;return new Set(s),u.reduce((v,C)=>{let w=JSON.stringify(ty(C));return y.has(w)||(y.add(w),v.push({key:w,link:C})),v},[])}function Bg(){let u=Q.useContext(va);return Hu(u,"You must render this element inside a <DataRouterContext.Provider> element"),u}function ny(){let u=Q.useContext(Qs);return Hu(u,"You must render this element inside a <DataRouterStateContext.Provider> element"),u}var Uu=Q.createContext(void 0);Uu.displayName="FrameworkContext";function Pg(){let u=Q.useContext(Uu);return Hu(u,"You must render this element inside a <HydratedRouter> element"),u}function ay(u,s){let y=Q.useContext(Uu),[v,C]=Q.useState(!1),[w,M]=Q.useState(!1),{onFocus:p,onBlur:n,onMouseEnter:h,onMouseLeave:d,onTouchStart:a}=s,l=Q.useRef(null);Q.useEffect(()=>{if(u==="render"&&M(!0),u==="viewport"){let g=m=>{m.forEach(b=>{M(b.isIntersecting)})},o=new IntersectionObserver(g,{threshold:.5});return l.current&&o.observe(l.current),()=>{o.disconnect()}}},[u]),Q.useEffect(()=>{if(v){let g=setTimeout(()=>{M(!0)},100);return()=>{clearTimeout(g)}}},[v]);let r=()=>{C(!0)},c=()=>{C(!1),M(!1)};return y?u!=="intent"?[w,l,{}]:[w,l,{onFocus:fr(p,r),onBlur:fr(n,c),onMouseEnter:fr(h,r),onMouseLeave:fr(d,c),onTouchStart:fr(a,r)}]:[!1,l,{}]}function fr(u,s){return y=>{u&&u(y),y.defaultPrevented||s(y)}}function ry({page:u,...s}){let{router:y}=Bg(),v=Q.useMemo(()=>xg(y.routes,u,y.basename),[y.routes,u,y.basename]);return v?Q.createElement(ly,{page:u,matches:v,...s}):null}function sy(u){let{manifest:s,routeModules:y}=Pg(),[v,C]=Q.useState([]);return Q.useEffect(()=>{let w=!1;return J0(u,s,y).then(M=>{w||C(M)}),()=>{w=!0}},[u,s,y]),v}function ly({page:u,matches:s,...y}){let v=An(),{future:C,manifest:w,routeModules:M}=Pg(),{basename:p}=Bg(),{loaderData:n,matches:h}=ny(),d=Q.useMemo(()=>og(u,s,h,w,v,"data"),[u,s,h,w,v]),a=Q.useMemo(()=>og(u,s,h,w,v,"assets"),[u,s,h,w,v]),l=Q.useMemo(()=>{if(u===v.pathname+v.search+v.hash)return[];let g=new Set,o=!1;if(s.forEach(b=>{let _=w.routes[b.route.id];!_||!_.hasLoader||(!d.some(T=>T.route.id===b.route.id)&&b.route.id in n&&M[b.route.id]?.shouldRevalidate||_.hasClientLoader?o=!0:g.add(b.route.id))}),g.size===0)return[];let m=Q0(u,p,C.unstable_trailingSlashAwareDataRequests,"data");return o&&g.size>0&&m.searchParams.set("_routes",s.filter(b=>g.has(b.route.id)).map(b=>b.route.id).join(",")),[m.pathname+m.search]},[p,C.unstable_trailingSlashAwareDataRequests,n,v,w,d,s,u,M]),r=Q.useMemo(()=>$0(a,w),[a,w]),c=sy(a);return Q.createElement(Q.Fragment,null,l.map(g=>Q.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...y})),r.map(g=>Q.createElement("link",{key:g,rel:"modulepreload",href:g,...y})),c.map(({key:g,link:o})=>Q.createElement("link",{key:g,nonce:y.nonce,...o})))}function oy(...u){return s=>{u.forEach(y=>{typeof y=="function"?y(s):y!=null&&(y.current=s)})}}var uy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uy&&(window.__reactRouterVersion="7.12.0")}catch{}function cy({basename:u,children:s,unstable_useTransitions:y,window:v}){let C=Q.useRef();C.current==null&&(C.current=Yv({window:v,v5Compat:!0}));let w=C.current,[M,p]=Q.useState({action:w.action,location:w.location}),n=Q.useCallback(h=>{y===!1?p(h):Q.startTransition(()=>p(h))},[y]);return Q.useLayoutEffect(()=>w.listen(n),[w,n]),Q.createElement(F0,{basename:u,children:s,location:M.location,navigationType:M.action,navigator:w,unstable_useTransitions:y})}var Fg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=Q.forwardRef(function({onClick:s,discover:y="render",prefetch:v="none",relative:C,reloadDocument:w,replace:M,state:p,target:n,to:h,preventScrollReset:d,viewTransition:a,unstable_defaultShouldRevalidate:l,...r},c){let{basename:g,unstable_useTransitions:o}=Q.useContext(ei),m=typeof h=="string"&&Fg.test(h),b=Mg(h,g);h=b.to;let _=_0(h,{relative:C}),[T,E,D]=ay(v,r),k=gy(h,{replace:M,state:p,target:n,preventScrollReset:d,relative:C,viewTransition:a,unstable_defaultShouldRevalidate:l,unstable_useTransitions:o});function N(H){s&&s(H),H.defaultPrevented||k(H)}let q=Q.createElement("a",{...r,...D,href:b.absoluteURL||_,onClick:b.isExternal||w?s:N,ref:oy(c,E),target:n,"data-discover":!m&&y==="render"?"true":void 0});return T&&!m?Q.createElement(Q.Fragment,null,q,Q.createElement(ry,{page:_})):q});tt.displayName="Link";var fy=Q.forwardRef(function({"aria-current":s="page",caseSensitive:y=!1,className:v="",end:C=!1,style:w,to:M,viewTransition:p,children:n,...h},d){let a=yr(M,{relative:h.relative}),l=An(),r=Q.useContext(Qs),{navigator:c,basename:g}=Q.useContext(ei),o=r!=null&&by(a)&&p===!0,m=c.encodeLocation?c.encodeLocation(a).pathname:a.pathname,b=l.pathname,_=r&&r.navigation&&r.navigation.location?r.navigation.location.pathname:null;y||(b=b.toLowerCase(),_=_?_.toLowerCase():null,m=m.toLowerCase()),_&&g&&(_=zi(_,g)||_);const T=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let E=b===m||!C&&b.startsWith(m)&&b.charAt(T)==="/",D=_!=null&&(_===m||!C&&_.startsWith(m)&&_.charAt(m.length)==="/"),k={isActive:E,isPending:D,isTransitioning:o},N=E?s:void 0,q;typeof v=="function"?q=v(k):q=[v,E?"active":null,D?"pending":null,o?"transitioning":null].filter(Boolean).join(" ");let H=typeof w=="function"?w(k):w;return Q.createElement(tt,{...h,"aria-current":N,className:q,ref:d,style:H,to:M,viewTransition:p},typeof n=="function"?n(k):n)});fy.displayName="NavLink";var hy=Q.forwardRef(({discover:u="render",fetcherKey:s,navigate:y,reloadDocument:v,replace:C,state:w,method:M=Hs,action:p,onSubmit:n,relative:h,preventScrollReset:d,viewTransition:a,unstable_defaultShouldRevalidate:l,...r},c)=>{let{unstable_useTransitions:g}=Q.useContext(ei),o=vy(),m=yy(p,{relative:h}),b=M.toLowerCase()==="get"?"get":"post",_=typeof p=="string"&&Fg.test(p),T=E=>{if(n&&n(E),E.defaultPrevented)return;E.preventDefault();let D=E.nativeEvent.submitter,k=D?.getAttribute("formmethod")||M,N=()=>o(D||E.currentTarget,{fetcherKey:s,method:k,navigate:y,replace:C,state:w,relative:h,preventScrollReset:d,viewTransition:a,unstable_defaultShouldRevalidate:l});g&&y!==!1?Q.startTransition(()=>N()):N()};return Q.createElement("form",{ref:c,method:b,action:m,onSubmit:v?n:T,...r,"data-discover":!_&&u==="render"?"true":void 0})});hy.displayName="Form";function dy(u){return`${u} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hg(u){let s=Q.useContext(va);return it(s,dy(u)),s}function gy(u,{target:s,replace:y,state:v,preventScrollReset:C,relative:w,viewTransition:M,unstable_defaultShouldRevalidate:p,unstable_useTransitions:n}={}){let h=C0(),d=An(),a=yr(u,{relative:w});return Q.useCallback(l=>{if(V0(l,s)){l.preventDefault();let r=y!==void 0?y:gr(d)===gr(a),c=()=>h(u,{replace:r,state:v,preventScrollReset:C,relative:w,viewTransition:M,unstable_defaultShouldRevalidate:p});n?Q.startTransition(()=>c()):c()}},[d,h,a,y,v,s,u,C,w,M,p,n])}var my=0,py=()=>`__${String(++my)}__`;function vy(){let{router:u}=Hg("useSubmit"),{basename:s}=Q.useContext(ei),y=R0(),v=u.fetch,C=u.navigate;return Q.useCallback(async(w,M={})=>{let{action:p,method:n,encType:h,formData:d,body:a}=W0(w,s);if(M.navigate===!1){let l=M.fetcherKey||py();await v(l,y,M.action||p,{unstable_defaultShouldRevalidate:M.unstable_defaultShouldRevalidate,preventScrollReset:M.preventScrollReset,formData:d,body:a,formMethod:M.method||n,formEncType:M.encType||h,flushSync:M.flushSync})}else await C(M.action||p,{unstable_defaultShouldRevalidate:M.unstable_defaultShouldRevalidate,preventScrollReset:M.preventScrollReset,formData:d,body:a,formMethod:M.method||n,formEncType:M.encType||h,replace:M.replace,state:M.state,fromRouteId:y,flushSync:M.flushSync,viewTransition:M.viewTransition})},[v,C,s,y])}function yy(u,{relative:s}={}){let{basename:y}=Q.useContext(ei),v=Q.useContext(di);it(v,"useFormAction must be used inside a RouteContext");let[C]=v.matches.slice(-1),w={...yr(u||".",{relative:s})},M=An();if(u==null){w.search=M.search;let p=new URLSearchParams(w.search),n=p.getAll("index");if(n.some(d=>d==="")){p.delete("index"),n.filter(a=>a).forEach(a=>p.append("index",a));let d=p.toString();w.search=d?`?${d}`:""}}return(!u||u===".")&&C.route.index&&(w.search=w.search?w.search.replace(/^\?/,"?index&"):"?index"),y!=="/"&&(w.pathname=w.pathname==="/"?y:ki([y,w.pathname])),gr(w)}function by(u,{relative:s}={}){let y=Q.useContext(Dg);it(y!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:v}=Hg("useViewTransitionState"),C=yr(u,{relative:s});if(!y.isTransitioning)return!1;let w=zi(y.currentLocation.pathname,v)||y.currentLocation.pathname,M=zi(y.nextLocation.pathname,v)||y.nextLocation.pathname;return Xs(C.pathname,M)!=null||Xs(C.pathname,w)!=null}const Sy=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xy=u=>u.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,y,v)=>v?v.toUpperCase():y.toLowerCase()),ug=u=>{const s=xy(u);return s.charAt(0).toUpperCase()+s.slice(1)},Ug=(...u)=>u.filter((s,y,v)=>!!s&&s.trim()!==""&&v.indexOf(s)===y).join(" ").trim(),_y=u=>{for(const s in u)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};var Cy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ty=Q.forwardRef(({color:u="currentColor",size:s=24,strokeWidth:y=2,absoluteStrokeWidth:v,className:C="",children:w,iconNode:M,...p},n)=>Q.createElement("svg",{ref:n,...Cy,width:s,height:s,stroke:u,strokeWidth:v?Number(y)*24/Number(s):y,className:Ug("lucide",C),...!w&&!_y(p)&&{"aria-hidden":"true"},...p},[...M.map(([h,d])=>Q.createElement(h,d)),...Array.isArray(w)?w:[w]]));const $e=(u,s)=>{const y=Q.forwardRef(({className:v,...C},w)=>Q.createElement(Ty,{ref:w,iconNode:s,className:Ug(`lucide-${Sy(ug(u))}`,`lucide-${u}`,v),...C}));return y.displayName=ug(u),y};const wy=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ey=$e("download",wy);const Oy=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],My=$e("facebook",Oy);const Ay=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Dy=$e("funnel",Ay);const jy=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Yu=$e("heart",jy);const Ly=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],ky=$e("instagram",Ly);const zy=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Ry=$e("menu",zy);const Ny=[["path",{d:"M5 12h14",key:"1ays0h"}]],By=$e("minus",Ny);const Py=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Fy=$e("moon",Py);const Hy=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Uy=$e("palette",Hy);const Yy=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xy=$e("plus",Yy);const Gy=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Vy=$e("refresh-cw",Gy);const Iy=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qy=$e("save",Iy);const Wy=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Qy=$e("share-2",Wy);const Zy=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],cg=$e("shirt",Zy);const Ky=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Yg=$e("shopping-bag",Ky);const Jy=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Xg=$e("shopping-cart",Jy);const $y=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],eb=$e("sun",$y);const tb=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Gg=$e("trash-2",tb);const ib=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],nb=$e("truck",ib);const ab=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],rb=$e("twitter",ab);const sb=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],fg=$e("type",sb);const lb=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ns=$e("upload",lb);const ob=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xu=$e("x",ob);const ub=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],cb=$e("zoom-in",ub);const fb=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],hb=$e("zoom-out",fb),Vg=Q.createContext(),db=({children:u})=>{const[s,y]=Q.useState("light");Q.useEffect(()=>{const C=localStorage.getItem("theme")||"light";y(C),document.documentElement.setAttribute("data-theme",C)},[]);const v=()=>{const C=s==="light"?"dark":"light";y(C),localStorage.setItem("theme",C),document.documentElement.setAttribute("data-theme",C)};return L.jsx(Vg.Provider,{value:{theme:s,toggleTheme:v},children:u})},gb=()=>Q.useContext(Vg),Ig=Q.createContext(),mb=({children:u})=>{const[s,y]=Q.useState([]);Q.useEffect(()=>{const p=JSON.parse(localStorage.getItem("favorites"))||[];y(p)},[]);const v=p=>{const n=[...s,p];y(n),localStorage.setItem("favorites",JSON.stringify(n))},C=p=>{const n=s.filter(h=>h.ID!==p);y(n),localStorage.setItem("favorites",JSON.stringify(n))},w=p=>s.some(n=>n.ID===p),M=p=>{w(p.ID)?C(p.ID):v(p)};return L.jsx(Ig.Provider,{value:{favorites:s,addToFavorites:v,removeFromFavorites:C,isFavorite:w,toggleFavorite:M},children:u})},Ks=()=>Q.useContext(Ig),qg=Q.createContext(),Gu=()=>Q.useContext(qg),pb=({children:u})=>{const[s,y]=Q.useState(()=>{const h=localStorage.getItem("cartItems");return h?JSON.parse(h):[]});Q.useEffect(()=>{localStorage.setItem("cartItems",JSON.stringify(s))},[s]);const v=(h,d,a=1)=>{y(l=>l.find(c=>c.id===h.ID&&c.size===d)?l.map(c=>c.id===h.ID&&c.size===d?{...c,quantity:c.quantity+a}:c):[...l,{...h,id:h.ID,size:d,quantity:a}])},C=(h,d)=>{y(a=>a.filter(l=>!(l.id===h&&l.size===d)))},w=(h,d,a)=>{y(l=>l.map(r=>r.id===h&&r.size===d?{...r,quantity:Math.max(1,a)}:r))},M=()=>{y([])},p=()=>s.reduce((h,d)=>h+d.Price*d.quantity,0),n=()=>s.reduce((h,d)=>h+d.quantity,0);return L.jsx(qg.Provider,{value:{cartItems:s,addToCart:v,removeFromCart:C,updateQuantity:w,clearCart:M,getCartTotal:p,getCartCount:n},children:u})},vb=()=>{const{theme:u,toggleTheme:s}=gb(),{favorites:y}=Ks(),{getCartCount:v}=Gu(),[C,w]=Q.useState(!1);return L.jsxs(L.Fragment,{children:[L.jsx("style",{children:`


@media only screen and (max-width: 600px) {

      .mobileStyle {
                   background-color: black; 
                }
}

@media only screen and (min-width: 600px) {
      .mobileStyle {
                   background-color: black; 
                }
}
          
            `}),L.jsxs("header",{className:"sticky top-0 z-50 bg-white/90 dark:bg-[#121212]/90 backdrop-blur-md border-b border-gray-200 dark:border-gray-800 transition-colors duration-300",children:[L.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[L.jsx(tt,{to:"/",className:"text-2xl font-bold font-heading tracking-wider",children:"LEGACY TRACES"}),L.jsxs("nav",{className:"hidden md:flex gap-8 items-center font-medium ",children:[L.jsx(tt,{to:"/",className:"hover:text-primary transition-colors",children:"Home"}),L.jsx(tt,{to:"/shop",className:"hover:text-primary transition-colors",children:"Shop"}),L.jsx(tt,{to:"/customize",className:"hover:text-primary transition-colors",children:"Customize"}),L.jsx(tt,{to:"/about",className:"hover:text-primary transition-colors",children:"Our Story"})]}),L.jsxs("div",{className:"flex items-center gap-4",children:[L.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:u==="light"?L.jsx(Fy,{size:20}):L.jsx(eb,{size:20})}),L.jsxs(tt,{to:"/favorites",className:"relative p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[L.jsx(Yu,{size:20}),y.length>0&&L.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-[10px] font-bold rounded-full w-4 h-4 flex items-center justify-center",children:y.length})]}),L.jsxs(tt,{to:"/cart",className:"relative p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[L.jsx(Yg,{size:20}),v()>0&&L.jsx("span",{className:"absolute top-0 right-0 bg-primary text-black text-[10px] font-bold rounded-full w-4 h-4 flex items-center justify-center",children:v()})]}),L.jsx("button",{className:"md:hidden p-2",onClick:()=>w(!0),children:L.jsx(Ry,{size:24})})]})]}),L.jsxs("div",{className:`fixed inset-0 bg-gray-50 dark:bg-gray-900 z-[60] transform transition-transform duration-300 ${C?"translate-x-0":"-translate-x-full"}`,children:[L.jsxs("div",{className:"p-4 flex justify-between items-center border-b border-gray-200 dark:border-gray-800 bg-white dark:bg-[#1e1e1e]",children:[L.jsx("h2",{className:"text-xl font-bold font-heading text-black dark:text-white",children:"MENU"}),L.jsx("button",{onClick:()=>w(!1),className:"p-2 text-black dark:text-white",children:L.jsx(Xu,{size:24})})]}),L.jsxs("nav",{className:"flex flex-col p-4 gap-2 text-lg font-medium mobileStyle",children:[L.jsx(tt,{to:"/",onClick:()=>w(!1),className:"block p-4 text-black dark:text-white hover:text-primary transition-colors border-b border-gray-200 dark:border-gray-800 last:border-none",children:"Home"}),L.jsx(tt,{to:"/shop",onClick:()=>w(!1),className:"block p-4 text-black dark:text-white hover:text-primary transition-colors border-b border-gray-200 dark:border-gray-800 last:border-none",children:"Shop"}),L.jsx(tt,{to:"/customize",onClick:()=>w(!1),className:"block p-4 text-black dark:text-white hover:text-primary transition-colors border-b border-gray-200 dark:border-gray-800 last:border-none",children:"Customize"}),L.jsx(tt,{to:"/about",onClick:()=>w(!1),className:"block p-4 text-black dark:text-white hover:text-primary transition-colors border-b border-gray-200 dark:border-gray-800 last:border-none",children:"Our Story"})]})]})]})]})},yb=()=>L.jsx("footer",{className:"bg-gray-50 dark:bg-[#1e1e1e] border-t border-gray-200 dark:border-gray-800 mt-auto pt-12 pb-8 transition-colors duration-300",children:L.jsxs("div",{className:"container mx-auto px-4",children:[L.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-8 mb-12",children:[L.jsxs("div",{className:"md:w-1/3",children:[L.jsx("h3",{className:"text-2xl font-bold font-heading mb-4",children:"LEGACY TRACES"}),L.jsx("p",{className:"text-gray-500 mb-6 leading-relaxed",children:"Premium streetwear for the modern generation. Quality, style, and comfort in every stitch."}),L.jsxs("div",{className:"flex gap-4",children:[L.jsx("a",{href:"#",className:"p-2 rounded-full bg-gray-200 dark:bg-gray-800 hover:bg-primary hover:text-white transition-colors",children:L.jsx(My,{size:20})}),L.jsx("a",{href:"https://www.instagram.com/legacy_traces_?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==",target:"_blank",className:"p-2 rounded-full bg-gray-200 dark:bg-gray-800 hover:bg-primary hover:text-white transition-colors",children:L.jsx(ky,{size:20})}),L.jsx("a",{href:"#",className:"p-2 rounded-full bg-gray-200 dark:bg-gray-800 hover:bg-primary hover:text-white transition-colors",children:L.jsx(rb,{size:20})})]})]}),L.jsxs("div",{className:"md:w-1/6",children:[L.jsx("h4",{className:"font-bold mb-4 uppercase tracking-wider text-sm",children:"Shop"}),L.jsxs("ul",{className:"space-y-2 text-gray-500",children:[L.jsx("li",{children:L.jsx(tt,{to:"/shop",className:"hover:text-primary transition-colors",children:"Men"})}),L.jsx("li",{children:L.jsx(tt,{to:"/shop",className:"hover:text-primary transition-colors",children:"Women"})}),L.jsx("li",{children:L.jsx(tt,{to:"/shop",className:"hover:text-primary transition-colors",children:"New Arrivals"})}),L.jsx("li",{children:L.jsx(tt,{to:"/shop",className:"hover:text-primary transition-colors",children:"Best Sellers"})})]})]}),L.jsxs("div",{className:"md:w-1/6",children:[L.jsx("h4",{className:"font-bold mb-4 uppercase tracking-wider text-sm",children:"Support"}),L.jsxs("ul",{className:"space-y-2 text-gray-500",children:[L.jsx("li",{children:L.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Track Order"})}),L.jsx("li",{children:L.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Returns & Exchanges"})}),L.jsx("li",{children:L.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Shipping Policy"})}),L.jsx("li",{children:L.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Contact Us"})})]})]}),L.jsxs("div",{className:"md:w-1/3",children:[L.jsx("h4",{className:"font-bold mb-4 uppercase tracking-wider text-sm",children:"Newsletter"}),L.jsx("p",{className:"text-gray-500 mb-4 text-sm",children:"Subscribe to get special offers, free giveaways, and once-in-a-lifetime deals."}),L.jsxs("div",{className:"flex gap-2",children:[L.jsx("input",{type:"email",placeholder:"Enter your email",className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-700 bg-transparent focus:outline-none focus:border-primary"}),L.jsx("button",{className:"bg-primary text-black px-6 py-3 rounded-lg font-bold hover:bg-green-400 transition-colors",children:"JOIN"})]})]})]}),L.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-8 text-center text-gray-500 text-sm",children:[" ",new Date().getFullYear()," Legacy Traces. All rights reserved."]})]})});function hg(u){return u!==null&&typeof u=="object"&&"constructor"in u&&u.constructor===Object}function Vu(u={},s={}){const y=["__proto__","constructor","prototype"];Object.keys(s).filter(v=>y.indexOf(v)<0).forEach(v=>{typeof u[v]>"u"?u[v]=s[v]:hg(s[v])&&hg(u[v])&&Object.keys(s[v]).length>0&&Vu(u[v],s[v])})}const Wg={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function hi(){const u=typeof document<"u"?document:{};return Vu(u,Wg),u}const bb={document:Wg,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(u){return typeof setTimeout>"u"?(u(),null):setTimeout(u,0)},cancelAnimationFrame(u){typeof setTimeout>"u"||clearTimeout(u)}};function Ot(){const u=typeof window<"u"?window:{};return Vu(u,bb),u}function Sb(u=""){return u.trim().split(" ").filter(s=>!!s.trim())}function xb(u){const s=u;Object.keys(s).forEach(y=>{try{s[y]=null}catch{}try{delete s[y]}catch{}})}function Qg(u,s=0){return setTimeout(u,s)}function Gs(){return Date.now()}function _b(u){const s=Ot();let y;return s.getComputedStyle&&(y=s.getComputedStyle(u,null)),!y&&u.currentStyle&&(y=u.currentStyle),y||(y=u.style),y}function Cb(u,s="x"){const y=Ot();let v,C,w;const M=_b(u);return y.WebKitCSSMatrix?(C=M.transform||M.webkitTransform,C.split(",").length>6&&(C=C.split(", ").map(p=>p.replace(",",".")).join(", ")),w=new y.WebKitCSSMatrix(C==="none"?"":C)):(w=M.MozTransform||M.OTransform||M.MsTransform||M.msTransform||M.transform||M.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),v=w.toString().split(",")),s==="x"&&(y.WebKitCSSMatrix?C=w.m41:v.length===16?C=parseFloat(v[12]):C=parseFloat(v[4])),s==="y"&&(y.WebKitCSSMatrix?C=w.m42:v.length===16?C=parseFloat(v[13]):C=parseFloat(v[5])),C||0}function Bs(u){return typeof u=="object"&&u!==null&&u.constructor&&Object.prototype.toString.call(u).slice(8,-1)==="Object"}function Tb(u){return typeof window<"u"&&typeof window.HTMLElement<"u"?u instanceof HTMLElement:u&&(u.nodeType===1||u.nodeType===11)}function Yt(...u){const s=Object(u[0]),y=["__proto__","constructor","prototype"];for(let v=1;v<u.length;v+=1){const C=u[v];if(C!=null&&!Tb(C)){const w=Object.keys(Object(C)).filter(M=>y.indexOf(M)<0);for(let M=0,p=w.length;M<p;M+=1){const n=w[M],h=Object.getOwnPropertyDescriptor(C,n);h!==void 0&&h.enumerable&&(Bs(s[n])&&Bs(C[n])?C[n].__swiper__?s[n]=C[n]:Yt(s[n],C[n]):!Bs(s[n])&&Bs(C[n])?(s[n]={},C[n].__swiper__?s[n]=C[n]:Yt(s[n],C[n])):s[n]=C[n])}}}return s}function Ps(u,s,y){u.style.setProperty(s,y)}function Zg({swiper:u,targetPosition:s,side:y}){const v=Ot(),C=-u.translate;let w=null,M;const p=u.params.speed;u.wrapperEl.style.scrollSnapType="none",v.cancelAnimationFrame(u.cssModeFrameID);const n=s>C?"next":"prev",h=(a,l)=>n==="next"&&a>=l||n==="prev"&&a<=l,d=()=>{M=new Date().getTime(),w===null&&(w=M);const a=Math.max(Math.min((M-w)/p,1),0),l=.5-Math.cos(a*Math.PI)/2;let r=C+l*(s-C);if(h(r,s)&&(r=s),u.wrapperEl.scrollTo({[y]:r}),h(r,s)){u.wrapperEl.style.overflow="hidden",u.wrapperEl.style.scrollSnapType="",setTimeout(()=>{u.wrapperEl.style.overflow="",u.wrapperEl.scrollTo({[y]:r})}),v.cancelAnimationFrame(u.cssModeFrameID);return}u.cssModeFrameID=v.requestAnimationFrame(d)};d()}function fi(u,s=""){const y=Ot(),v=[...u.children];return y.HTMLSlotElement&&u instanceof HTMLSlotElement&&v.push(...u.assignedElements()),s?v.filter(C=>C.matches(s)):v}function wb(u,s){const y=[s];for(;y.length>0;){const v=y.shift();if(u===v)return!0;y.push(...v.children,...v.shadowRoot?v.shadowRoot.children:[],...v.assignedElements?v.assignedElements():[])}}function Eb(u,s){const y=Ot();let v=s.contains(u);return!v&&y.HTMLSlotElement&&s instanceof HTMLSlotElement&&(v=[...s.assignedElements()].includes(u),v||(v=wb(u,s))),v}function Vs(u){try{console.warn(u);return}catch{}}function Is(u,s=[]){const y=document.createElement(u);return y.classList.add(...Array.isArray(s)?s:Sb(s)),y}function Ob(u,s){const y=[];for(;u.previousElementSibling;){const v=u.previousElementSibling;s?v.matches(s)&&y.push(v):y.push(v),u=v}return y}function Mb(u,s){const y=[];for(;u.nextElementSibling;){const v=u.nextElementSibling;s?v.matches(s)&&y.push(v):y.push(v),u=v}return y}function sn(u,s){return Ot().getComputedStyle(u,null).getPropertyValue(s)}function qs(u){let s=u,y;if(s){for(y=0;(s=s.previousSibling)!==null;)s.nodeType===1&&(y+=1);return y}}function Kg(u,s){const y=[];let v=u.parentElement;for(;v;)s?v.matches(s)&&y.push(v):y.push(v),v=v.parentElement;return y}function ku(u,s,y){const v=Ot();return u[s==="width"?"offsetWidth":"offsetHeight"]+parseFloat(v.getComputedStyle(u,null).getPropertyValue(s==="width"?"margin-right":"margin-top"))+parseFloat(v.getComputedStyle(u,null).getPropertyValue(s==="width"?"margin-left":"margin-bottom"))}function vt(u){return(Array.isArray(u)?u:[u]).filter(s=>!!s)}function mr(u,s=""){typeof trustedTypes<"u"?u.innerHTML=trustedTypes.createPolicy("html",{createHTML:y=>y}).createHTML(s):u.innerHTML=s}let Su;function Ab(){const u=Ot(),s=hi();return{smoothScroll:s.documentElement&&s.documentElement.style&&"scrollBehavior"in s.documentElement.style,touch:!!("ontouchstart"in u||u.DocumentTouch&&s instanceof u.DocumentTouch)}}function Jg(){return Su||(Su=Ab()),Su}let xu;function Db({userAgent:u}={}){const s=Jg(),y=Ot(),v=y.navigator.platform,C=u||y.navigator.userAgent,w={ios:!1,android:!1},M=y.screen.width,p=y.screen.height,n=C.match(/(Android);?[\s\/]+([\d.]+)?/);let h=C.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const d=C.match(/(iPod)(.*OS\s([\d_]+))?/),a=!h&&C.match(/(iPhone\sOS|iOS)\s([\d_]+)/),l=v==="Win32";let r=v==="MacIntel";const c=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!h&&r&&s.touch&&c.indexOf(`${M}x${p}`)>=0&&(h=C.match(/(Version)\/([\d.]+)/),h||(h=[0,1,"13_0_0"]),r=!1),n&&!l&&(w.os="android",w.android=!0),(h||a||d)&&(w.os="ios",w.ios=!0),w}function $g(u={}){return xu||(xu=Db(u)),xu}let _u;function jb(){const u=Ot(),s=$g();let y=!1;function v(){const p=u.navigator.userAgent.toLowerCase();return p.indexOf("safari")>=0&&p.indexOf("chrome")<0&&p.indexOf("android")<0}if(v()){const p=String(u.navigator.userAgent);if(p.includes("Version/")){const[n,h]=p.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));y=n<16||n===16&&h<2}}const C=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(u.navigator.userAgent),w=v(),M=w||C&&s.ios;return{isSafari:y||w,needPerspectiveFix:y,need3dFix:M,isWebView:C}}function em(){return _u||(_u=jb()),_u}function Lb({swiper:u,on:s,emit:y}){const v=Ot();let C=null,w=null;const M=()=>{!u||u.destroyed||!u.initialized||(y("beforeResize"),y("resize"))},p=()=>{!u||u.destroyed||!u.initialized||(C=new ResizeObserver(d=>{w=v.requestAnimationFrame(()=>{const{width:a,height:l}=u;let r=a,c=l;d.forEach(({contentBoxSize:g,contentRect:o,target:m})=>{m&&m!==u.el||(r=o?o.width:(g[0]||g).inlineSize,c=o?o.height:(g[0]||g).blockSize)}),(r!==a||c!==l)&&M()})}),C.observe(u.el))},n=()=>{w&&v.cancelAnimationFrame(w),C&&C.unobserve&&u.el&&(C.unobserve(u.el),C=null)},h=()=>{!u||u.destroyed||!u.initialized||y("orientationchange")};s("init",()=>{if(u.params.resizeObserver&&typeof v.ResizeObserver<"u"){p();return}v.addEventListener("resize",M),v.addEventListener("orientationchange",h)}),s("destroy",()=>{n(),v.removeEventListener("resize",M),v.removeEventListener("orientationchange",h)})}function kb({swiper:u,extendParams:s,on:y,emit:v}){const C=[],w=Ot(),M=(h,d={})=>{const a=w.MutationObserver||w.WebkitMutationObserver,l=new a(r=>{if(u.__preventObserver__)return;if(r.length===1){v("observerUpdate",r[0]);return}const c=function(){v("observerUpdate",r[0])};w.requestAnimationFrame?w.requestAnimationFrame(c):w.setTimeout(c,0)});l.observe(h,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:u.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),C.push(l)},p=()=>{if(u.params.observer){if(u.params.observeParents){const h=Kg(u.hostEl);for(let d=0;d<h.length;d+=1)M(h[d])}M(u.hostEl,{childList:u.params.observeSlideChildren}),M(u.wrapperEl,{attributes:!1})}},n=()=>{C.forEach(h=>{h.disconnect()}),C.splice(0,C.length)};s({observer:!1,observeParents:!1,observeSlideChildren:!1}),y("init",p),y("destroy",n)}var zb={on(u,s,y){const v=this;if(!v.eventsListeners||v.destroyed||typeof s!="function")return v;const C=y?"unshift":"push";return u.split(" ").forEach(w=>{v.eventsListeners[w]||(v.eventsListeners[w]=[]),v.eventsListeners[w][C](s)}),v},once(u,s,y){const v=this;if(!v.eventsListeners||v.destroyed||typeof s!="function")return v;function C(...w){v.off(u,C),C.__emitterProxy&&delete C.__emitterProxy,s.apply(v,w)}return C.__emitterProxy=s,v.on(u,C,y)},onAny(u,s){const y=this;if(!y.eventsListeners||y.destroyed||typeof u!="function")return y;const v=s?"unshift":"push";return y.eventsAnyListeners.indexOf(u)<0&&y.eventsAnyListeners[v](u),y},offAny(u){const s=this;if(!s.eventsListeners||s.destroyed||!s.eventsAnyListeners)return s;const y=s.eventsAnyListeners.indexOf(u);return y>=0&&s.eventsAnyListeners.splice(y,1),s},off(u,s){const y=this;return!y.eventsListeners||y.destroyed||!y.eventsListeners||u.split(" ").forEach(v=>{typeof s>"u"?y.eventsListeners[v]=[]:y.eventsListeners[v]&&y.eventsListeners[v].forEach((C,w)=>{(C===s||C.__emitterProxy&&C.__emitterProxy===s)&&y.eventsListeners[v].splice(w,1)})}),y},emit(...u){const s=this;if(!s.eventsListeners||s.destroyed||!s.eventsListeners)return s;let y,v,C;return typeof u[0]=="string"||Array.isArray(u[0])?(y=u[0],v=u.slice(1,u.length),C=s):(y=u[0].events,v=u[0].data,C=u[0].context||s),v.unshift(C),(Array.isArray(y)?y:y.split(" ")).forEach(M=>{s.eventsAnyListeners&&s.eventsAnyListeners.length&&s.eventsAnyListeners.forEach(p=>{p.apply(C,[M,...v])}),s.eventsListeners&&s.eventsListeners[M]&&s.eventsListeners[M].forEach(p=>{p.apply(C,v)})}),s}};function Rb(){const u=this;let s,y;const v=u.el;typeof u.params.width<"u"&&u.params.width!==null?s=u.params.width:s=v.clientWidth,typeof u.params.height<"u"&&u.params.height!==null?y=u.params.height:y=v.clientHeight,!(s===0&&u.isHorizontal()||y===0&&u.isVertical())&&(s=s-parseInt(sn(v,"padding-left")||0,10)-parseInt(sn(v,"padding-right")||0,10),y=y-parseInt(sn(v,"padding-top")||0,10)-parseInt(sn(v,"padding-bottom")||0,10),Number.isNaN(s)&&(s=0),Number.isNaN(y)&&(y=0),Object.assign(u,{width:s,height:y,size:u.isHorizontal()?s:y}))}function Nb(){const u=this;function s(H,V){return parseFloat(H.getPropertyValue(u.getDirectionLabel(V))||0)}const y=u.params,{wrapperEl:v,slidesEl:C,rtlTranslate:w,wrongRTL:M}=u,p=u.virtual&&y.virtual.enabled,n=p?u.virtual.slides.length:u.slides.length,h=fi(C,`.${u.params.slideClass}, swiper-slide`),d=p?u.virtual.slides.length:h.length;let a=[];const l=[],r=[];let c=y.slidesOffsetBefore;typeof c=="function"&&(c=y.slidesOffsetBefore.call(u));let g=y.slidesOffsetAfter;typeof g=="function"&&(g=y.slidesOffsetAfter.call(u));const o=u.snapGrid.length,m=u.slidesGrid.length,b=u.size-c-g;let _=y.spaceBetween,T=-c,E=0,D=0;if(typeof b>"u")return;typeof _=="string"&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*b:typeof _=="string"&&(_=parseFloat(_)),u.virtualSize=-_-c-g,h.forEach(H=>{w?H.style.marginLeft="":H.style.marginRight="",H.style.marginBottom="",H.style.marginTop=""}),y.centeredSlides&&y.cssMode&&(Ps(v,"--swiper-centered-offset-before",""),Ps(v,"--swiper-centered-offset-after",""));const k=y.grid&&y.grid.rows>1&&u.grid;k?u.grid.initSlides(h):u.grid&&u.grid.unsetSlides();let N;const q=y.slidesPerView==="auto"&&y.breakpoints&&Object.keys(y.breakpoints).filter(H=>typeof y.breakpoints[H].slidesPerView<"u").length>0;for(let H=0;H<d;H+=1){N=0;const V=h[H];if(!(V&&(k&&u.grid.updateSlide(H,V,h),sn(V,"display")==="none"))){if(p&&y.slidesPerView==="auto")y.virtual.slidesPerViewAutoSlideSize&&(N=y.virtual.slidesPerViewAutoSlideSize),N&&V&&(y.roundLengths&&(N=Math.floor(N)),V.style[u.getDirectionLabel("width")]=`${N}px`);else if(y.slidesPerView==="auto"){q&&(V.style[u.getDirectionLabel("width")]="");const ee=getComputedStyle(V),ce=V.style.transform,re=V.style.webkitTransform;if(ce&&(V.style.transform="none"),re&&(V.style.webkitTransform="none"),y.roundLengths)N=u.isHorizontal()?ku(V,"width"):ku(V,"height");else{const fe=s(ee,"width"),I=s(ee,"padding-left"),J=s(ee,"padding-right"),K=s(ee,"margin-left"),j=s(ee,"margin-right"),F=ee.getPropertyValue("box-sizing");if(F&&F==="border-box")N=fe+K+j;else{const{clientWidth:A,offsetWidth:B}=V;N=fe+I+J+K+j+(B-A)}}ce&&(V.style.transform=ce),re&&(V.style.webkitTransform=re),y.roundLengths&&(N=Math.floor(N))}else N=(b-(y.slidesPerView-1)*_)/y.slidesPerView,y.roundLengths&&(N=Math.floor(N)),V&&(V.style[u.getDirectionLabel("width")]=`${N}px`);V&&(V.swiperSlideSize=N),r.push(N),y.centeredSlides?(T=T+N/2+E/2+_,E===0&&H!==0&&(T=T-b/2-_),H===0&&(T=T-b/2-_),Math.abs(T)<1/1e3&&(T=0),y.roundLengths&&(T=Math.floor(T)),D%y.slidesPerGroup===0&&a.push(T),l.push(T)):(y.roundLengths&&(T=Math.floor(T)),(D-Math.min(u.params.slidesPerGroupSkip,D))%u.params.slidesPerGroup===0&&a.push(T),l.push(T),T=T+N+_),u.virtualSize+=N+_,E=N,D+=1}}if(u.virtualSize=Math.max(u.virtualSize,b)+g,w&&M&&(y.effect==="slide"||y.effect==="coverflow")&&(v.style.width=`${u.virtualSize+_}px`),y.setWrapperSize&&(v.style[u.getDirectionLabel("width")]=`${u.virtualSize+_}px`),k&&u.grid.updateWrapperSize(N,a),!y.centeredSlides){const H=[];for(let V=0;V<a.length;V+=1){let ee=a[V];y.roundLengths&&(ee=Math.floor(ee)),a[V]<=u.virtualSize-b&&H.push(ee)}a=H,Math.floor(u.virtualSize-b)-Math.floor(a[a.length-1])>1&&a.push(u.virtualSize-b)}if(p&&y.loop){const H=r[0]+_;if(y.slidesPerGroup>1){const V=Math.ceil((u.virtual.slidesBefore+u.virtual.slidesAfter)/y.slidesPerGroup),ee=H*y.slidesPerGroup;for(let ce=0;ce<V;ce+=1)a.push(a[a.length-1]+ee)}for(let V=0;V<u.virtual.slidesBefore+u.virtual.slidesAfter;V+=1)y.slidesPerGroup===1&&a.push(a[a.length-1]+H),l.push(l[l.length-1]+H),u.virtualSize+=H}if(a.length===0&&(a=[0]),_!==0){const H=u.isHorizontal()&&w?"marginLeft":u.getDirectionLabel("marginRight");h.filter((V,ee)=>!y.cssMode||y.loop?!0:ee!==h.length-1).forEach(V=>{V.style[H]=`${_}px`})}if(y.centeredSlides&&y.centeredSlidesBounds){let H=0;r.forEach(ee=>{H+=ee+(_||0)}),H-=_;const V=H>b?H-b:0;a=a.map(ee=>ee<=0?-c:ee>V?V+g:ee)}if(y.centerInsufficientSlides){let H=0;r.forEach(ee=>{H+=ee+(_||0)}),H-=_;const V=(c||0)+(g||0);if(H+V<b){const ee=(b-H-V)/2;a.forEach((ce,re)=>{a[re]=ce-ee}),l.forEach((ce,re)=>{l[re]=ce+ee})}}if(Object.assign(u,{slides:h,snapGrid:a,slidesGrid:l,slidesSizesGrid:r}),y.centeredSlides&&y.cssMode&&!y.centeredSlidesBounds){Ps(v,"--swiper-centered-offset-before",`${-a[0]}px`),Ps(v,"--swiper-centered-offset-after",`${u.size/2-r[r.length-1]/2}px`);const H=-u.snapGrid[0],V=-u.slidesGrid[0];u.snapGrid=u.snapGrid.map(ee=>ee+H),u.slidesGrid=u.slidesGrid.map(ee=>ee+V)}if(d!==n&&u.emit("slidesLengthChange"),a.length!==o&&(u.params.watchOverflow&&u.checkOverflow(),u.emit("snapGridLengthChange")),l.length!==m&&u.emit("slidesGridLengthChange"),y.watchSlidesProgress&&u.updateSlidesOffset(),u.emit("slidesUpdated"),!p&&!y.cssMode&&(y.effect==="slide"||y.effect==="fade")){const H=`${y.containerModifierClass}backface-hidden`,V=u.el.classList.contains(H);d<=y.maxBackfaceHiddenSlides?V||u.el.classList.add(H):V&&u.el.classList.remove(H)}}function Bb(u){const s=this,y=[],v=s.virtual&&s.params.virtual.enabled;let C=0,w;typeof u=="number"?s.setTransition(u):u===!0&&s.setTransition(s.params.speed);const M=p=>v?s.slides[s.getSlideIndexByData(p)]:s.slides[p];if(s.params.slidesPerView!=="auto"&&s.params.slidesPerView>1)if(s.params.centeredSlides)(s.visibleSlides||[]).forEach(p=>{y.push(p)});else for(w=0;w<Math.ceil(s.params.slidesPerView);w+=1){const p=s.activeIndex+w;if(p>s.slides.length&&!v)break;y.push(M(p))}else y.push(M(s.activeIndex));for(w=0;w<y.length;w+=1)if(typeof y[w]<"u"){const p=y[w].offsetHeight;C=p>C?p:C}(C||C===0)&&(s.wrapperEl.style.height=`${C}px`)}function Pb(){const u=this,s=u.slides,y=u.isElement?u.isHorizontal()?u.wrapperEl.offsetLeft:u.wrapperEl.offsetTop:0;for(let v=0;v<s.length;v+=1)s[v].swiperSlideOffset=(u.isHorizontal()?s[v].offsetLeft:s[v].offsetTop)-y-u.cssOverflowAdjustment()}const dg=(u,s,y)=>{s&&!u.classList.contains(y)?u.classList.add(y):!s&&u.classList.contains(y)&&u.classList.remove(y)};function Fb(u=this&&this.translate||0){const s=this,y=s.params,{slides:v,rtlTranslate:C,snapGrid:w}=s;if(v.length===0)return;typeof v[0].swiperSlideOffset>"u"&&s.updateSlidesOffset();let M=-u;C&&(M=u),s.visibleSlidesIndexes=[],s.visibleSlides=[];let p=y.spaceBetween;typeof p=="string"&&p.indexOf("%")>=0?p=parseFloat(p.replace("%",""))/100*s.size:typeof p=="string"&&(p=parseFloat(p));for(let n=0;n<v.length;n+=1){const h=v[n];let d=h.swiperSlideOffset;y.cssMode&&y.centeredSlides&&(d-=v[0].swiperSlideOffset);const a=(M+(y.centeredSlides?s.minTranslate():0)-d)/(h.swiperSlideSize+p),l=(M-w[0]+(y.centeredSlides?s.minTranslate():0)-d)/(h.swiperSlideSize+p),r=-(M-d),c=r+s.slidesSizesGrid[n],g=r>=0&&r<=s.size-s.slidesSizesGrid[n],o=r>=0&&r<s.size-1||c>1&&c<=s.size||r<=0&&c>=s.size;o&&(s.visibleSlides.push(h),s.visibleSlidesIndexes.push(n)),dg(h,o,y.slideVisibleClass),dg(h,g,y.slideFullyVisibleClass),h.progress=C?-a:a,h.originalProgress=C?-l:l}}function Hb(u){const s=this;if(typeof u>"u"){const d=s.rtlTranslate?-1:1;u=s&&s.translate&&s.translate*d||0}const y=s.params,v=s.maxTranslate()-s.minTranslate();let{progress:C,isBeginning:w,isEnd:M,progressLoop:p}=s;const n=w,h=M;if(v===0)C=0,w=!0,M=!0;else{C=(u-s.minTranslate())/v;const d=Math.abs(u-s.minTranslate())<1,a=Math.abs(u-s.maxTranslate())<1;w=d||C<=0,M=a||C>=1,d&&(C=0),a&&(C=1)}if(y.loop){const d=s.getSlideIndexByData(0),a=s.getSlideIndexByData(s.slides.length-1),l=s.slidesGrid[d],r=s.slidesGrid[a],c=s.slidesGrid[s.slidesGrid.length-1],g=Math.abs(u);g>=l?p=(g-l)/c:p=(g+c-r)/c,p>1&&(p-=1)}Object.assign(s,{progress:C,progressLoop:p,isBeginning:w,isEnd:M}),(y.watchSlidesProgress||y.centeredSlides&&y.autoHeight)&&s.updateSlidesProgress(u),w&&!n&&s.emit("reachBeginning toEdge"),M&&!h&&s.emit("reachEnd toEdge"),(n&&!w||h&&!M)&&s.emit("fromEdge"),s.emit("progress",C)}const Cu=(u,s,y)=>{s&&!u.classList.contains(y)?u.classList.add(y):!s&&u.classList.contains(y)&&u.classList.remove(y)};function Ub(){const u=this,{slides:s,params:y,slidesEl:v,activeIndex:C}=u,w=u.virtual&&y.virtual.enabled,M=u.grid&&y.grid&&y.grid.rows>1,p=a=>fi(v,`.${y.slideClass}${a}, swiper-slide${a}`)[0];let n,h,d;if(w)if(y.loop){let a=C-u.virtual.slidesBefore;a<0&&(a=u.virtual.slides.length+a),a>=u.virtual.slides.length&&(a-=u.virtual.slides.length),n=p(`[data-swiper-slide-index="${a}"]`)}else n=p(`[data-swiper-slide-index="${C}"]`);else M?(n=s.find(a=>a.column===C),d=s.find(a=>a.column===C+1),h=s.find(a=>a.column===C-1)):n=s[C];n&&(M||(d=Mb(n,`.${y.slideClass}, swiper-slide`)[0],y.loop&&!d&&(d=s[0]),h=Ob(n,`.${y.slideClass}, swiper-slide`)[0],y.loop&&!h===0&&(h=s[s.length-1]))),s.forEach(a=>{Cu(a,a===n,y.slideActiveClass),Cu(a,a===d,y.slideNextClass),Cu(a,a===h,y.slidePrevClass)}),u.emitSlidesClasses()}const Ys=(u,s)=>{if(!u||u.destroyed||!u.params)return;const y=()=>u.isElement?"swiper-slide":`.${u.params.slideClass}`,v=s.closest(y());if(v){let C=v.querySelector(`.${u.params.lazyPreloaderClass}`);!C&&u.isElement&&(v.shadowRoot?C=v.shadowRoot.querySelector(`.${u.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{v.shadowRoot&&(C=v.shadowRoot.querySelector(`.${u.params.lazyPreloaderClass}`),C&&C.remove())})),C&&C.remove()}},Tu=(u,s)=>{if(!u.slides[s])return;const y=u.slides[s].querySelector('[loading="lazy"]');y&&y.removeAttribute("loading")},zu=u=>{if(!u||u.destroyed||!u.params)return;let s=u.params.lazyPreloadPrevNext;const y=u.slides.length;if(!y||!s||s<0)return;s=Math.min(s,y);const v=u.params.slidesPerView==="auto"?u.slidesPerViewDynamic():Math.ceil(u.params.slidesPerView),C=u.activeIndex;if(u.params.grid&&u.params.grid.rows>1){const M=C,p=[M-s];p.push(...Array.from({length:s}).map((n,h)=>M+v+h)),u.slides.forEach((n,h)=>{p.includes(n.column)&&Tu(u,h)});return}const w=C+v-1;if(u.params.rewind||u.params.loop)for(let M=C-s;M<=w+s;M+=1){const p=(M%y+y)%y;(p<C||p>w)&&Tu(u,p)}else for(let M=Math.max(C-s,0);M<=Math.min(w+s,y-1);M+=1)M!==C&&(M>w||M<C)&&Tu(u,M)};function Yb(u){const{slidesGrid:s,params:y}=u,v=u.rtlTranslate?u.translate:-u.translate;let C;for(let w=0;w<s.length;w+=1)typeof s[w+1]<"u"?v>=s[w]&&v<s[w+1]-(s[w+1]-s[w])/2?C=w:v>=s[w]&&v<s[w+1]&&(C=w+1):v>=s[w]&&(C=w);return y.normalizeSlideIndex&&(C<0||typeof C>"u")&&(C=0),C}function Xb(u){const s=this,y=s.rtlTranslate?s.translate:-s.translate,{snapGrid:v,params:C,activeIndex:w,realIndex:M,snapIndex:p}=s;let n=u,h;const d=r=>{let c=r-s.virtual.slidesBefore;return c<0&&(c=s.virtual.slides.length+c),c>=s.virtual.slides.length&&(c-=s.virtual.slides.length),c};if(typeof n>"u"&&(n=Yb(s)),v.indexOf(y)>=0)h=v.indexOf(y);else{const r=Math.min(C.slidesPerGroupSkip,n);h=r+Math.floor((n-r)/C.slidesPerGroup)}if(h>=v.length&&(h=v.length-1),n===w&&!s.params.loop){h!==p&&(s.snapIndex=h,s.emit("snapIndexChange"));return}if(n===w&&s.params.loop&&s.virtual&&s.params.virtual.enabled){s.realIndex=d(n);return}const a=s.grid&&C.grid&&C.grid.rows>1;let l;if(s.virtual&&C.virtual.enabled&&C.loop)l=d(n);else if(a){const r=s.slides.find(g=>g.column===n);let c=parseInt(r.getAttribute("data-swiper-slide-index"),10);Number.isNaN(c)&&(c=Math.max(s.slides.indexOf(r),0)),l=Math.floor(c/C.grid.rows)}else if(s.slides[n]){const r=s.slides[n].getAttribute("data-swiper-slide-index");r?l=parseInt(r,10):l=n}else l=n;Object.assign(s,{previousSnapIndex:p,snapIndex:h,previousRealIndex:M,realIndex:l,previousIndex:w,activeIndex:n}),s.initialized&&zu(s),s.emit("activeIndexChange"),s.emit("snapIndexChange"),(s.initialized||s.params.runCallbacksOnInit)&&(M!==l&&s.emit("realIndexChange"),s.emit("slideChange"))}function Gb(u,s){const y=this,v=y.params;let C=u.closest(`.${v.slideClass}, swiper-slide`);!C&&y.isElement&&s&&s.length>1&&s.includes(u)&&[...s.slice(s.indexOf(u)+1,s.length)].forEach(p=>{!C&&p.matches&&p.matches(`.${v.slideClass}, swiper-slide`)&&(C=p)});let w=!1,M;if(C){for(let p=0;p<y.slides.length;p+=1)if(y.slides[p]===C){w=!0,M=p;break}}if(C&&w)y.clickedSlide=C,y.virtual&&y.params.virtual.enabled?y.clickedIndex=parseInt(C.getAttribute("data-swiper-slide-index"),10):y.clickedIndex=M;else{y.clickedSlide=void 0,y.clickedIndex=void 0;return}v.slideToClickedSlide&&y.clickedIndex!==void 0&&y.clickedIndex!==y.activeIndex&&y.slideToClickedSlide()}var Vb={updateSize:Rb,updateSlides:Nb,updateAutoHeight:Bb,updateSlidesOffset:Pb,updateSlidesProgress:Fb,updateProgress:Hb,updateSlidesClasses:Ub,updateActiveIndex:Xb,updateClickedSlide:Gb};function Ib(u=this.isHorizontal()?"x":"y"){const s=this,{params:y,rtlTranslate:v,translate:C,wrapperEl:w}=s;if(y.virtualTranslate)return v?-C:C;if(y.cssMode)return C;let M=Cb(w,u);return M+=s.cssOverflowAdjustment(),v&&(M=-M),M||0}function qb(u,s){const y=this,{rtlTranslate:v,params:C,wrapperEl:w,progress:M}=y;let p=0,n=0;const h=0;y.isHorizontal()?p=v?-u:u:n=u,C.roundLengths&&(p=Math.floor(p),n=Math.floor(n)),y.previousTranslate=y.translate,y.translate=y.isHorizontal()?p:n,C.cssMode?w[y.isHorizontal()?"scrollLeft":"scrollTop"]=y.isHorizontal()?-p:-n:C.virtualTranslate||(y.isHorizontal()?p-=y.cssOverflowAdjustment():n-=y.cssOverflowAdjustment(),w.style.transform=`translate3d(${p}px, ${n}px, ${h}px)`);let d;const a=y.maxTranslate()-y.minTranslate();a===0?d=0:d=(u-y.minTranslate())/a,d!==M&&y.updateProgress(u),y.emit("setTranslate",y.translate,s)}function Wb(){return-this.snapGrid[0]}function Qb(){return-this.snapGrid[this.snapGrid.length-1]}function Zb(u=0,s=this.params.speed,y=!0,v=!0,C){const w=this,{params:M,wrapperEl:p}=w;if(w.animating&&M.preventInteractionOnTransition)return!1;const n=w.minTranslate(),h=w.maxTranslate();let d;if(v&&u>n?d=n:v&&u<h?d=h:d=u,w.updateProgress(d),M.cssMode){const a=w.isHorizontal();if(s===0)p[a?"scrollLeft":"scrollTop"]=-d;else{if(!w.support.smoothScroll)return Zg({swiper:w,targetPosition:-d,side:a?"left":"top"}),!0;p.scrollTo({[a?"left":"top"]:-d,behavior:"smooth"})}return!0}return s===0?(w.setTransition(0),w.setTranslate(d),y&&(w.emit("beforeTransitionStart",s,C),w.emit("transitionEnd"))):(w.setTransition(s),w.setTranslate(d),y&&(w.emit("beforeTransitionStart",s,C),w.emit("transitionStart")),w.animating||(w.animating=!0,w.onTranslateToWrapperTransitionEnd||(w.onTranslateToWrapperTransitionEnd=function(l){!w||w.destroyed||l.target===this&&(w.wrapperEl.removeEventListener("transitionend",w.onTranslateToWrapperTransitionEnd),w.onTranslateToWrapperTransitionEnd=null,delete w.onTranslateToWrapperTransitionEnd,w.animating=!1,y&&w.emit("transitionEnd"))}),w.wrapperEl.addEventListener("transitionend",w.onTranslateToWrapperTransitionEnd))),!0}var Kb={getTranslate:Ib,setTranslate:qb,minTranslate:Wb,maxTranslate:Qb,translateTo:Zb};function Jb(u,s){const y=this;y.params.cssMode||(y.wrapperEl.style.transitionDuration=`${u}ms`,y.wrapperEl.style.transitionDelay=u===0?"0ms":""),y.emit("setTransition",u,s)}function tm({swiper:u,runCallbacks:s,direction:y,step:v}){const{activeIndex:C,previousIndex:w}=u;let M=y;M||(C>w?M="next":C<w?M="prev":M="reset"),u.emit(`transition${v}`),s&&M==="reset"?u.emit(`slideResetTransition${v}`):s&&C!==w&&(u.emit(`slideChangeTransition${v}`),M==="next"?u.emit(`slideNextTransition${v}`):u.emit(`slidePrevTransition${v}`))}function $b(u=!0,s){const y=this,{params:v}=y;v.cssMode||(v.autoHeight&&y.updateAutoHeight(),tm({swiper:y,runCallbacks:u,direction:s,step:"Start"}))}function eS(u=!0,s){const y=this,{params:v}=y;y.animating=!1,!v.cssMode&&(y.setTransition(0),tm({swiper:y,runCallbacks:u,direction:s,step:"End"}))}var tS={setTransition:Jb,transitionStart:$b,transitionEnd:eS};function iS(u=0,s,y=!0,v,C){typeof u=="string"&&(u=parseInt(u,10));const w=this;let M=u;M<0&&(M=0);const{params:p,snapGrid:n,slidesGrid:h,previousIndex:d,activeIndex:a,rtlTranslate:l,wrapperEl:r,enabled:c}=w;if(!c&&!v&&!C||w.destroyed||w.animating&&p.preventInteractionOnTransition)return!1;typeof s>"u"&&(s=w.params.speed);const g=Math.min(w.params.slidesPerGroupSkip,M);let o=g+Math.floor((M-g)/w.params.slidesPerGroup);o>=n.length&&(o=n.length-1);const m=-n[o];if(p.normalizeSlideIndex)for(let k=0;k<h.length;k+=1){const N=-Math.floor(m*100),q=Math.floor(h[k]*100),H=Math.floor(h[k+1]*100);typeof h[k+1]<"u"?N>=q&&N<H-(H-q)/2?M=k:N>=q&&N<H&&(M=k+1):N>=q&&(M=k)}if(w.initialized&&M!==a&&(!w.allowSlideNext&&(l?m>w.translate&&m>w.minTranslate():m<w.translate&&m<w.minTranslate())||!w.allowSlidePrev&&m>w.translate&&m>w.maxTranslate()&&(a||0)!==M))return!1;M!==(d||0)&&y&&w.emit("beforeSlideChangeStart"),w.updateProgress(m);let b;M>a?b="next":M<a?b="prev":b="reset";const _=w.virtual&&w.params.virtual.enabled;if(!(_&&C)&&(l&&-m===w.translate||!l&&m===w.translate))return w.updateActiveIndex(M),p.autoHeight&&w.updateAutoHeight(),w.updateSlidesClasses(),p.effect!=="slide"&&w.setTranslate(m),b!=="reset"&&(w.transitionStart(y,b),w.transitionEnd(y,b)),!1;if(p.cssMode){const k=w.isHorizontal(),N=l?m:-m;if(s===0)_&&(w.wrapperEl.style.scrollSnapType="none",w._immediateVirtual=!0),_&&!w._cssModeVirtualInitialSet&&w.params.initialSlide>0?(w._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{r[k?"scrollLeft":"scrollTop"]=N})):r[k?"scrollLeft":"scrollTop"]=N,_&&requestAnimationFrame(()=>{w.wrapperEl.style.scrollSnapType="",w._immediateVirtual=!1});else{if(!w.support.smoothScroll)return Zg({swiper:w,targetPosition:N,side:k?"left":"top"}),!0;r.scrollTo({[k?"left":"top"]:N,behavior:"smooth"})}return!0}const D=em().isSafari;return _&&!C&&D&&w.isElement&&w.virtual.update(!1,!1,M),w.setTransition(s),w.setTranslate(m),w.updateActiveIndex(M),w.updateSlidesClasses(),w.emit("beforeTransitionStart",s,v),w.transitionStart(y,b),s===0?w.transitionEnd(y,b):w.animating||(w.animating=!0,w.onSlideToWrapperTransitionEnd||(w.onSlideToWrapperTransitionEnd=function(N){!w||w.destroyed||N.target===this&&(w.wrapperEl.removeEventListener("transitionend",w.onSlideToWrapperTransitionEnd),w.onSlideToWrapperTransitionEnd=null,delete w.onSlideToWrapperTransitionEnd,w.transitionEnd(y,b))}),w.wrapperEl.addEventListener("transitionend",w.onSlideToWrapperTransitionEnd)),!0}function nS(u=0,s,y=!0,v){typeof u=="string"&&(u=parseInt(u,10));const C=this;if(C.destroyed)return;typeof s>"u"&&(s=C.params.speed);const w=C.grid&&C.params.grid&&C.params.grid.rows>1;let M=u;if(C.params.loop)if(C.virtual&&C.params.virtual.enabled)M=M+C.virtual.slidesBefore;else{let p;if(w){const g=M*C.params.grid.rows;p=C.slides.find(o=>o.getAttribute("data-swiper-slide-index")*1===g).column}else p=C.getSlideIndexByData(M);const n=w?Math.ceil(C.slides.length/C.params.grid.rows):C.slides.length,{centeredSlides:h,slidesOffsetBefore:d,slidesOffsetAfter:a}=C.params,l=h||!!d||!!a;let r=C.params.slidesPerView;r==="auto"?r=C.slidesPerViewDynamic():(r=Math.ceil(parseFloat(C.params.slidesPerView,10)),l&&r%2===0&&(r=r+1));let c=n-p<r;if(l&&(c=c||p<Math.ceil(r/2)),v&&l&&C.params.slidesPerView!=="auto"&&!w&&(c=!1),c){const g=l?p<C.activeIndex?"prev":"next":p-C.activeIndex-1<C.params.slidesPerView?"next":"prev";C.loopFix({direction:g,slideTo:!0,activeSlideIndex:g==="next"?p+1:p-n+1,slideRealIndex:g==="next"?C.realIndex:void 0})}if(w){const g=M*C.params.grid.rows;M=C.slides.find(o=>o.getAttribute("data-swiper-slide-index")*1===g).column}else M=C.getSlideIndexByData(M)}return requestAnimationFrame(()=>{C.slideTo(M,s,y,v)}),C}function aS(u,s=!0,y){const v=this,{enabled:C,params:w,animating:M}=v;if(!C||v.destroyed)return v;typeof u>"u"&&(u=v.params.speed);let p=w.slidesPerGroup;w.slidesPerView==="auto"&&w.slidesPerGroup===1&&w.slidesPerGroupAuto&&(p=Math.max(v.slidesPerViewDynamic("current",!0),1));const n=v.activeIndex<w.slidesPerGroupSkip?1:p,h=v.virtual&&w.virtual.enabled;if(w.loop){if(M&&!h&&w.loopPreventsSliding)return!1;if(v.loopFix({direction:"next"}),v._clientLeft=v.wrapperEl.clientLeft,v.activeIndex===v.slides.length-1&&w.cssMode)return requestAnimationFrame(()=>{v.slideTo(v.activeIndex+n,u,s,y)}),!0}return w.rewind&&v.isEnd?v.slideTo(0,u,s,y):v.slideTo(v.activeIndex+n,u,s,y)}function rS(u,s=!0,y){const v=this,{params:C,snapGrid:w,slidesGrid:M,rtlTranslate:p,enabled:n,animating:h}=v;if(!n||v.destroyed)return v;typeof u>"u"&&(u=v.params.speed);const d=v.virtual&&C.virtual.enabled;if(C.loop){if(h&&!d&&C.loopPreventsSliding)return!1;v.loopFix({direction:"prev"}),v._clientLeft=v.wrapperEl.clientLeft}const a=p?v.translate:-v.translate;function l(b){return b<0?-Math.floor(Math.abs(b)):Math.floor(b)}const r=l(a),c=w.map(b=>l(b)),g=C.freeMode&&C.freeMode.enabled;let o=w[c.indexOf(r)-1];if(typeof o>"u"&&(C.cssMode||g)){let b;w.forEach((_,T)=>{r>=_&&(b=T)}),typeof b<"u"&&(o=g?w[b]:w[b>0?b-1:b])}let m=0;if(typeof o<"u"&&(m=M.indexOf(o),m<0&&(m=v.activeIndex-1),C.slidesPerView==="auto"&&C.slidesPerGroup===1&&C.slidesPerGroupAuto&&(m=m-v.slidesPerViewDynamic("previous",!0)+1,m=Math.max(m,0))),C.rewind&&v.isBeginning){const b=v.params.virtual&&v.params.virtual.enabled&&v.virtual?v.virtual.slides.length-1:v.slides.length-1;return v.slideTo(b,u,s,y)}else if(C.loop&&v.activeIndex===0&&C.cssMode)return requestAnimationFrame(()=>{v.slideTo(m,u,s,y)}),!0;return v.slideTo(m,u,s,y)}function sS(u,s=!0,y){const v=this;if(!v.destroyed)return typeof u>"u"&&(u=v.params.speed),v.slideTo(v.activeIndex,u,s,y)}function lS(u,s=!0,y,v=.5){const C=this;if(C.destroyed)return;typeof u>"u"&&(u=C.params.speed);let w=C.activeIndex;const M=Math.min(C.params.slidesPerGroupSkip,w),p=M+Math.floor((w-M)/C.params.slidesPerGroup),n=C.rtlTranslate?C.translate:-C.translate;if(n>=C.snapGrid[p]){const h=C.snapGrid[p],d=C.snapGrid[p+1];n-h>(d-h)*v&&(w+=C.params.slidesPerGroup)}else{const h=C.snapGrid[p-1],d=C.snapGrid[p];n-h<=(d-h)*v&&(w-=C.params.slidesPerGroup)}return w=Math.max(w,0),w=Math.min(w,C.slidesGrid.length-1),C.slideTo(w,u,s,y)}function oS(){const u=this;if(u.destroyed)return;const{params:s,slidesEl:y}=u,v=s.slidesPerView==="auto"?u.slidesPerViewDynamic():s.slidesPerView;let C=u.getSlideIndexWhenGrid(u.clickedIndex),w;const M=u.isElement?"swiper-slide":`.${s.slideClass}`,p=u.grid&&u.params.grid&&u.params.grid.rows>1;if(s.loop){if(u.animating)return;w=parseInt(u.clickedSlide.getAttribute("data-swiper-slide-index"),10),s.centeredSlides?u.slideToLoop(w):C>(p?(u.slides.length-v)/2-(u.params.grid.rows-1):u.slides.length-v)?(u.loopFix(),C=u.getSlideIndex(fi(y,`${M}[data-swiper-slide-index="${w}"]`)[0]),Qg(()=>{u.slideTo(C)})):u.slideTo(C)}else u.slideTo(C)}var uS={slideTo:iS,slideToLoop:nS,slideNext:aS,slidePrev:rS,slideReset:sS,slideToClosest:lS,slideToClickedSlide:oS};function cS(u,s){const y=this,{params:v,slidesEl:C}=y;if(!v.loop||y.virtual&&y.params.virtual.enabled)return;const w=()=>{fi(C,`.${v.slideClass}, swiper-slide`).forEach((c,g)=>{c.setAttribute("data-swiper-slide-index",g)})},M=()=>{const r=fi(C,`.${v.slideBlankClass}`);r.forEach(c=>{c.remove()}),r.length>0&&(y.recalcSlides(),y.updateSlides())},p=y.grid&&v.grid&&v.grid.rows>1;v.loopAddBlankSlides&&(v.slidesPerGroup>1||p)&&M();const n=v.slidesPerGroup*(p?v.grid.rows:1),h=y.slides.length%n!==0,d=p&&y.slides.length%v.grid.rows!==0,a=r=>{for(let c=0;c<r;c+=1){const g=y.isElement?Is("swiper-slide",[v.slideBlankClass]):Is("div",[v.slideClass,v.slideBlankClass]);y.slidesEl.append(g)}};if(h){if(v.loopAddBlankSlides){const r=n-y.slides.length%n;a(r),y.recalcSlides(),y.updateSlides()}else Vs("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");w()}else if(d){if(v.loopAddBlankSlides){const r=v.grid.rows-y.slides.length%v.grid.rows;a(r),y.recalcSlides(),y.updateSlides()}else Vs("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");w()}else w();const l=v.centeredSlides||!!v.slidesOffsetBefore||!!v.slidesOffsetAfter;y.loopFix({slideRealIndex:u,direction:l?void 0:"next",initial:s})}function fS({slideRealIndex:u,slideTo:s=!0,direction:y,setTranslate:v,activeSlideIndex:C,initial:w,byController:M,byMousewheel:p}={}){const n=this;if(!n.params.loop)return;n.emit("beforeLoopFix");const{slides:h,allowSlidePrev:d,allowSlideNext:a,slidesEl:l,params:r}=n,{centeredSlides:c,slidesOffsetBefore:g,slidesOffsetAfter:o,initialSlide:m}=r,b=c||!!g||!!o;if(n.allowSlidePrev=!0,n.allowSlideNext=!0,n.virtual&&r.virtual.enabled){s&&(!b&&n.snapIndex===0?n.slideTo(n.virtual.slides.length,0,!1,!0):b&&n.snapIndex<r.slidesPerView?n.slideTo(n.virtual.slides.length+n.snapIndex,0,!1,!0):n.snapIndex===n.snapGrid.length-1&&n.slideTo(n.virtual.slidesBefore,0,!1,!0)),n.allowSlidePrev=d,n.allowSlideNext=a,n.emit("loopFix");return}let _=r.slidesPerView;_==="auto"?_=n.slidesPerViewDynamic():(_=Math.ceil(parseFloat(r.slidesPerView,10)),b&&_%2===0&&(_=_+1));const T=r.slidesPerGroupAuto?_:r.slidesPerGroup;let E=b?Math.max(T,Math.ceil(_/2)):T;E%T!==0&&(E+=T-E%T),E+=r.loopAdditionalSlides,n.loopedSlides=E;const D=n.grid&&r.grid&&r.grid.rows>1;h.length<_+E||n.params.effect==="cards"&&h.length<_+E*2?Vs("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):D&&r.grid.fill==="row"&&Vs("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const k=[],N=[],q=D?Math.ceil(h.length/r.grid.rows):h.length,H=w&&q-m<_&&!b;let V=H?m:n.activeIndex;typeof C>"u"?C=n.getSlideIndex(h.find(K=>K.classList.contains(r.slideActiveClass))):V=C;const ee=y==="next"||!y,ce=y==="prev"||!y;let re=0,fe=0;const J=(D?h[C].column:C)+(b&&typeof v>"u"?-_/2+.5:0);if(J<E){re=Math.max(E-J,T);for(let K=0;K<E-J;K+=1){const j=K-Math.floor(K/q)*q;if(D){const F=q-j-1;for(let A=h.length-1;A>=0;A-=1)h[A].column===F&&k.push(A)}else k.push(q-j-1)}}else if(J+_>q-E){fe=Math.max(J-(q-E*2),T),H&&(fe=Math.max(fe,_-q+m+1));for(let K=0;K<fe;K+=1){const j=K-Math.floor(K/q)*q;D?h.forEach((F,A)=>{F.column===j&&N.push(A)}):N.push(j)}}if(n.__preventObserver__=!0,requestAnimationFrame(()=>{n.__preventObserver__=!1}),n.params.effect==="cards"&&h.length<_+E*2&&(N.includes(C)&&N.splice(N.indexOf(C),1),k.includes(C)&&k.splice(k.indexOf(C),1)),ce&&k.forEach(K=>{h[K].swiperLoopMoveDOM=!0,l.prepend(h[K]),h[K].swiperLoopMoveDOM=!1}),ee&&N.forEach(K=>{h[K].swiperLoopMoveDOM=!0,l.append(h[K]),h[K].swiperLoopMoveDOM=!1}),n.recalcSlides(),r.slidesPerView==="auto"?n.updateSlides():D&&(k.length>0&&ce||N.length>0&&ee)&&n.slides.forEach((K,j)=>{n.grid.updateSlide(j,K,n.slides)}),r.watchSlidesProgress&&n.updateSlidesOffset(),s){if(k.length>0&&ce){if(typeof u>"u"){const K=n.slidesGrid[V],F=n.slidesGrid[V+re]-K;p?n.setTranslate(n.translate-F):(n.slideTo(V+Math.ceil(re),0,!1,!0),v&&(n.touchEventsData.startTranslate=n.touchEventsData.startTranslate-F,n.touchEventsData.currentTranslate=n.touchEventsData.currentTranslate-F))}else if(v){const K=D?k.length/r.grid.rows:k.length;n.slideTo(n.activeIndex+K,0,!1,!0),n.touchEventsData.currentTranslate=n.translate}}else if(N.length>0&&ee)if(typeof u>"u"){const K=n.slidesGrid[V],F=n.slidesGrid[V-fe]-K;p?n.setTranslate(n.translate-F):(n.slideTo(V-fe,0,!1,!0),v&&(n.touchEventsData.startTranslate=n.touchEventsData.startTranslate-F,n.touchEventsData.currentTranslate=n.touchEventsData.currentTranslate-F))}else{const K=D?N.length/r.grid.rows:N.length;n.slideTo(n.activeIndex-K,0,!1,!0)}}if(n.allowSlidePrev=d,n.allowSlideNext=a,n.controller&&n.controller.control&&!M){const K={slideRealIndex:u,direction:y,setTranslate:v,activeSlideIndex:C,byController:!0};Array.isArray(n.controller.control)?n.controller.control.forEach(j=>{!j.destroyed&&j.params.loop&&j.loopFix({...K,slideTo:j.params.slidesPerView===r.slidesPerView?s:!1})}):n.controller.control instanceof n.constructor&&n.controller.control.params.loop&&n.controller.control.loopFix({...K,slideTo:n.controller.control.params.slidesPerView===r.slidesPerView?s:!1})}n.emit("loopFix")}function hS(){const u=this,{params:s,slidesEl:y}=u;if(!s.loop||!y||u.virtual&&u.params.virtual.enabled)return;u.recalcSlides();const v=[];u.slides.forEach(C=>{const w=typeof C.swiperSlideIndex>"u"?C.getAttribute("data-swiper-slide-index")*1:C.swiperSlideIndex;v[w]=C}),u.slides.forEach(C=>{C.removeAttribute("data-swiper-slide-index")}),v.forEach(C=>{y.append(C)}),u.recalcSlides(),u.slideTo(u.realIndex,0)}var dS={loopCreate:cS,loopFix:fS,loopDestroy:hS};function gS(u){const s=this;if(!s.params.simulateTouch||s.params.watchOverflow&&s.isLocked||s.params.cssMode)return;const y=s.params.touchEventsTarget==="container"?s.el:s.wrapperEl;s.isElement&&(s.__preventObserver__=!0),y.style.cursor="move",y.style.cursor=u?"grabbing":"grab",s.isElement&&requestAnimationFrame(()=>{s.__preventObserver__=!1})}function mS(){const u=this;u.params.watchOverflow&&u.isLocked||u.params.cssMode||(u.isElement&&(u.__preventObserver__=!0),u[u.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",u.isElement&&requestAnimationFrame(()=>{u.__preventObserver__=!1}))}var pS={setGrabCursor:gS,unsetGrabCursor:mS};function vS(u,s=this){function y(v){if(!v||v===hi()||v===Ot())return null;v.assignedSlot&&(v=v.assignedSlot);const C=v.closest(u);return!C&&!v.getRootNode?null:C||y(v.getRootNode().host)}return y(s)}function gg(u,s,y){const v=Ot(),{params:C}=u,w=C.edgeSwipeDetection,M=C.edgeSwipeThreshold;return w&&(y<=M||y>=v.innerWidth-M)?w==="prevent"?(s.preventDefault(),!0):!1:!0}function yS(u){const s=this,y=hi();let v=u;v.originalEvent&&(v=v.originalEvent);const C=s.touchEventsData;if(v.type==="pointerdown"){if(C.pointerId!==null&&C.pointerId!==v.pointerId)return;C.pointerId=v.pointerId}else v.type==="touchstart"&&v.targetTouches.length===1&&(C.touchId=v.targetTouches[0].identifier);if(v.type==="touchstart"){gg(s,v,v.targetTouches[0].pageX);return}const{params:w,touches:M,enabled:p}=s;if(!p||!w.simulateTouch&&v.pointerType==="mouse"||s.animating&&w.preventInteractionOnTransition)return;!s.animating&&w.cssMode&&w.loop&&s.loopFix();let n=v.target;if(w.touchEventsTarget==="wrapper"&&!Eb(n,s.wrapperEl)||"which"in v&&v.which===3||"button"in v&&v.button>0||C.isTouched&&C.isMoved)return;const h=!!w.noSwipingClass&&w.noSwipingClass!=="",d=v.composedPath?v.composedPath():v.path;h&&v.target&&v.target.shadowRoot&&d&&(n=d[0]);const a=w.noSwipingSelector?w.noSwipingSelector:`.${w.noSwipingClass}`,l=!!(v.target&&v.target.shadowRoot);if(w.noSwiping&&(l?vS(a,n):n.closest(a))){s.allowClick=!0;return}if(w.swipeHandler&&!n.closest(w.swipeHandler))return;M.currentX=v.pageX,M.currentY=v.pageY;const r=M.currentX,c=M.currentY;if(!gg(s,v,r))return;Object.assign(C,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),M.startX=r,M.startY=c,C.touchStartTime=Gs(),s.allowClick=!0,s.updateSize(),s.swipeDirection=void 0,w.threshold>0&&(C.allowThresholdMove=!1);let g=!0;n.matches(C.focusableElements)&&(g=!1,n.nodeName==="SELECT"&&(C.isTouched=!1)),y.activeElement&&y.activeElement.matches(C.focusableElements)&&y.activeElement!==n&&(v.pointerType==="mouse"||v.pointerType!=="mouse"&&!n.matches(C.focusableElements))&&y.activeElement.blur();const o=g&&s.allowTouchMove&&w.touchStartPreventDefault;(w.touchStartForcePreventDefault||o)&&!n.isContentEditable&&v.preventDefault(),w.freeMode&&w.freeMode.enabled&&s.freeMode&&s.animating&&!w.cssMode&&s.freeMode.onTouchStart(),s.emit("touchStart",v)}function bS(u){const s=hi(),y=this,v=y.touchEventsData,{params:C,touches:w,rtlTranslate:M,enabled:p}=y;if(!p||!C.simulateTouch&&u.pointerType==="mouse")return;let n=u;if(n.originalEvent&&(n=n.originalEvent),n.type==="pointermove"&&(v.touchId!==null||n.pointerId!==v.pointerId))return;let h;if(n.type==="touchmove"){if(h=[...n.changedTouches].find(E=>E.identifier===v.touchId),!h||h.identifier!==v.touchId)return}else h=n;if(!v.isTouched){v.startMoving&&v.isScrolling&&y.emit("touchMoveOpposite",n);return}const d=h.pageX,a=h.pageY;if(n.preventedByNestedSwiper){w.startX=d,w.startY=a;return}if(!y.allowTouchMove){n.target.matches(v.focusableElements)||(y.allowClick=!1),v.isTouched&&(Object.assign(w,{startX:d,startY:a,currentX:d,currentY:a}),v.touchStartTime=Gs());return}if(C.touchReleaseOnEdges&&!C.loop)if(y.isVertical()){if(a<w.startY&&y.translate<=y.maxTranslate()||a>w.startY&&y.translate>=y.minTranslate()){v.isTouched=!1,v.isMoved=!1;return}}else{if(M&&(d>w.startX&&-y.translate<=y.maxTranslate()||d<w.startX&&-y.translate>=y.minTranslate()))return;if(!M&&(d<w.startX&&y.translate<=y.maxTranslate()||d>w.startX&&y.translate>=y.minTranslate()))return}if(s.activeElement&&s.activeElement.matches(v.focusableElements)&&s.activeElement!==n.target&&n.pointerType!=="mouse"&&s.activeElement.blur(),s.activeElement&&n.target===s.activeElement&&n.target.matches(v.focusableElements)){v.isMoved=!0,y.allowClick=!1;return}v.allowTouchCallbacks&&y.emit("touchMove",n),w.previousX=w.currentX,w.previousY=w.currentY,w.currentX=d,w.currentY=a;const l=w.currentX-w.startX,r=w.currentY-w.startY;if(y.params.threshold&&Math.sqrt(l**2+r**2)<y.params.threshold)return;if(typeof v.isScrolling>"u"){let E;y.isHorizontal()&&w.currentY===w.startY||y.isVertical()&&w.currentX===w.startX?v.isScrolling=!1:l*l+r*r>=25&&(E=Math.atan2(Math.abs(r),Math.abs(l))*180/Math.PI,v.isScrolling=y.isHorizontal()?E>C.touchAngle:90-E>C.touchAngle)}if(v.isScrolling&&y.emit("touchMoveOpposite",n),typeof v.startMoving>"u"&&(w.currentX!==w.startX||w.currentY!==w.startY)&&(v.startMoving=!0),v.isScrolling||n.type==="touchmove"&&v.preventTouchMoveFromPointerMove){v.isTouched=!1;return}if(!v.startMoving)return;y.allowClick=!1,!C.cssMode&&n.cancelable&&n.preventDefault(),C.touchMoveStopPropagation&&!C.nested&&n.stopPropagation();let c=y.isHorizontal()?l:r,g=y.isHorizontal()?w.currentX-w.previousX:w.currentY-w.previousY;C.oneWayMovement&&(c=Math.abs(c)*(M?1:-1),g=Math.abs(g)*(M?1:-1)),w.diff=c,c*=C.touchRatio,M&&(c=-c,g=-g);const o=y.touchesDirection;y.swipeDirection=c>0?"prev":"next",y.touchesDirection=g>0?"prev":"next";const m=y.params.loop&&!C.cssMode,b=y.touchesDirection==="next"&&y.allowSlideNext||y.touchesDirection==="prev"&&y.allowSlidePrev;if(!v.isMoved){if(m&&b&&y.loopFix({direction:y.swipeDirection}),v.startTranslate=y.getTranslate(),y.setTransition(0),y.animating){const E=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});y.wrapperEl.dispatchEvent(E)}v.allowMomentumBounce=!1,C.grabCursor&&(y.allowSlideNext===!0||y.allowSlidePrev===!0)&&y.setGrabCursor(!0),y.emit("sliderFirstMove",n)}if(new Date().getTime(),C._loopSwapReset!==!1&&v.isMoved&&v.allowThresholdMove&&o!==y.touchesDirection&&m&&b&&Math.abs(c)>=1){Object.assign(w,{startX:d,startY:a,currentX:d,currentY:a,startTranslate:v.currentTranslate}),v.loopSwapReset=!0,v.startTranslate=v.currentTranslate;return}y.emit("sliderMove",n),v.isMoved=!0,v.currentTranslate=c+v.startTranslate;let _=!0,T=C.resistanceRatio;if(C.touchReleaseOnEdges&&(T=0),c>0?(m&&b&&v.allowThresholdMove&&v.currentTranslate>(C.centeredSlides?y.minTranslate()-y.slidesSizesGrid[y.activeIndex+1]-(C.slidesPerView!=="auto"&&y.slides.length-C.slidesPerView>=2?y.slidesSizesGrid[y.activeIndex+1]+y.params.spaceBetween:0)-y.params.spaceBetween:y.minTranslate())&&y.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),v.currentTranslate>y.minTranslate()&&(_=!1,C.resistance&&(v.currentTranslate=y.minTranslate()-1+(-y.minTranslate()+v.startTranslate+c)**T))):c<0&&(m&&b&&v.allowThresholdMove&&v.currentTranslate<(C.centeredSlides?y.maxTranslate()+y.slidesSizesGrid[y.slidesSizesGrid.length-1]+y.params.spaceBetween+(C.slidesPerView!=="auto"&&y.slides.length-C.slidesPerView>=2?y.slidesSizesGrid[y.slidesSizesGrid.length-1]+y.params.spaceBetween:0):y.maxTranslate())&&y.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:y.slides.length-(C.slidesPerView==="auto"?y.slidesPerViewDynamic():Math.ceil(parseFloat(C.slidesPerView,10)))}),v.currentTranslate<y.maxTranslate()&&(_=!1,C.resistance&&(v.currentTranslate=y.maxTranslate()+1-(y.maxTranslate()-v.startTranslate-c)**T))),_&&(n.preventedByNestedSwiper=!0),!y.allowSlideNext&&y.swipeDirection==="next"&&v.currentTranslate<v.startTranslate&&(v.currentTranslate=v.startTranslate),!y.allowSlidePrev&&y.swipeDirection==="prev"&&v.currentTranslate>v.startTranslate&&(v.currentTranslate=v.startTranslate),!y.allowSlidePrev&&!y.allowSlideNext&&(v.currentTranslate=v.startTranslate),C.threshold>0)if(Math.abs(c)>C.threshold||v.allowThresholdMove){if(!v.allowThresholdMove){v.allowThresholdMove=!0,w.startX=w.currentX,w.startY=w.currentY,v.currentTranslate=v.startTranslate,w.diff=y.isHorizontal()?w.currentX-w.startX:w.currentY-w.startY;return}}else{v.currentTranslate=v.startTranslate;return}!C.followFinger||C.cssMode||((C.freeMode&&C.freeMode.enabled&&y.freeMode||C.watchSlidesProgress)&&(y.updateActiveIndex(),y.updateSlidesClasses()),C.freeMode&&C.freeMode.enabled&&y.freeMode&&y.freeMode.onTouchMove(),y.updateProgress(v.currentTranslate),y.setTranslate(v.currentTranslate))}function SS(u){const s=this,y=s.touchEventsData;let v=u;v.originalEvent&&(v=v.originalEvent);let C;if(v.type==="touchend"||v.type==="touchcancel"){if(C=[...v.changedTouches].find(E=>E.identifier===y.touchId),!C||C.identifier!==y.touchId)return}else{if(y.touchId!==null||v.pointerId!==y.pointerId)return;C=v}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(v.type)&&!(["pointercancel","contextmenu"].includes(v.type)&&(s.browser.isSafari||s.browser.isWebView)))return;y.pointerId=null,y.touchId=null;const{params:M,touches:p,rtlTranslate:n,slidesGrid:h,enabled:d}=s;if(!d||!M.simulateTouch&&v.pointerType==="mouse")return;if(y.allowTouchCallbacks&&s.emit("touchEnd",v),y.allowTouchCallbacks=!1,!y.isTouched){y.isMoved&&M.grabCursor&&s.setGrabCursor(!1),y.isMoved=!1,y.startMoving=!1;return}M.grabCursor&&y.isMoved&&y.isTouched&&(s.allowSlideNext===!0||s.allowSlidePrev===!0)&&s.setGrabCursor(!1);const a=Gs(),l=a-y.touchStartTime;if(s.allowClick){const E=v.path||v.composedPath&&v.composedPath();s.updateClickedSlide(E&&E[0]||v.target,E),s.emit("tap click",v),l<300&&a-y.lastClickTime<300&&s.emit("doubleTap doubleClick",v)}if(y.lastClickTime=Gs(),Qg(()=>{s.destroyed||(s.allowClick=!0)}),!y.isTouched||!y.isMoved||!s.swipeDirection||p.diff===0&&!y.loopSwapReset||y.currentTranslate===y.startTranslate&&!y.loopSwapReset){y.isTouched=!1,y.isMoved=!1,y.startMoving=!1;return}y.isTouched=!1,y.isMoved=!1,y.startMoving=!1;let r;if(M.followFinger?r=n?s.translate:-s.translate:r=-y.currentTranslate,M.cssMode)return;if(M.freeMode&&M.freeMode.enabled){s.freeMode.onTouchEnd({currentPos:r});return}const c=r>=-s.maxTranslate()&&!s.params.loop;let g=0,o=s.slidesSizesGrid[0];for(let E=0;E<h.length;E+=E<M.slidesPerGroupSkip?1:M.slidesPerGroup){const D=E<M.slidesPerGroupSkip-1?1:M.slidesPerGroup;typeof h[E+D]<"u"?(c||r>=h[E]&&r<h[E+D])&&(g=E,o=h[E+D]-h[E]):(c||r>=h[E])&&(g=E,o=h[h.length-1]-h[h.length-2])}let m=null,b=null;M.rewind&&(s.isBeginning?b=M.virtual&&M.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1:s.isEnd&&(m=0));const _=(r-h[g])/o,T=g<M.slidesPerGroupSkip-1?1:M.slidesPerGroup;if(l>M.longSwipesMs){if(!M.longSwipes){s.slideTo(s.activeIndex);return}s.swipeDirection==="next"&&(_>=M.longSwipesRatio?s.slideTo(M.rewind&&s.isEnd?m:g+T):s.slideTo(g)),s.swipeDirection==="prev"&&(_>1-M.longSwipesRatio?s.slideTo(g+T):b!==null&&_<0&&Math.abs(_)>M.longSwipesRatio?s.slideTo(b):s.slideTo(g))}else{if(!M.shortSwipes){s.slideTo(s.activeIndex);return}s.navigation&&(v.target===s.navigation.nextEl||v.target===s.navigation.prevEl)?v.target===s.navigation.nextEl?s.slideTo(g+T):s.slideTo(g):(s.swipeDirection==="next"&&s.slideTo(m!==null?m:g+T),s.swipeDirection==="prev"&&s.slideTo(b!==null?b:g))}}function mg(){const u=this,{params:s,el:y}=u;if(y&&y.offsetWidth===0)return;s.breakpoints&&u.setBreakpoint();const{allowSlideNext:v,allowSlidePrev:C,snapGrid:w}=u,M=u.virtual&&u.params.virtual.enabled;u.allowSlideNext=!0,u.allowSlidePrev=!0,u.updateSize(),u.updateSlides(),u.updateSlidesClasses();const p=M&&s.loop;(s.slidesPerView==="auto"||s.slidesPerView>1)&&u.isEnd&&!u.isBeginning&&!u.params.centeredSlides&&!p?u.slideTo(u.slides.length-1,0,!1,!0):u.params.loop&&!M?u.slideToLoop(u.realIndex,0,!1,!0):u.slideTo(u.activeIndex,0,!1,!0),u.autoplay&&u.autoplay.running&&u.autoplay.paused&&(clearTimeout(u.autoplay.resizeTimeout),u.autoplay.resizeTimeout=setTimeout(()=>{u.autoplay&&u.autoplay.running&&u.autoplay.paused&&u.autoplay.resume()},500)),u.allowSlidePrev=C,u.allowSlideNext=v,u.params.watchOverflow&&w!==u.snapGrid&&u.checkOverflow()}function xS(u){const s=this;s.enabled&&(s.allowClick||(s.params.preventClicks&&u.preventDefault(),s.params.preventClicksPropagation&&s.animating&&(u.stopPropagation(),u.stopImmediatePropagation())))}function _S(){const u=this,{wrapperEl:s,rtlTranslate:y,enabled:v}=u;if(!v)return;u.previousTranslate=u.translate,u.isHorizontal()?u.translate=-s.scrollLeft:u.translate=-s.scrollTop,u.translate===0&&(u.translate=0),u.updateActiveIndex(),u.updateSlidesClasses();let C;const w=u.maxTranslate()-u.minTranslate();w===0?C=0:C=(u.translate-u.minTranslate())/w,C!==u.progress&&u.updateProgress(y?-u.translate:u.translate),u.emit("setTranslate",u.translate,!1)}function CS(u){const s=this;Ys(s,u.target),!(s.params.cssMode||s.params.slidesPerView!=="auto"&&!s.params.autoHeight)&&s.update()}function TS(){const u=this;u.documentTouchHandlerProceeded||(u.documentTouchHandlerProceeded=!0,u.params.touchReleaseOnEdges&&(u.el.style.touchAction="auto"))}const im=(u,s)=>{const y=hi(),{params:v,el:C,wrapperEl:w,device:M}=u,p=!!v.nested,n=s==="on"?"addEventListener":"removeEventListener",h=s;!C||typeof C=="string"||(y[n]("touchstart",u.onDocumentTouchStart,{passive:!1,capture:p}),C[n]("touchstart",u.onTouchStart,{passive:!1}),C[n]("pointerdown",u.onTouchStart,{passive:!1}),y[n]("touchmove",u.onTouchMove,{passive:!1,capture:p}),y[n]("pointermove",u.onTouchMove,{passive:!1,capture:p}),y[n]("touchend",u.onTouchEnd,{passive:!0}),y[n]("pointerup",u.onTouchEnd,{passive:!0}),y[n]("pointercancel",u.onTouchEnd,{passive:!0}),y[n]("touchcancel",u.onTouchEnd,{passive:!0}),y[n]("pointerout",u.onTouchEnd,{passive:!0}),y[n]("pointerleave",u.onTouchEnd,{passive:!0}),y[n]("contextmenu",u.onTouchEnd,{passive:!0}),(v.preventClicks||v.preventClicksPropagation)&&C[n]("click",u.onClick,!0),v.cssMode&&w[n]("scroll",u.onScroll),v.updateOnWindowResize?u[h](M.ios||M.android?"resize orientationchange observerUpdate":"resize observerUpdate",mg,!0):u[h]("observerUpdate",mg,!0),C[n]("load",u.onLoad,{capture:!0}))};function wS(){const u=this,{params:s}=u;u.onTouchStart=yS.bind(u),u.onTouchMove=bS.bind(u),u.onTouchEnd=SS.bind(u),u.onDocumentTouchStart=TS.bind(u),s.cssMode&&(u.onScroll=_S.bind(u)),u.onClick=xS.bind(u),u.onLoad=CS.bind(u),im(u,"on")}function ES(){im(this,"off")}var OS={attachEvents:wS,detachEvents:ES};const pg=(u,s)=>u.grid&&s.grid&&s.grid.rows>1;function MS(){const u=this,{realIndex:s,initialized:y,params:v,el:C}=u,w=v.breakpoints;if(!w||w&&Object.keys(w).length===0)return;const M=hi(),p=v.breakpointsBase==="window"||!v.breakpointsBase?v.breakpointsBase:"container",n=["window","container"].includes(v.breakpointsBase)||!v.breakpointsBase?u.el:M.querySelector(v.breakpointsBase),h=u.getBreakpoint(w,p,n);if(!h||u.currentBreakpoint===h)return;const a=(h in w?w[h]:void 0)||u.originalParams,l=pg(u,v),r=pg(u,a),c=u.params.grabCursor,g=a.grabCursor,o=v.enabled;l&&!r?(C.classList.remove(`${v.containerModifierClass}grid`,`${v.containerModifierClass}grid-column`),u.emitContainerClasses()):!l&&r&&(C.classList.add(`${v.containerModifierClass}grid`),(a.grid.fill&&a.grid.fill==="column"||!a.grid.fill&&v.grid.fill==="column")&&C.classList.add(`${v.containerModifierClass}grid-column`),u.emitContainerClasses()),c&&!g?u.unsetGrabCursor():!c&&g&&u.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(D=>{if(typeof a[D]>"u")return;const k=v[D]&&v[D].enabled,N=a[D]&&a[D].enabled;k&&!N&&u[D].disable(),!k&&N&&u[D].enable()});const m=a.direction&&a.direction!==v.direction,b=v.loop&&(a.slidesPerView!==v.slidesPerView||m),_=v.loop;m&&y&&u.changeDirection(),Yt(u.params,a);const T=u.params.enabled,E=u.params.loop;Object.assign(u,{allowTouchMove:u.params.allowTouchMove,allowSlideNext:u.params.allowSlideNext,allowSlidePrev:u.params.allowSlidePrev}),o&&!T?u.disable():!o&&T&&u.enable(),u.currentBreakpoint=h,u.emit("_beforeBreakpoint",a),y&&(b?(u.loopDestroy(),u.loopCreate(s),u.updateSlides()):!_&&E?(u.loopCreate(s),u.updateSlides()):_&&!E&&u.loopDestroy()),u.emit("breakpoint",a)}function AS(u,s="window",y){if(!u||s==="container"&&!y)return;let v=!1;const C=Ot(),w=s==="window"?C.innerHeight:y.clientHeight,M=Object.keys(u).map(p=>{if(typeof p=="string"&&p.indexOf("@")===0){const n=parseFloat(p.substr(1));return{value:w*n,point:p}}return{value:p,point:p}});M.sort((p,n)=>parseInt(p.value,10)-parseInt(n.value,10));for(let p=0;p<M.length;p+=1){const{point:n,value:h}=M[p];s==="window"?C.matchMedia(`(min-width: ${h}px)`).matches&&(v=n):h<=y.clientWidth&&(v=n)}return v||"max"}var DS={setBreakpoint:MS,getBreakpoint:AS};function jS(u,s){const y=[];return u.forEach(v=>{typeof v=="object"?Object.keys(v).forEach(C=>{v[C]&&y.push(s+C)}):typeof v=="string"&&y.push(s+v)}),y}function LS(){const u=this,{classNames:s,params:y,rtl:v,el:C,device:w}=u,M=jS(["initialized",y.direction,{"free-mode":u.params.freeMode&&y.freeMode.enabled},{autoheight:y.autoHeight},{rtl:v},{grid:y.grid&&y.grid.rows>1},{"grid-column":y.grid&&y.grid.rows>1&&y.grid.fill==="column"},{android:w.android},{ios:w.ios},{"css-mode":y.cssMode},{centered:y.cssMode&&y.centeredSlides},{"watch-progress":y.watchSlidesProgress}],y.containerModifierClass);s.push(...M),C.classList.add(...s),u.emitContainerClasses()}function kS(){const u=this,{el:s,classNames:y}=u;!s||typeof s=="string"||(s.classList.remove(...y),u.emitContainerClasses())}var zS={addClasses:LS,removeClasses:kS};function RS(){const u=this,{isLocked:s,params:y}=u,{slidesOffsetBefore:v}=y;if(v){const C=u.slides.length-1,w=u.slidesGrid[C]+u.slidesSizesGrid[C]+v*2;u.isLocked=u.size>w}else u.isLocked=u.snapGrid.length===1;y.allowSlideNext===!0&&(u.allowSlideNext=!u.isLocked),y.allowSlidePrev===!0&&(u.allowSlidePrev=!u.isLocked),s&&s!==u.isLocked&&(u.isEnd=!1),s!==u.isLocked&&u.emit(u.isLocked?"lock":"unlock")}var NS={checkOverflow:RS},Ru={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function BS(u,s){return function(v={}){const C=Object.keys(v)[0],w=v[C];if(typeof w!="object"||w===null){Yt(s,v);return}if(u[C]===!0&&(u[C]={enabled:!0}),C==="navigation"&&u[C]&&u[C].enabled&&!u[C].prevEl&&!u[C].nextEl&&(u[C].auto=!0),["pagination","scrollbar"].indexOf(C)>=0&&u[C]&&u[C].enabled&&!u[C].el&&(u[C].auto=!0),!(C in u&&"enabled"in w)){Yt(s,v);return}typeof u[C]=="object"&&!("enabled"in u[C])&&(u[C].enabled=!0),u[C]||(u[C]={enabled:!1}),Yt(s,v)}}const wu={eventsEmitter:zb,update:Vb,translate:Kb,transition:tS,slide:uS,loop:dS,grabCursor:pS,events:OS,breakpoints:DS,checkOverflow:NS,classes:zS},Eu={};let Iu=class Li{constructor(...s){let y,v;s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?v=s[0]:[y,v]=s,v||(v={}),v=Yt({},v),y&&!v.el&&(v.el=y);const C=hi();if(v.el&&typeof v.el=="string"&&C.querySelectorAll(v.el).length>1){const n=[];return C.querySelectorAll(v.el).forEach(h=>{const d=Yt({},v,{el:h});n.push(new Li(d))}),n}const w=this;w.__swiper__=!0,w.support=Jg(),w.device=$g({userAgent:v.userAgent}),w.browser=em(),w.eventsListeners={},w.eventsAnyListeners=[],w.modules=[...w.__modules__],v.modules&&Array.isArray(v.modules)&&w.modules.push(...v.modules);const M={};w.modules.forEach(n=>{n({params:v,swiper:w,extendParams:BS(v,M),on:w.on.bind(w),once:w.once.bind(w),off:w.off.bind(w),emit:w.emit.bind(w)})});const p=Yt({},Ru,M);return w.params=Yt({},p,Eu,v),w.originalParams=Yt({},w.params),w.passedParams=Yt({},v),w.params&&w.params.on&&Object.keys(w.params.on).forEach(n=>{w.on(n,w.params.on[n])}),w.params&&w.params.onAny&&w.onAny(w.params.onAny),Object.assign(w,{enabled:w.params.enabled,el:y,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return w.params.direction==="horizontal"},isVertical(){return w.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:w.params.allowSlideNext,allowSlidePrev:w.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:w.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:w.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),w.emit("_swiper"),w.params.init&&w.init(),w}getDirectionLabel(s){return this.isHorizontal()?s:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[s]}getSlideIndex(s){const{slidesEl:y,params:v}=this,C=fi(y,`.${v.slideClass}, swiper-slide`),w=qs(C[0]);return qs(s)-w}getSlideIndexByData(s){return this.getSlideIndex(this.slides.find(y=>y.getAttribute("data-swiper-slide-index")*1===s))}getSlideIndexWhenGrid(s){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?s=Math.floor(s/this.params.grid.rows):this.params.grid.fill==="row"&&(s=s%Math.ceil(this.slides.length/this.params.grid.rows))),s}recalcSlides(){const s=this,{slidesEl:y,params:v}=s;s.slides=fi(y,`.${v.slideClass}, swiper-slide`)}enable(){const s=this;s.enabled||(s.enabled=!0,s.params.grabCursor&&s.setGrabCursor(),s.emit("enable"))}disable(){const s=this;s.enabled&&(s.enabled=!1,s.params.grabCursor&&s.unsetGrabCursor(),s.emit("disable"))}setProgress(s,y){const v=this;s=Math.min(Math.max(s,0),1);const C=v.minTranslate(),M=(v.maxTranslate()-C)*s+C;v.translateTo(M,typeof y>"u"?0:y),v.updateActiveIndex(),v.updateSlidesClasses()}emitContainerClasses(){const s=this;if(!s.params._emitClasses||!s.el)return;const y=s.el.className.split(" ").filter(v=>v.indexOf("swiper")===0||v.indexOf(s.params.containerModifierClass)===0);s.emit("_containerClasses",y.join(" "))}getSlideClasses(s){const y=this;return y.destroyed?"":s.className.split(" ").filter(v=>v.indexOf("swiper-slide")===0||v.indexOf(y.params.slideClass)===0).join(" ")}emitSlidesClasses(){const s=this;if(!s.params._emitClasses||!s.el)return;const y=[];s.slides.forEach(v=>{const C=s.getSlideClasses(v);y.push({slideEl:v,classNames:C}),s.emit("_slideClass",v,C)}),s.emit("_slideClasses",y)}slidesPerViewDynamic(s="current",y=!1){const v=this,{params:C,slides:w,slidesGrid:M,slidesSizesGrid:p,size:n,activeIndex:h}=v;let d=1;if(typeof C.slidesPerView=="number")return C.slidesPerView;if(C.centeredSlides){let a=w[h]?Math.ceil(w[h].swiperSlideSize):0,l;for(let r=h+1;r<w.length;r+=1)w[r]&&!l&&(a+=Math.ceil(w[r].swiperSlideSize),d+=1,a>n&&(l=!0));for(let r=h-1;r>=0;r-=1)w[r]&&!l&&(a+=w[r].swiperSlideSize,d+=1,a>n&&(l=!0))}else if(s==="current")for(let a=h+1;a<w.length;a+=1)(y?M[a]+p[a]-M[h]<n:M[a]-M[h]<n)&&(d+=1);else for(let a=h-1;a>=0;a-=1)M[h]-M[a]<n&&(d+=1);return d}update(){const s=this;if(!s||s.destroyed)return;const{snapGrid:y,params:v}=s;v.breakpoints&&s.setBreakpoint(),[...s.el.querySelectorAll('[loading="lazy"]')].forEach(M=>{M.complete&&Ys(s,M)}),s.updateSize(),s.updateSlides(),s.updateProgress(),s.updateSlidesClasses();function C(){const M=s.rtlTranslate?s.translate*-1:s.translate,p=Math.min(Math.max(M,s.maxTranslate()),s.minTranslate());s.setTranslate(p),s.updateActiveIndex(),s.updateSlidesClasses()}let w;if(v.freeMode&&v.freeMode.enabled&&!v.cssMode)C(),v.autoHeight&&s.updateAutoHeight();else{if((v.slidesPerView==="auto"||v.slidesPerView>1)&&s.isEnd&&!v.centeredSlides){const M=s.virtual&&v.virtual.enabled?s.virtual.slides:s.slides;w=s.slideTo(M.length-1,0,!1,!0)}else w=s.slideTo(s.activeIndex,0,!1,!0);w||C()}v.watchOverflow&&y!==s.snapGrid&&s.checkOverflow(),s.emit("update")}changeDirection(s,y=!0){const v=this,C=v.params.direction;return s||(s=C==="horizontal"?"vertical":"horizontal"),s===C||s!=="horizontal"&&s!=="vertical"||(v.el.classList.remove(`${v.params.containerModifierClass}${C}`),v.el.classList.add(`${v.params.containerModifierClass}${s}`),v.emitContainerClasses(),v.params.direction=s,v.slides.forEach(w=>{s==="vertical"?w.style.width="":w.style.height=""}),v.emit("changeDirection"),y&&v.update()),v}changeLanguageDirection(s){const y=this;y.rtl&&s==="rtl"||!y.rtl&&s==="ltr"||(y.rtl=s==="rtl",y.rtlTranslate=y.params.direction==="horizontal"&&y.rtl,y.rtl?(y.el.classList.add(`${y.params.containerModifierClass}rtl`),y.el.dir="rtl"):(y.el.classList.remove(`${y.params.containerModifierClass}rtl`),y.el.dir="ltr"),y.update())}mount(s){const y=this;if(y.mounted)return!0;let v=s||y.params.el;if(typeof v=="string"&&(v=document.querySelector(v)),!v)return!1;v.swiper=y,v.parentNode&&v.parentNode.host&&v.parentNode.host.nodeName===y.params.swiperElementNodeName.toUpperCase()&&(y.isElement=!0);const C=()=>`.${(y.params.wrapperClass||"").trim().split(" ").join(".")}`;let M=v&&v.shadowRoot&&v.shadowRoot.querySelector?v.shadowRoot.querySelector(C()):fi(v,C())[0];return!M&&y.params.createElements&&(M=Is("div",y.params.wrapperClass),v.append(M),fi(v,`.${y.params.slideClass}`).forEach(p=>{M.append(p)})),Object.assign(y,{el:v,wrapperEl:M,slidesEl:y.isElement&&!v.parentNode.host.slideSlots?v.parentNode.host:M,hostEl:y.isElement?v.parentNode.host:v,mounted:!0,rtl:v.dir.toLowerCase()==="rtl"||sn(v,"direction")==="rtl",rtlTranslate:y.params.direction==="horizontal"&&(v.dir.toLowerCase()==="rtl"||sn(v,"direction")==="rtl"),wrongRTL:sn(M,"display")==="-webkit-box"}),!0}init(s){const y=this;if(y.initialized||y.mount(s)===!1)return y;y.emit("beforeInit"),y.params.breakpoints&&y.setBreakpoint(),y.addClasses(),y.updateSize(),y.updateSlides(),y.params.watchOverflow&&y.checkOverflow(),y.params.grabCursor&&y.enabled&&y.setGrabCursor(),y.params.loop&&y.virtual&&y.params.virtual.enabled?y.slideTo(y.params.initialSlide+y.virtual.slidesBefore,0,y.params.runCallbacksOnInit,!1,!0):y.slideTo(y.params.initialSlide,0,y.params.runCallbacksOnInit,!1,!0),y.params.loop&&y.loopCreate(void 0,!0),y.attachEvents();const C=[...y.el.querySelectorAll('[loading="lazy"]')];return y.isElement&&C.push(...y.hostEl.querySelectorAll('[loading="lazy"]')),C.forEach(w=>{w.complete?Ys(y,w):w.addEventListener("load",M=>{Ys(y,M.target)})}),zu(y),y.initialized=!0,zu(y),y.emit("init"),y.emit("afterInit"),y}destroy(s=!0,y=!0){const v=this,{params:C,el:w,wrapperEl:M,slides:p}=v;return typeof v.params>"u"||v.destroyed||(v.emit("beforeDestroy"),v.initialized=!1,v.detachEvents(),C.loop&&v.loopDestroy(),y&&(v.removeClasses(),w&&typeof w!="string"&&w.removeAttribute("style"),M&&M.removeAttribute("style"),p&&p.length&&p.forEach(n=>{n.classList.remove(C.slideVisibleClass,C.slideFullyVisibleClass,C.slideActiveClass,C.slideNextClass,C.slidePrevClass),n.removeAttribute("style"),n.removeAttribute("data-swiper-slide-index")})),v.emit("destroy"),Object.keys(v.eventsListeners).forEach(n=>{v.off(n)}),s!==!1&&(v.el&&typeof v.el!="string"&&(v.el.swiper=null),xb(v)),v.destroyed=!0),null}static extendDefaults(s){Yt(Eu,s)}static get extendedDefaults(){return Eu}static get defaults(){return Ru}static installModule(s){Li.prototype.__modules__||(Li.prototype.__modules__=[]);const y=Li.prototype.__modules__;typeof s=="function"&&y.indexOf(s)<0&&y.push(s)}static use(s){return Array.isArray(s)?(s.forEach(y=>Li.installModule(y)),Li):(Li.installModule(s),Li)}};Object.keys(wu).forEach(u=>{Object.keys(wu[u]).forEach(s=>{Iu.prototype[s]=wu[u][s]})});Iu.use([Lb,kb]);const nm=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Mn(u){return typeof u=="object"&&u!==null&&u.constructor&&Object.prototype.toString.call(u).slice(8,-1)==="Object"&&!u.__swiper__}function ma(u,s){const y=["__proto__","constructor","prototype"];Object.keys(s).filter(v=>y.indexOf(v)<0).forEach(v=>{typeof u[v]>"u"?u[v]=s[v]:Mn(s[v])&&Mn(u[v])&&Object.keys(s[v]).length>0?s[v].__swiper__?u[v]=s[v]:ma(u[v],s[v]):u[v]=s[v]})}function am(u={}){return u.navigation&&typeof u.navigation.nextEl>"u"&&typeof u.navigation.prevEl>"u"}function rm(u={}){return u.pagination&&typeof u.pagination.el>"u"}function sm(u={}){return u.scrollbar&&typeof u.scrollbar.el>"u"}function lm(u=""){const s=u.split(" ").map(v=>v.trim()).filter(v=>!!v),y=[];return s.forEach(v=>{y.indexOf(v)<0&&y.push(v)}),y.join(" ")}function PS(u=""){return u?u.includes("swiper-wrapper")?u:`swiper-wrapper ${u}`:"swiper-wrapper"}function FS({swiper:u,slides:s,passedParams:y,changedParams:v,nextEl:C,prevEl:w,scrollbarEl:M,paginationEl:p}){const n=v.filter(N=>N!=="children"&&N!=="direction"&&N!=="wrapperClass"),{params:h,pagination:d,navigation:a,scrollbar:l,virtual:r,thumbs:c}=u;let g,o,m,b,_,T,E,D;v.includes("thumbs")&&y.thumbs&&y.thumbs.swiper&&!y.thumbs.swiper.destroyed&&h.thumbs&&(!h.thumbs.swiper||h.thumbs.swiper.destroyed)&&(g=!0),v.includes("controller")&&y.controller&&y.controller.control&&h.controller&&!h.controller.control&&(o=!0),v.includes("pagination")&&y.pagination&&(y.pagination.el||p)&&(h.pagination||h.pagination===!1)&&d&&!d.el&&(m=!0),v.includes("scrollbar")&&y.scrollbar&&(y.scrollbar.el||M)&&(h.scrollbar||h.scrollbar===!1)&&l&&!l.el&&(b=!0),v.includes("navigation")&&y.navigation&&(y.navigation.prevEl||w)&&(y.navigation.nextEl||C)&&(h.navigation||h.navigation===!1)&&a&&!a.prevEl&&!a.nextEl&&(_=!0);const k=N=>{u[N]&&(u[N].destroy(),N==="navigation"?(u.isElement&&(u[N].prevEl.remove(),u[N].nextEl.remove()),h[N].prevEl=void 0,h[N].nextEl=void 0,u[N].prevEl=void 0,u[N].nextEl=void 0):(u.isElement&&u[N].el.remove(),h[N].el=void 0,u[N].el=void 0))};v.includes("loop")&&u.isElement&&(h.loop&&!y.loop?T=!0:!h.loop&&y.loop?E=!0:D=!0),n.forEach(N=>{if(Mn(h[N])&&Mn(y[N]))Object.assign(h[N],y[N]),(N==="navigation"||N==="pagination"||N==="scrollbar")&&"enabled"in y[N]&&!y[N].enabled&&k(N);else{const q=y[N];(q===!0||q===!1)&&(N==="navigation"||N==="pagination"||N==="scrollbar")?q===!1&&k(N):h[N]=y[N]}}),n.includes("controller")&&!o&&u.controller&&u.controller.control&&h.controller&&h.controller.control&&(u.controller.control=h.controller.control),v.includes("children")&&s&&r&&h.virtual.enabled?(r.slides=s,r.update(!0)):v.includes("virtual")&&r&&h.virtual.enabled&&(s&&(r.slides=s),r.update(!0)),v.includes("children")&&s&&h.loop&&(D=!0),g&&c.init()&&c.update(!0),o&&(u.controller.control=h.controller.control),m&&(u.isElement&&(!p||typeof p=="string")&&(p=document.createElement("div"),p.classList.add("swiper-pagination"),p.part.add("pagination"),u.el.appendChild(p)),p&&(h.pagination.el=p),d.init(),d.render(),d.update()),b&&(u.isElement&&(!M||typeof M=="string")&&(M=document.createElement("div"),M.classList.add("swiper-scrollbar"),M.part.add("scrollbar"),u.el.appendChild(M)),M&&(h.scrollbar.el=M),l.init(),l.updateSize(),l.setTranslate()),_&&(u.isElement&&((!C||typeof C=="string")&&(C=document.createElement("div"),C.classList.add("swiper-button-next"),mr(C,u.navigation.arrowSvg),C.part.add("button-next"),u.el.appendChild(C)),(!w||typeof w=="string")&&(w=document.createElement("div"),w.classList.add("swiper-button-prev"),mr(w,u.navigation.arrowSvg),w.part.add("button-prev"),u.el.appendChild(w))),C&&(h.navigation.nextEl=C),w&&(h.navigation.prevEl=w),a.init(),a.update()),v.includes("allowSlideNext")&&(u.allowSlideNext=y.allowSlideNext),v.includes("allowSlidePrev")&&(u.allowSlidePrev=y.allowSlidePrev),v.includes("direction")&&u.changeDirection(y.direction,!1),(T||D)&&u.loopDestroy(),(E||D)&&u.loopCreate(),u.update()}function HS(u={},s=!0){const y={on:{}},v={},C={};ma(y,Ru),y._emitClasses=!0,y.init=!1;const w={},M=nm.map(n=>n.replace(/_/,"")),p=Object.assign({},u);return Object.keys(p).forEach(n=>{typeof u[n]>"u"||(M.indexOf(n)>=0?Mn(u[n])?(y[n]={},C[n]={},ma(y[n],u[n]),ma(C[n],u[n])):(y[n]=u[n],C[n]=u[n]):n.search(/on[A-Z]/)===0&&typeof u[n]=="function"?s?v[`${n[2].toLowerCase()}${n.substr(3)}`]=u[n]:y.on[`${n[2].toLowerCase()}${n.substr(3)}`]=u[n]:w[n]=u[n])}),["navigation","pagination","scrollbar"].forEach(n=>{y[n]===!0&&(y[n]={}),y[n]===!1&&delete y[n]}),{params:y,passedParams:C,rest:w,events:v}}function US({el:u,nextEl:s,prevEl:y,paginationEl:v,scrollbarEl:C,swiper:w},M){am(M)&&s&&y&&(w.params.navigation.nextEl=s,w.originalParams.navigation.nextEl=s,w.params.navigation.prevEl=y,w.originalParams.navigation.prevEl=y),rm(M)&&v&&(w.params.pagination.el=v,w.originalParams.pagination.el=v),sm(M)&&C&&(w.params.scrollbar.el=C,w.originalParams.scrollbar.el=C),w.init(u)}function YS(u,s,y,v,C){const w=[];if(!s)return w;const M=n=>{w.indexOf(n)<0&&w.push(n)};if(y&&v){const n=v.map(C),h=y.map(C);n.join("")!==h.join("")&&M("children"),v.length!==y.length&&M("children")}return nm.filter(n=>n[0]==="_").map(n=>n.replace(/_/,"")).forEach(n=>{if(n in u&&n in s)if(Mn(u[n])&&Mn(s[n])){const h=Object.keys(u[n]),d=Object.keys(s[n]);h.length!==d.length?M(n):(h.forEach(a=>{u[n][a]!==s[n][a]&&M(n)}),d.forEach(a=>{u[n][a]!==s[n][a]&&M(n)}))}else u[n]!==s[n]&&M(n)}),w}const XS=u=>{!u||u.destroyed||!u.params.virtual||u.params.virtual&&!u.params.virtual.enabled||(u.updateSlides(),u.updateProgress(),u.updateSlidesClasses(),u.emit("_virtualUpdated"),u.parallax&&u.params.parallax&&u.params.parallax.enabled&&u.parallax.setTranslate())};function Ws(){return Ws=Object.assign?Object.assign.bind():function(u){for(var s=1;s<arguments.length;s++){var y=arguments[s];for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&(u[v]=y[v])}return u},Ws.apply(this,arguments)}function om(u){return u.type&&u.type.displayName&&u.type.displayName.includes("SwiperSlide")}function um(u){const s=[];return dt.Children.toArray(u).forEach(y=>{om(y)?s.push(y):y.props&&y.props.children&&um(y.props.children).forEach(v=>s.push(v))}),s}function GS(u){const s=[],y={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return dt.Children.toArray(u).forEach(v=>{if(om(v))s.push(v);else if(v.props&&v.props.slot&&y[v.props.slot])y[v.props.slot].push(v);else if(v.props&&v.props.children){const C=um(v.props.children);C.length>0?C.forEach(w=>s.push(w)):y["container-end"].push(v)}else y["container-end"].push(v)}),{slides:s,slots:y}}function VS(u,s,y){if(!y)return null;const v=d=>{let a=d;return d<0?a=s.length+d:a>=s.length&&(a=a-s.length),a},C=u.isHorizontal()?{[u.rtlTranslate?"right":"left"]:`${y.offset}px`}:{top:`${y.offset}px`},{from:w,to:M}=y,p=u.params.loop?-s.length:0,n=u.params.loop?s.length*2:s.length,h=[];for(let d=p;d<n;d+=1)d>=w&&d<=M&&h.push(s[v(d)]);return h.map((d,a)=>dt.cloneElement(d,{swiper:u,style:C,key:d.props.virtualIndex||d.key||`slide-${a}`}))}function dr(u,s){return typeof window>"u"?Q.useEffect(u,s):Q.useLayoutEffect(u,s)}const vg=Q.createContext(null),IS=Q.createContext(null),qu=Q.forwardRef(({className:u,tag:s="div",wrapperTag:y="div",children:v,onSwiper:C,...w}={},M)=>{let p=!1;const[n,h]=Q.useState("swiper"),[d,a]=Q.useState(null),[l,r]=Q.useState(!1),c=Q.useRef(!1),g=Q.useRef(null),o=Q.useRef(null),m=Q.useRef(null),b=Q.useRef(null),_=Q.useRef(null),T=Q.useRef(null),E=Q.useRef(null),D=Q.useRef(null),{params:k,passedParams:N,rest:q,events:H}=HS(w),{slides:V,slots:ee}=GS(v),ce=()=>{r(!l)};Object.assign(k.on,{_containerClasses(K,j){h(j)}});const re=()=>{Object.assign(k.on,H),p=!0;const K={...k};if(delete K.wrapperClass,o.current=new Iu(K),o.current.virtual&&o.current.params.virtual.enabled){o.current.virtual.slides=V;const j={cache:!1,slides:V,renderExternal:a,renderExternalUpdate:!1};ma(o.current.params.virtual,j),ma(o.current.originalParams.virtual,j)}};g.current||re(),o.current&&o.current.on("_beforeBreakpoint",ce);const fe=()=>{p||!H||!o.current||Object.keys(H).forEach(K=>{o.current.on(K,H[K])})},I=()=>{!H||!o.current||Object.keys(H).forEach(K=>{o.current.off(K,H[K])})};Q.useEffect(()=>()=>{o.current&&o.current.off("_beforeBreakpoint",ce)}),Q.useEffect(()=>{!c.current&&o.current&&(o.current.emitSlidesClasses(),c.current=!0)}),dr(()=>{if(M&&(M.current=g.current),!!g.current)return o.current.destroyed&&re(),US({el:g.current,nextEl:_.current,prevEl:T.current,paginationEl:E.current,scrollbarEl:D.current,swiper:o.current},k),C&&!o.current.destroyed&&C(o.current),()=>{o.current&&!o.current.destroyed&&o.current.destroy(!0,!1)}},[]),dr(()=>{fe();const K=YS(N,m.current,V,b.current,j=>j.key);return m.current=N,b.current=V,K.length&&o.current&&!o.current.destroyed&&FS({swiper:o.current,slides:V,passedParams:N,changedParams:K,nextEl:_.current,prevEl:T.current,scrollbarEl:D.current,paginationEl:E.current}),()=>{I()}}),dr(()=>{XS(o.current)},[d]);function J(){return k.virtual?VS(o.current,V,d):V.map((K,j)=>dt.cloneElement(K,{swiper:o.current,swiperSlideIndex:j}))}return dt.createElement(s,Ws({ref:g,className:lm(`${n}${u?` ${u}`:""}`)},q),dt.createElement(IS.Provider,{value:o.current},ee["container-start"],dt.createElement(y,{className:PS(k.wrapperClass)},ee["wrapper-start"],J(),ee["wrapper-end"]),am(k)&&dt.createElement(dt.Fragment,null,dt.createElement("div",{ref:T,className:"swiper-button-prev"}),dt.createElement("div",{ref:_,className:"swiper-button-next"})),sm(k)&&dt.createElement("div",{ref:D,className:"swiper-scrollbar"}),rm(k)&&dt.createElement("div",{ref:E,className:"swiper-pagination"}),ee["container-end"]))});qu.displayName="Swiper";const Wu=Q.forwardRef(({tag:u="div",children:s,className:y="",swiper:v,zoom:C,lazy:w,virtualIndex:M,swiperSlideIndex:p,...n}={},h)=>{const d=Q.useRef(null),[a,l]=Q.useState("swiper-slide"),[r,c]=Q.useState(!1);function g(_,T,E){T===d.current&&l(E)}dr(()=>{if(typeof p<"u"&&(d.current.swiperSlideIndex=p),h&&(h.current=d.current),!(!d.current||!v)){if(v.destroyed){a!=="swiper-slide"&&l("swiper-slide");return}return v.on("_slideClass",g),()=>{v&&v.off("_slideClass",g)}}}),dr(()=>{v&&d.current&&!v.destroyed&&l(v.getSlideClasses(d.current))},[v]);const o={isActive:a.indexOf("swiper-slide-active")>=0,isVisible:a.indexOf("swiper-slide-visible")>=0,isPrev:a.indexOf("swiper-slide-prev")>=0,isNext:a.indexOf("swiper-slide-next")>=0},m=()=>typeof s=="function"?s(o):s,b=()=>{c(!0)};return dt.createElement(u,Ws({ref:d,className:lm(`${a}${y?` ${y}`:""}`),"data-swiper-slide-index":M,onLoad:b},n),C&&dt.createElement(vg.Provider,{value:o},dt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof C=="number"?C:void 0},m(),w&&!r&&dt.createElement("div",{className:"swiper-lazy-preloader"}))),!C&&dt.createElement(vg.Provider,{value:o},m(),w&&!r&&dt.createElement("div",{className:"swiper-lazy-preloader"})))});Wu.displayName="SwiperSlide";function cm(u,s,y,v){return u.params.createElements&&Object.keys(v).forEach(C=>{if(!y[C]&&y.auto===!0){let w=fi(u.el,`.${v[C]}`)[0];w||(w=Is("div",v[C]),w.className=v[C],u.el.append(w)),y[C]=w,s[C]=w}}),y}const yg='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function fm({swiper:u,extendParams:s,on:y,emit:v}){s({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),u.navigation={nextEl:null,prevEl:null,arrowSvg:yg};function C(r){let c;return r&&typeof r=="string"&&u.isElement&&(c=u.el.querySelector(r)||u.hostEl.querySelector(r),c)?c:(r&&(typeof r=="string"&&(c=[...document.querySelectorAll(r)]),u.params.uniqueNavElements&&typeof r=="string"&&c&&c.length>1&&u.el.querySelectorAll(r).length===1?c=u.el.querySelector(r):c&&c.length===1&&(c=c[0])),r&&!c?r:c)}function w(r,c){const g=u.params.navigation;r=vt(r),r.forEach(o=>{o&&(o.classList[c?"add":"remove"](...g.disabledClass.split(" ")),o.tagName==="BUTTON"&&(o.disabled=c),u.params.watchOverflow&&u.enabled&&o.classList[u.isLocked?"add":"remove"](g.lockClass))})}function M(){const{nextEl:r,prevEl:c}=u.navigation;if(u.params.loop){w(c,!1),w(r,!1);return}w(c,u.isBeginning&&!u.params.rewind),w(r,u.isEnd&&!u.params.rewind)}function p(r){r.preventDefault(),!(u.isBeginning&&!u.params.loop&&!u.params.rewind)&&(u.slidePrev(),v("navigationPrev"))}function n(r){r.preventDefault(),!(u.isEnd&&!u.params.loop&&!u.params.rewind)&&(u.slideNext(),v("navigationNext"))}function h(){const r=u.params.navigation;if(u.params.navigation=cm(u,u.originalParams.navigation,u.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(r.nextEl||r.prevEl))return;let c=C(r.nextEl),g=C(r.prevEl);Object.assign(u.navigation,{nextEl:c,prevEl:g}),c=vt(c),g=vt(g);const o=(m,b)=>{if(m){if(r.addIcons&&m.matches(".swiper-button-next,.swiper-button-prev")&&!m.querySelector("svg")){const _=document.createElement("div");mr(_,yg),m.appendChild(_.querySelector("svg")),_.remove()}m.addEventListener("click",b==="next"?n:p)}!u.enabled&&m&&m.classList.add(...r.lockClass.split(" "))};c.forEach(m=>o(m,"next")),g.forEach(m=>o(m,"prev"))}function d(){let{nextEl:r,prevEl:c}=u.navigation;r=vt(r),c=vt(c);const g=(o,m)=>{o.removeEventListener("click",m==="next"?n:p),o.classList.remove(...u.params.navigation.disabledClass.split(" "))};r.forEach(o=>g(o,"next")),c.forEach(o=>g(o,"prev"))}y("init",()=>{u.params.navigation.enabled===!1?l():(h(),M())}),y("toEdge fromEdge lock unlock",()=>{M()}),y("destroy",()=>{d()}),y("enable disable",()=>{let{nextEl:r,prevEl:c}=u.navigation;if(r=vt(r),c=vt(c),u.enabled){M();return}[...r,...c].filter(g=>!!g).forEach(g=>g.classList.add(u.params.navigation.lockClass))}),y("click",(r,c)=>{let{nextEl:g,prevEl:o}=u.navigation;g=vt(g),o=vt(o);const m=c.target;let b=o.includes(m)||g.includes(m);if(u.isElement&&!b){const _=c.path||c.composedPath&&c.composedPath();_&&(b=_.find(T=>g.includes(T)||o.includes(T)))}if(u.params.navigation.hideOnClick&&!b){if(u.pagination&&u.params.pagination&&u.params.pagination.clickable&&(u.pagination.el===m||u.pagination.el.contains(m)))return;let _;g.length?_=g[0].classList.contains(u.params.navigation.hiddenClass):o.length&&(_=o[0].classList.contains(u.params.navigation.hiddenClass)),v(_===!0?"navigationShow":"navigationHide"),[...g,...o].filter(T=>!!T).forEach(T=>T.classList.toggle(u.params.navigation.hiddenClass))}});const a=()=>{u.el.classList.remove(...u.params.navigation.navigationDisabledClass.split(" ")),h(),M()},l=()=>{u.el.classList.add(...u.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(u.navigation,{enable:a,disable:l,update:M,init:h,destroy:d})}function hr(u=""){return`.${u.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function qS({swiper:u,extendParams:s,on:y,emit:v}){const C="swiper-pagination";s({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:m=>m,formatFractionTotal:m=>m,bulletClass:`${C}-bullet`,bulletActiveClass:`${C}-bullet-active`,modifierClass:`${C}-`,currentClass:`${C}-current`,totalClass:`${C}-total`,hiddenClass:`${C}-hidden`,progressbarFillClass:`${C}-progressbar-fill`,progressbarOppositeClass:`${C}-progressbar-opposite`,clickableClass:`${C}-clickable`,lockClass:`${C}-lock`,horizontalClass:`${C}-horizontal`,verticalClass:`${C}-vertical`,paginationDisabledClass:`${C}-disabled`}}),u.pagination={el:null,bullets:[]};let w,M=0;function p(){return!u.params.pagination.el||!u.pagination.el||Array.isArray(u.pagination.el)&&u.pagination.el.length===0}function n(m,b){const{bulletActiveClass:_}=u.params.pagination;m&&(m=m[`${b==="prev"?"previous":"next"}ElementSibling`],m&&(m.classList.add(`${_}-${b}`),m=m[`${b==="prev"?"previous":"next"}ElementSibling`],m&&m.classList.add(`${_}-${b}-${b}`)))}function h(m,b,_){if(m=m%_,b=b%_,b===m+1)return"next";if(b===m-1)return"previous"}function d(m){const b=m.target.closest(hr(u.params.pagination.bulletClass));if(!b)return;m.preventDefault();const _=qs(b)*u.params.slidesPerGroup;if(u.params.loop){if(u.realIndex===_)return;const T=h(u.realIndex,_,u.slides.length);T==="next"?u.slideNext():T==="previous"?u.slidePrev():u.slideToLoop(_)}else u.slideTo(_)}function a(){const m=u.rtl,b=u.params.pagination;if(p())return;let _=u.pagination.el;_=vt(_);let T,E;const D=u.virtual&&u.params.virtual.enabled?u.virtual.slides.length:u.slides.length,k=u.params.loop?Math.ceil(D/u.params.slidesPerGroup):u.snapGrid.length;if(u.params.loop?(E=u.previousRealIndex||0,T=u.params.slidesPerGroup>1?Math.floor(u.realIndex/u.params.slidesPerGroup):u.realIndex):typeof u.snapIndex<"u"?(T=u.snapIndex,E=u.previousSnapIndex):(E=u.previousIndex||0,T=u.activeIndex||0),b.type==="bullets"&&u.pagination.bullets&&u.pagination.bullets.length>0){const N=u.pagination.bullets;let q,H,V;if(b.dynamicBullets&&(w=ku(N[0],u.isHorizontal()?"width":"height"),_.forEach(ee=>{ee.style[u.isHorizontal()?"width":"height"]=`${w*(b.dynamicMainBullets+4)}px`}),b.dynamicMainBullets>1&&E!==void 0&&(M+=T-(E||0),M>b.dynamicMainBullets-1?M=b.dynamicMainBullets-1:M<0&&(M=0)),q=Math.max(T-M,0),H=q+(Math.min(N.length,b.dynamicMainBullets)-1),V=(H+q)/2),N.forEach(ee=>{const ce=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(re=>`${b.bulletActiveClass}${re}`)].map(re=>typeof re=="string"&&re.includes(" ")?re.split(" "):re).flat();ee.classList.remove(...ce)}),_.length>1)N.forEach(ee=>{const ce=qs(ee);ce===T?ee.classList.add(...b.bulletActiveClass.split(" ")):u.isElement&&ee.setAttribute("part","bullet"),b.dynamicBullets&&(ce>=q&&ce<=H&&ee.classList.add(...`${b.bulletActiveClass}-main`.split(" ")),ce===q&&n(ee,"prev"),ce===H&&n(ee,"next"))});else{const ee=N[T];if(ee&&ee.classList.add(...b.bulletActiveClass.split(" ")),u.isElement&&N.forEach((ce,re)=>{ce.setAttribute("part",re===T?"bullet-active":"bullet")}),b.dynamicBullets){const ce=N[q],re=N[H];for(let fe=q;fe<=H;fe+=1)N[fe]&&N[fe].classList.add(...`${b.bulletActiveClass}-main`.split(" "));n(ce,"prev"),n(re,"next")}}if(b.dynamicBullets){const ee=Math.min(N.length,b.dynamicMainBullets+4),ce=(w*ee-w)/2-V*w,re=m?"right":"left";N.forEach(fe=>{fe.style[u.isHorizontal()?re:"top"]=`${ce}px`})}}_.forEach((N,q)=>{if(b.type==="fraction"&&(N.querySelectorAll(hr(b.currentClass)).forEach(H=>{H.textContent=b.formatFractionCurrent(T+1)}),N.querySelectorAll(hr(b.totalClass)).forEach(H=>{H.textContent=b.formatFractionTotal(k)})),b.type==="progressbar"){let H;b.progressbarOpposite?H=u.isHorizontal()?"vertical":"horizontal":H=u.isHorizontal()?"horizontal":"vertical";const V=(T+1)/k;let ee=1,ce=1;H==="horizontal"?ee=V:ce=V,N.querySelectorAll(hr(b.progressbarFillClass)).forEach(re=>{re.style.transform=`translate3d(0,0,0) scaleX(${ee}) scaleY(${ce})`,re.style.transitionDuration=`${u.params.speed}ms`})}b.type==="custom"&&b.renderCustom?(mr(N,b.renderCustom(u,T+1,k)),q===0&&v("paginationRender",N)):(q===0&&v("paginationRender",N),v("paginationUpdate",N)),u.params.watchOverflow&&u.enabled&&N.classList[u.isLocked?"add":"remove"](b.lockClass)})}function l(){const m=u.params.pagination;if(p())return;const b=u.virtual&&u.params.virtual.enabled?u.virtual.slides.length:u.grid&&u.params.grid.rows>1?u.slides.length/Math.ceil(u.params.grid.rows):u.slides.length;let _=u.pagination.el;_=vt(_);let T="";if(m.type==="bullets"){let E=u.params.loop?Math.ceil(b/u.params.slidesPerGroup):u.snapGrid.length;u.params.freeMode&&u.params.freeMode.enabled&&E>b&&(E=b);for(let D=0;D<E;D+=1)m.renderBullet?T+=m.renderBullet.call(u,D,m.bulletClass):T+=`<${m.bulletElement} ${u.isElement?'part="bullet"':""} class="${m.bulletClass}"></${m.bulletElement}>`}m.type==="fraction"&&(m.renderFraction?T=m.renderFraction.call(u,m.currentClass,m.totalClass):T=`<span class="${m.currentClass}"></span> / <span class="${m.totalClass}"></span>`),m.type==="progressbar"&&(m.renderProgressbar?T=m.renderProgressbar.call(u,m.progressbarFillClass):T=`<span class="${m.progressbarFillClass}"></span>`),u.pagination.bullets=[],_.forEach(E=>{m.type!=="custom"&&mr(E,T||""),m.type==="bullets"&&u.pagination.bullets.push(...E.querySelectorAll(hr(m.bulletClass)))}),m.type!=="custom"&&v("paginationRender",_[0])}function r(){u.params.pagination=cm(u,u.originalParams.pagination,u.params.pagination,{el:"swiper-pagination"});const m=u.params.pagination;if(!m.el)return;let b;typeof m.el=="string"&&u.isElement&&(b=u.el.querySelector(m.el)),!b&&typeof m.el=="string"&&(b=[...document.querySelectorAll(m.el)]),b||(b=m.el),!(!b||b.length===0)&&(u.params.uniqueNavElements&&typeof m.el=="string"&&Array.isArray(b)&&b.length>1&&(b=[...u.el.querySelectorAll(m.el)],b.length>1&&(b=b.find(_=>Kg(_,".swiper")[0]===u.el))),Array.isArray(b)&&b.length===1&&(b=b[0]),Object.assign(u.pagination,{el:b}),b=vt(b),b.forEach(_=>{m.type==="bullets"&&m.clickable&&_.classList.add(...(m.clickableClass||"").split(" ")),_.classList.add(m.modifierClass+m.type),_.classList.add(u.isHorizontal()?m.horizontalClass:m.verticalClass),m.type==="bullets"&&m.dynamicBullets&&(_.classList.add(`${m.modifierClass}${m.type}-dynamic`),M=0,m.dynamicMainBullets<1&&(m.dynamicMainBullets=1)),m.type==="progressbar"&&m.progressbarOpposite&&_.classList.add(m.progressbarOppositeClass),m.clickable&&_.addEventListener("click",d),u.enabled||_.classList.add(m.lockClass)}))}function c(){const m=u.params.pagination;if(p())return;let b=u.pagination.el;b&&(b=vt(b),b.forEach(_=>{_.classList.remove(m.hiddenClass),_.classList.remove(m.modifierClass+m.type),_.classList.remove(u.isHorizontal()?m.horizontalClass:m.verticalClass),m.clickable&&(_.classList.remove(...(m.clickableClass||"").split(" ")),_.removeEventListener("click",d))})),u.pagination.bullets&&u.pagination.bullets.forEach(_=>_.classList.remove(...m.bulletActiveClass.split(" ")))}y("changeDirection",()=>{if(!u.pagination||!u.pagination.el)return;const m=u.params.pagination;let{el:b}=u.pagination;b=vt(b),b.forEach(_=>{_.classList.remove(m.horizontalClass,m.verticalClass),_.classList.add(u.isHorizontal()?m.horizontalClass:m.verticalClass)})}),y("init",()=>{u.params.pagination.enabled===!1?o():(r(),l(),a())}),y("activeIndexChange",()=>{typeof u.snapIndex>"u"&&a()}),y("snapIndexChange",()=>{a()}),y("snapGridLengthChange",()=>{l(),a()}),y("destroy",()=>{c()}),y("enable disable",()=>{let{el:m}=u.pagination;m&&(m=vt(m),m.forEach(b=>b.classList[u.enabled?"remove":"add"](u.params.pagination.lockClass)))}),y("lock unlock",()=>{a()}),y("click",(m,b)=>{const _=b.target,T=vt(u.pagination.el);if(u.params.pagination.el&&u.params.pagination.hideOnClick&&T&&T.length>0&&!_.classList.contains(u.params.pagination.bulletClass)){if(u.navigation&&(u.navigation.nextEl&&_===u.navigation.nextEl||u.navigation.prevEl&&_===u.navigation.prevEl))return;const E=T[0].classList.contains(u.params.pagination.hiddenClass);v(E===!0?"paginationShow":"paginationHide"),T.forEach(D=>D.classList.toggle(u.params.pagination.hiddenClass))}});const g=()=>{u.el.classList.remove(u.params.pagination.paginationDisabledClass);let{el:m}=u.pagination;m&&(m=vt(m),m.forEach(b=>b.classList.remove(u.params.pagination.paginationDisabledClass))),r(),l(),a()},o=()=>{u.el.classList.add(u.params.pagination.paginationDisabledClass);let{el:m}=u.pagination;m&&(m=vt(m),m.forEach(b=>b.classList.add(u.params.pagination.paginationDisabledClass))),c()};Object.assign(u.pagination,{enable:g,disable:o,render:l,update:a,init:r,destroy:c})}function WS({swiper:u,extendParams:s,on:y,emit:v,params:C}){u.autoplay={running:!1,paused:!1,timeLeft:0},s({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let w,M,p=C&&C.autoplay?C.autoplay.delay:3e3,n=C&&C.autoplay?C.autoplay.delay:3e3,h,d=new Date().getTime(),a,l,r,c,g,o,m;function b(J){!u||u.destroyed||!u.wrapperEl||J.target===u.wrapperEl&&(u.wrapperEl.removeEventListener("transitionend",b),!(m||J.detail&&J.detail.bySwiperTouchMove)&&q())}const _=()=>{if(u.destroyed||!u.autoplay.running)return;u.autoplay.paused?a=!0:a&&(n=h,a=!1);const J=u.autoplay.paused?h:d+n-new Date().getTime();u.autoplay.timeLeft=J,v("autoplayTimeLeft",J,J/p),M=requestAnimationFrame(()=>{_()})},T=()=>{let J;return u.virtual&&u.params.virtual.enabled?J=u.slides.find(j=>j.classList.contains("swiper-slide-active")):J=u.slides[u.activeIndex],J?parseInt(J.getAttribute("data-swiper-autoplay"),10):void 0},E=J=>{if(u.destroyed||!u.autoplay.running)return;cancelAnimationFrame(M),_();let K=typeof J>"u"?u.params.autoplay.delay:J;p=u.params.autoplay.delay,n=u.params.autoplay.delay;const j=T();!Number.isNaN(j)&&j>0&&typeof J>"u"&&(K=j,p=j,n=j),h=K;const F=u.params.speed,A=()=>{!u||u.destroyed||(u.params.autoplay.reverseDirection?!u.isBeginning||u.params.loop||u.params.rewind?(u.slidePrev(F,!0,!0),v("autoplay")):u.params.autoplay.stopOnLastSlide||(u.slideTo(u.slides.length-1,F,!0,!0),v("autoplay")):!u.isEnd||u.params.loop||u.params.rewind?(u.slideNext(F,!0,!0),v("autoplay")):u.params.autoplay.stopOnLastSlide||(u.slideTo(0,F,!0,!0),v("autoplay")),u.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{E()})))};return K>0?(clearTimeout(w),w=setTimeout(()=>{A()},K)):requestAnimationFrame(()=>{A()}),K},D=()=>{d=new Date().getTime(),u.autoplay.running=!0,E(),v("autoplayStart")},k=()=>{u.autoplay.running=!1,clearTimeout(w),cancelAnimationFrame(M),v("autoplayStop")},N=(J,K)=>{if(u.destroyed||!u.autoplay.running)return;clearTimeout(w),J||(o=!0);const j=()=>{v("autoplayPause"),u.params.autoplay.waitForTransition?u.wrapperEl.addEventListener("transitionend",b):q()};if(u.autoplay.paused=!0,K){g&&(h=u.params.autoplay.delay),g=!1,j();return}h=(h||u.params.autoplay.delay)-(new Date().getTime()-d),!(u.isEnd&&h<0&&!u.params.loop)&&(h<0&&(h=0),j())},q=()=>{u.isEnd&&h<0&&!u.params.loop||u.destroyed||!u.autoplay.running||(d=new Date().getTime(),o?(o=!1,E(h)):E(),u.autoplay.paused=!1,v("autoplayResume"))},H=()=>{if(u.destroyed||!u.autoplay.running)return;const J=hi();J.visibilityState==="hidden"&&(o=!0,N(!0)),J.visibilityState==="visible"&&q()},V=J=>{J.pointerType==="mouse"&&(o=!0,m=!0,!(u.animating||u.autoplay.paused)&&N(!0))},ee=J=>{J.pointerType==="mouse"&&(m=!1,u.autoplay.paused&&q())},ce=()=>{u.params.autoplay.pauseOnMouseEnter&&(u.el.addEventListener("pointerenter",V),u.el.addEventListener("pointerleave",ee))},re=()=>{u.el&&typeof u.el!="string"&&(u.el.removeEventListener("pointerenter",V),u.el.removeEventListener("pointerleave",ee))},fe=()=>{hi().addEventListener("visibilitychange",H)},I=()=>{hi().removeEventListener("visibilitychange",H)};y("init",()=>{u.params.autoplay.enabled&&(ce(),fe(),D())}),y("destroy",()=>{re(),I(),u.autoplay.running&&k()}),y("_freeModeStaticRelease",()=>{(r||o)&&q()}),y("_freeModeNoMomentumRelease",()=>{u.params.autoplay.disableOnInteraction?k():N(!0,!0)}),y("beforeTransitionStart",(J,K,j)=>{u.destroyed||!u.autoplay.running||(j||!u.params.autoplay.disableOnInteraction?N(!0,!0):k())}),y("sliderFirstMove",()=>{if(!(u.destroyed||!u.autoplay.running)){if(u.params.autoplay.disableOnInteraction){k();return}l=!0,r=!1,o=!1,c=setTimeout(()=>{o=!0,r=!0,N(!0)},200)}}),y("touchEnd",()=>{if(!(u.destroyed||!u.autoplay.running||!l)){if(clearTimeout(c),clearTimeout(w),u.params.autoplay.disableOnInteraction){r=!1,l=!1;return}r&&u.params.cssMode&&q(),r=!1,l=!1}}),y("slideChange",()=>{u.destroyed||!u.autoplay.running||(g=!0)}),Object.assign(u.autoplay,{start:D,stop:k,pause:N,resume:q})}const QS="https://snowy-snowflake-732e.legacytracesdev.workers.dev/",ga=u=>u?u.startsWith("http")?u:`https://lh3.googleusercontent.com/d/${u}?authuser=1/view`:"https://placehold.co/400x500/000/FFF?text=No+Image";let Ou=null;const hm=async()=>{if(Ou)return Ou;try{const u=await fetch(QS);if(!u.ok)throw new Error("Failed to fetch data");const s=await u.json();return Ou=s,s}catch(u){return console.error("Error fetching data:",u),{collection:[],category:[],product:[]}}},ZS=[{id:1,image:"https://instagram.fmaa14-1.fna.fbcdn.net/v/t51.82787-15/601460733_17906628507294342_5368365134424290639_n.jpg?stp=dst-jpegr_e35_tt6&_nc_cat=107&ig_cache_key=Mzc5MjI3ODM5NzcxMjgwNzY0MA%3D%3D.3-ccb7-5&ccb=7-5&_nc_sid=58cdad&efg=eyJ2ZW5jb2RlX3RhZyI6InhwaWRzLjE0NDB4MTkyMC5oZHIuQzMifQ%3D%3D&_nc_ohc=8y4Htvyur8wQ7kNvwEcZU_z&_nc_oc=AdmSNZAygw7uw_g7yZ9WeBUzHRa5e5_HLwIahiGNCcwVofNHCN4Uj_2xcfiqbgzNHHZTl7crhp5h2RTg9h1EReBc&_nc_ad=z-m&_nc_cid=2034&_nc_zt=23&_nc_ht=instagram.fmaa14-1.fna&_nc_gid=ohrRh-cLvQeKleUoRH0lzA&oh=00_AfpHbzvmEKCbJl2n-OeqX8m96lSPj6WZTDVg99Tqo41lZA&oe=69712321",alt:"Banner 1"},{id:2,image:"https://instagram.fmaa14-1.fna.fbcdn.net/v/t51.82787-15/515150610_17887569294294342_1300272603318629388_n.webp?_nc_cat=108&ig_cache_key=MzY3MDUxNDYwMDQ3MTk4NDY4NA%3D%3D.3-ccb7-5&ccb=7-5&_nc_sid=58cdad&efg=eyJ2ZW5jb2RlX3RhZyI6InhwaWRzLjE0NDB4MTkyMC5zZHIuQzMifQ%3D%3D&_nc_ohc=wfvhF4CFsy4Q7kNvwGlte8G&_nc_oc=AdkXyxg13fgBUZKeDyqrus-kewSyOHM3mnT9_4cRvNGf51KLhcihWQBi2QuAwolrFUL2AMX8unGaHtA9Rg-RgsXJ&_nc_ad=z-m&_nc_cid=2034&_nc_zt=23&_nc_ht=instagram.fmaa14-1.fna&_nc_gid=PGFCgL9ovfBPHzsLslxS4A&oh=00_AfqXtlcf_yicRFwv83pclqzVvlRgRb1HfpWp7x2VhAF5ag&oe=69713161",alt:"Banner 2"},{id:3,image:"https://instagram.fmaa14-1.fna.fbcdn.net/v/t51.82787-15/511537525_17886426678294342_7745432823701418248_n.webp?stp=dst-webp_p640x640_sh0.08&_nc_cat=111&ig_cache_key=MzY2MzUyMDE4MDk5MjI3NzY2NQ%3D%3D.3-ccb7-5&ccb=7-5&_nc_sid=58cdad&efg=eyJ2ZW5jb2RlX3RhZyI6InhwaWRzLjE0NDB4MTkyMC5zZHIuQzMifQ%3D%3D&_nc_ohc=83IWrGFqJBIQ7kNvwHfoxht&_nc_oc=AdlpE2b3e2iPwTXGh0eCac5nO_JJdlesdbK47fhAZ0DQyE9h3xW9ThVtkCFvgIeYTFKLQ3hWQVpXRIo7JeYo4Lcd&_nc_ad=z-m&_nc_cid=2034&_nc_zt=23&_nc_ht=instagram.fmaa14-1.fna&_nc_gid=PGFCgL9ovfBPHzsLslxS4A&oh=00_AfoWFen4e5TgGXMS1sEwfy7wl6t8iyJZfWX5X19iAicFdA&oe=69711BA0",alt:"Banner 3"}],KS=()=>new Promise(u=>{setTimeout(()=>u(ZS),500)}),dm=async()=>(await hm()).product||[],JS=async u=>(await dm()).find(y=>y.ID===u),$S=()=>{const[u,s]=Q.useState([]);return Q.useEffect(()=>{KS().then(s)},[]),u.length===0?L.jsx("div",{className:"container mx-auto h-[400px] bg-gray-100 dark:bg-gray-800 rounded-2xl animate-pulse mt-4"}):L.jsx("div",{className:"container mx-auto px-4 mt-6",children:L.jsx("div",{className:"rounded-2xl overflow-hidden shadow-xl",children:L.jsx(qu,{spaceBetween:0,centeredSlides:!0,autoplay:{delay:3500,disableOnInteraction:!1},pagination:{clickable:!0},navigation:!0,modules:[WS,qS,fm],className:"mySwiper h-[400px] md:h-[500px]",children:u.map(y=>L.jsx(Wu,{children:L.jsxs("div",{className:"relative w-full h-full",children:[L.jsx("img",{src:y.image,alt:y.alt,className:"w-full h-full object-cover"}),L.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex flex-col justify-end p-8 md:p-16 text-white",children:[L.jsx("h2",{className:"text-4xl md:text-6xl font-heading font-bold mb-4 drop-shadow-lg",children:"New Collection"}),L.jsx("p",{className:"text-lg md:text-xl mb-8 max-w-xl drop-shadow-md",children:"Discover the latest trends in Tamil inspired streetwear. Bold, authentic, and premium."}),L.jsx(tt,{to:"/shop",className:"inline-block bg-primary text-black px-8 py-3 rounded-lg font-bold hover:bg-green-400 transition-colors transform hover:scale-105 w-fit",children:"Shop Now"})]})]})},y.id))})})})},Qu=({product:u})=>{const{isFavorite:s,toggleFavorite:y}=Ks(),v=s(u.ID);return L.jsxs("div",{className:"group bg-white dark:bg-[#1e1e1e] rounded-xl overflow-hidden border border-gray-200 dark:border-gray-800 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg relative h-full flex flex-col",children:[L.jsx("button",{onClick:C=>{C.preventDefault(),y(u)},className:`absolute top-3 right-3 z-10 p-2 rounded-full bg-white/80 dark:bg-black/50 backdrop-blur-sm transition-colors ${v?"text-red-500":"text-gray-500 hover:text-red-500"}`,children:L.jsx(Yu,{size:18,fill:v?"currentColor":"none"})}),L.jsx(tt,{to:`/product/${u.ID}`,className:"block relative pt-[125%] overflow-hidden",children:L.jsx("img",{src:`https://lh3.googleusercontent.com/d/${u["Primary Image"]}?authuser=1/view`,alt:u.Name,className:"absolute top-0 left-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy",referrerPolicy:"no-referrer"})}),L.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[L.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:u.Type}),L.jsx(tt,{to:`/product/${u.ID}`,className:"block",children:L.jsx("h3",{className:"font-heading font-bold text-lg mb-2 truncate group-hover:text-primary transition-colors",children:u.Name})}),L.jsx("div",{className:"flex items-center justify-between mt-auto",children:L.jsx("div",{className:"flex items-baseline gap-2",children:L.jsxs("span",{className:"font-bold text-lg",children:["",u.Price]})})}),L.jsxs("button",{className:"w-full mt-4 py-2 bg-black dark:bg-white text-white dark:text-black font-bold rounded-lg flex items-center justify-center gap-2 hover:opacity-90 transition-opacity",children:[L.jsx(Xg,{size:16})," Add to Cart"]})]})]})},Mu=({title:u,products:s=[]})=>s.length?L.jsxs("section",{className:"container mx-auto px-4 mt-16",children:[L.jsxs("div",{className:"flex justify-between items-end mb-8",children:[L.jsx("h2",{className:"text-3xl font-heading font-bold",children:u}),L.jsx(tt,{to:"/shop",className:"text-primary font-medium hover:underline",children:"View All"})]}),L.jsx(qu,{slidesPerView:1.5,spaceBetween:16,navigation:!0,modules:[fm],breakpoints:{640:{slidesPerView:2.5,spaceBetween:20},768:{slidesPerView:3.5,spaceBetween:24},1024:{slidesPerView:4,spaceBetween:24}},className:"product-swiper !pb-10 !px-2",children:s.map(y=>L.jsx(Wu,{children:L.jsx(Qu,{product:y})},y.ID))})]}):null,ex=()=>{const[u,s]=Q.useState([]),[y,v]=Q.useState(!0);return Q.useEffect(()=>{dm().then(C=>{s(C),v(!1)})},[]),y?L.jsx("div",{className:"min-h-screen flex items-center justify-center",children:L.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):L.jsxs("main",{children:[L.jsx($S,{}),L.jsx(Mu,{title:"Trending Now",products:u}),L.jsx(Mu,{title:"New Arrivals",products:u}),L.jsx(Mu,{title:"Best Sellers",products:u})]})},tx=()=>{const[u,s]=Q.useState([]),[y,v]=Q.useState([]),[C,w]=Q.useState([]),[M,p]=Q.useState(!0),[n,h]=Q.useState("All"),[d,a]=Q.useState("All"),[l,r]=Q.useState("default"),[c,g]=Q.useState(!1);Q.useEffect(()=>{hm().then(m=>{s(m.product||[]),v(m.collection||[]),w(m.category||[]),p(!1)})},[]);const o=u.filter(m=>{const b=n==="All"||m.Collection===n,_=d==="All"||m.Type===d;return b&&_}).sort((m,b)=>l==="lowToHigh"?m.Price-b.Price:l==="highToLow"?b.Price-m.Price:0);return M?L.jsx("div",{className:"min-h-screen flex items-center justify-center",children:L.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):L.jsx("div",{className:"container mx-auto px-4 py-8",children:L.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[L.jsxs("button",{className:"md:hidden flex items-center gap-2 font-bold border p-2 rounded",onClick:()=>g(!0),children:[L.jsx(Dy,{size:20})," Filters"]}),L.jsxs("aside",{className:`fixed inset-0 bg-white dark:bg-[#121212] z-50 p-6 overflow-y-auto transition-transform duration-300 md:relative md:translate-x-0 md:w-1/4 md:bg-transparent md:p-0 md:z-0 ${c?"translate-x-0":"-translate-x-full"}`,children:[L.jsxs("div",{className:"flex justify-between items-center mb-6 md:hidden",children:[L.jsx("h2",{className:"text-xl font-bold",children:"Filters"}),L.jsx("button",{onClick:()=>g(!1),children:L.jsx(Xu,{size:24})})]}),L.jsxs("div",{className:"space-y-8",children:[L.jsxs("div",{children:[L.jsx("h3",{className:"font-bold text-lg mb-4 font-heading",children:"Collections"}),L.jsxs("div",{className:"space-y-2",children:[L.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[L.jsx("input",{type:"radio",name:"collection",checked:n==="All",onChange:()=>h("All"),className:"accent-primary"}),L.jsx("span",{children:"All Collections"})]}),y.map(m=>L.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[L.jsx("input",{type:"radio",name:"collection",checked:n===m.ID,onChange:()=>h(m.ID),className:"accent-primary"}),L.jsx("span",{children:m.Name})]},m.ID))]})]}),L.jsxs("div",{children:[L.jsx("h3",{className:"font-bold text-lg mb-4 font-heading",children:"Categories"}),L.jsxs("div",{className:"space-y-2",children:[L.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[L.jsx("input",{type:"radio",name:"category",checked:d==="All",onChange:()=>a("All"),className:"accent-primary"}),L.jsx("span",{children:"All Categories"})]}),C.map(m=>L.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[L.jsx("input",{type:"radio",name:"category",checked:d===m.ID,onChange:()=>a(m.ID),className:"accent-primary"}),L.jsx("span",{children:m.Name})]},m.ID))]})]})]}),L.jsx("button",{className:"md:hidden mt-8 w-full bg-primary text-black font-bold py-3 rounded-lg",onClick:()=>g(!1),children:"Apply Filters"})]}),L.jsxs("div",{className:"flex-1",children:[L.jsxs("div",{className:"flex justify-between items-center mb-6",children:[L.jsx("h1",{className:"text-2xl font-bold font-heading",children:"Shop All"}),L.jsxs("select",{value:l,onChange:m=>r(m.target.value),className:"bg-transparent border border-gray-300 dark:border-gray-700 rounded px-3 py-2 focus:outline-none focus:border-primary",children:[L.jsx("option",{value:"default",children:"Sort by: Featured"}),L.jsx("option",{value:"lowToHigh",children:"Price: Low to High"}),L.jsx("option",{value:"highToLow",children:"Price: High to Low"})]})]}),o.length===0?L.jsx("div",{className:"text-center py-20 text-gray-500",children:"No products found matching your filters."}):L.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(m=>L.jsx(Qu,{product:m},m.ID))})]})]})})},ix=()=>{const{id:u}=w0(),[s,y]=Q.useState(null),[v,C]=Q.useState(!0),[w,M]=Q.useState(""),[p,n]=Q.useState(""),{isFavorite:h,toggleFavorite:d}=Ks(),{addToCart:a}=Gu();if(Q.useEffect(()=>{C(!0),JS(u).then(g=>{y(g),g&&n(ga(g["Primary Image"])),C(!1)})},[u]),v)return L.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."});if(!s)return L.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Product not found"});const l=h(s.ID),r=s["Gallery Images"]?s["Gallery Images"].split(",").map(g=>ga(g.trim())):[],c=["S","M","L","XL","XXL"];return L.jsx("div",{className:"container mx-auto px-4 py-8 mt-8",children:L.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[L.jsxs("div",{className:"space-y-4",children:[L.jsx("div",{className:"aspect-[4/5] rounded-2xl overflow-hidden bg-gray-100 dark:bg-gray-800",children:L.jsx("img",{src:p,alt:s.Name,className:"w-full h-full object-cover",referrerPolicy:"no-referrer"})}),L.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-2",children:[L.jsx("button",{onClick:()=>n(ga(s["Primary Image"])),className:`flex-shrink-0 w-24 h-24 rounded-lg overflow-hidden border-2 ${p===ga(s["Primary Image"])?"border-primary":"border-transparent"}`,children:L.jsx("img",{src:ga(s["Primary Image"]),alt:"Main",className:"w-full h-full object-cover",referrerPolicy:"no-referrer"})}),r.map((g,o)=>L.jsx("button",{onClick:()=>n(g),className:`flex-shrink-0 w-24 h-24 rounded-lg overflow-hidden border-2 ${p===g?"border-primary":"border-transparent"}`,children:L.jsx("img",{src:g,alt:`Gallery ${o}`,className:"w-full h-full object-cover",referrerPolicy:"no-referrer"})},o))]})]}),L.jsxs("div",{className:"lg:pl-8",children:[L.jsx("div",{className:"text-sm text-gray-500 mb-2 uppercase tracking-wider",children:s.Type}),L.jsx("h1",{className:"text-4xl font-heading font-bold mb-4",children:s.Name}),L.jsx("div",{className:"flex items-end gap-4 mb-6",children:L.jsxs("span",{className:"text-3xl font-bold text-primary",children:["",s.Price]})}),L.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-8 leading-relaxed whitespace-pre-line",children:s.Description||s["Short description"]}),L.jsxs("div",{className:"mb-8",children:[L.jsxs("div",{className:"flex justify-between items-center mb-3",children:[L.jsx("span",{className:"font-bold",children:"Select Size"}),L.jsx("button",{className:"text-sm text-primary underline",children:"Size Chart"})]}),L.jsx("div",{className:"flex flex-wrap gap-3",children:c.map(g=>L.jsx("button",{onClick:()=>M(g),className:`w-12 h-12 rounded-lg border-2 flex items-center justify-center font-bold transition-all
                    ${w===g?"border-primary bg-primary/10 text-primary":"border-gray-200 dark:border-gray-700 hover:border-gray-400"}`,children:g},g))})]}),L.jsxs("div",{className:"flex gap-4 mb-8",children:[L.jsxs("button",{onClick:()=>{if(!w){alert("Please select a size");return}a(s,w)},className:"flex-1 bg-primary text-black font-bold py-4 rounded-xl flex items-center justify-center gap-2 hover:bg-green-400 transition-colors",children:[L.jsx(Xg,{})," ADD TO CART"]}),L.jsx("button",{onClick:()=>d(s),className:`w-14 h-14 rounded-xl border-2 flex items-center justify-center transition-colors
                ${l?"border-red-500 text-red-500 bg-red-500/10":"border-gray-200 dark:border-gray-700 hover:border-gray-400"}`,children:L.jsx(Yu,{fill:l?"currentColor":"none"})})]}),L.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-xl mb-8",children:[L.jsxs("div",{className:"flex items-center gap-2 font-bold mb-3",children:[L.jsx(nb,{size:20})," Check Delivery"]}),L.jsxs("div",{className:"flex gap-2",children:[L.jsx("input",{type:"text",placeholder:"Enter Pincode",className:"flex-1 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-primary"}),L.jsx("button",{className:"px-6 py-2 bg-gray-900 dark:bg-white text-white dark:text-black font-bold rounded-lg",children:"CHECK"})]})]}),L.jsxs("div",{className:"flex items-center gap-4 text-gray-500",children:[L.jsx("span",{className:"text-sm uppercase tracking-wider",children:"Share:"}),L.jsx("button",{className:"hover:text-primary",children:L.jsx(Qy,{size:20})})]})]})]})})};var Au={};const nx={},ax=Object.freeze(Object.defineProperty({__proto__:null,default:nx},Symbol.toStringTag,{value:"Module"})),Du=Dv(ax);var bg;function rx(){return bg||(bg=1,(function(u){var s=s||{version:"5.3.0"};if(u.fabric=s,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?s.document=document:s.document=document.implementation.createHTMLDocument(""),s.window=window;else{var y=Du,v=new y.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;s.document=v.document,s.jsdomImplForWrapper=Du.implForWrapper,s.nodeCanvas=Du.Canvas,s.window=v,DOMParser=s.window.DOMParser}s.isTouchSupported="ontouchstart"in s.window||"ontouchstart"in s.document||s.window&&s.window.navigator&&s.window.navigator.maxTouchPoints>0,s.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",s.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],s.DPI=96,s.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",s.commaWsp="(?:\\s+,?\\s*|,\\s*)",s.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,s.reNonWord=/[ \n\.,;!\?\-]/,s.fontPaths={},s.iMatrix=[1,0,0,1,0,0],s.svgNS="http://www.w3.org/2000/svg",s.perfLimitSizeTotal=2097152,s.maxCacheSideLimit=4096,s.minCacheSideLimit=256,s.charWidthsCache={},s.textureSize=2048,s.disableStyleCopyPaste=!1,s.enableGLFiltering=!0,s.devicePixelRatio=s.window.devicePixelRatio||s.window.webkitDevicePixelRatio||s.window.mozDevicePixelRatio||1,s.browserShadowBlurConstant=1,s.arcToSegmentsCache={},s.boundsOfCurveCache={},s.cachesBoundsOfCurve=!0,s.forceGLPutImageData=!1,s.initFilterBackend=function(){if(s.enableGLFiltering&&s.isWebglSupported&&s.isWebglSupported(s.textureSize))return console.log("max texture size: "+s.maxTextureSize),new s.WebglFilterBackend({tileSize:s.textureSize});if(s.Canvas2dFilterBackend)return new s.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=s),(function(){function p(r,c){if(this.__eventListeners[r]){var g=this.__eventListeners[r];c?g[g.indexOf(c)]=!1:s.util.array.fill(g,!1)}}function n(r,c){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var g in r)this.on(g,r[g]);else this.__eventListeners[r]||(this.__eventListeners[r]=[]),this.__eventListeners[r].push(c);return this}function h(r,c){var g=(function(){c.apply(this,arguments),this.off(r,g)}).bind(this);this.on(r,g)}function d(r,c){if(arguments.length===1)for(var g in r)h.call(this,g,r[g]);else h.call(this,r,c);return this}function a(r,c){if(!this.__eventListeners)return this;if(arguments.length===0)for(r in this.__eventListeners)p.call(this,r);else if(arguments.length===1&&typeof arguments[0]=="object")for(var g in r)p.call(this,g,r[g]);else p.call(this,r,c);return this}function l(r,c){if(!this.__eventListeners)return this;var g=this.__eventListeners[r];if(!g)return this;for(var o=0,m=g.length;o<m;o++)g[o]&&g[o].call(this,c||{});return this.__eventListeners[r]=g.filter(function(b){return b!==!1}),this}s.Observable={fire:l,on:n,once:d,off:a}})(),s.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var p=0,n=arguments.length;p<n;p++)this._onObjectAdded(arguments[p]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(p,n,h){var d=this._objects;return h?d[n]=p:d.splice(n,0,p),this._onObjectAdded&&this._onObjectAdded(p),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var p=this._objects,n,h=!1,d=0,a=arguments.length;d<a;d++)n=p.indexOf(arguments[d]),n!==-1&&(h=!0,p.splice(n,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[d]));return this.renderOnAddRemove&&h&&this.requestRenderAll(),this},forEachObject:function(p,n){for(var h=this.getObjects(),d=0,a=h.length;d<a;d++)p.call(n,h[d],d,h);return this},getObjects:function(p){return typeof p>"u"?this._objects.concat():this._objects.filter(function(n){return n.type===p})},item:function(p){return this._objects[p]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(p,n){return this._objects.indexOf(p)>-1?!0:n?this._objects.some(function(h){return typeof h.contains=="function"&&h.contains(p,!0)}):!1},complexity:function(){return this._objects.reduce(function(p,n){return p+=n.complexity?n.complexity():0,p},0)}},s.CommonMethods={_setOptions:function(p){for(var n in p)this.set(n,p[n])},_initGradient:function(p,n){p&&p.colorStops&&!(p instanceof s.Gradient)&&this.set(n,new s.Gradient(p))},_initPattern:function(p,n,h){p&&p.source&&!(p instanceof s.Pattern)?this.set(n,new s.Pattern(p,h)):h&&h()},_setObject:function(p){for(var n in p)this._set(n,p[n])},set:function(p,n){return typeof p=="object"?this._setObject(p):this._set(p,n),this},_set:function(p,n){this[p]=n},toggle:function(p){var n=this.get(p);return typeof n=="boolean"&&this.set(p,!n),this},get:function(p){return this[p]}},(function(p){var n=Math.sqrt,h=Math.atan2,d=Math.pow,a=Math.PI/180,l=Math.PI/2;s.util={cos:function(r){if(r===0)return 1;r<0&&(r=-r);var c=r/l;switch(c){case 1:case 3:return 0;case 2:return-1}return Math.cos(r)},sin:function(r){if(r===0)return 0;var c=r/l,g=1;switch(r<0&&(g=-1),c){case 1:return g;case 2:return 0;case 3:return-g}return Math.sin(r)},removeFromArray:function(r,c){var g=r.indexOf(c);return g!==-1&&r.splice(g,1),r},getRandomInt:function(r,c){return Math.floor(Math.random()*(c-r+1))+r},degreesToRadians:function(r){return r*a},radiansToDegrees:function(r){return r/a},rotatePoint:function(r,c,g){var o=new s.Point(r.x-c.x,r.y-c.y),m=s.util.rotateVector(o,g);return new s.Point(m.x,m.y).addEquals(c)},rotateVector:function(r,c){var g=s.util.sin(c),o=s.util.cos(c),m=r.x*o-r.y*g,b=r.x*g+r.y*o;return{x:m,y:b}},createVector:function(r,c){return new s.Point(c.x-r.x,c.y-r.y)},calcAngleBetweenVectors:function(r,c){return Math.acos((r.x*c.x+r.y*c.y)/(Math.hypot(r.x,r.y)*Math.hypot(c.x,c.y)))},getHatVector:function(r){return new s.Point(r.x,r.y).multiply(1/Math.hypot(r.x,r.y))},getBisector:function(r,c,g){var o=s.util.createVector(r,c),m=s.util.createVector(r,g),b=s.util.calcAngleBetweenVectors(o,m),_=s.util.calcAngleBetweenVectors(s.util.rotateVector(o,b),m),T=b*(_===0?1:-1)/2;return{vector:s.util.getHatVector(s.util.rotateVector(o,T)),angle:b}},projectStrokeOnPoints:function(r,c,g){var o=[],m=c.strokeWidth/2,b=c.strokeUniform?new s.Point(1/c.scaleX,1/c.scaleY):new s.Point(1,1),_=function(T){var E=m/Math.hypot(T.x,T.y);return new s.Point(T.x*E*b.x,T.y*E*b.y)};return r.length<=1||r.forEach(function(T,E){var D=new s.Point(T.x,T.y),k,N;E===0?(N=r[E+1],k=g?_(s.util.createVector(N,D)).addEquals(D):r[r.length-1]):E===r.length-1?(k=r[E-1],N=g?_(s.util.createVector(k,D)).addEquals(D):r[0]):(k=r[E-1],N=r[E+1]);var q=s.util.getBisector(D,k,N),H=q.vector,V=q.angle,ee,ce;if(c.strokeLineJoin==="miter"&&(ee=-m/Math.sin(V/2),ce=new s.Point(H.x*ee*b.x,H.y*ee*b.y),Math.hypot(ce.x,ce.y)/m<=c.strokeMiterLimit)){o.push(D.add(ce)),o.push(D.subtract(ce));return}ee=-m*Math.SQRT2,ce=new s.Point(H.x*ee*b.x,H.y*ee*b.y),o.push(D.add(ce)),o.push(D.subtract(ce))}),o},transformPoint:function(r,c,g){return g?new s.Point(c[0]*r.x+c[2]*r.y,c[1]*r.x+c[3]*r.y):new s.Point(c[0]*r.x+c[2]*r.y+c[4],c[1]*r.x+c[3]*r.y+c[5])},makeBoundingBoxFromPoints:function(r,c){if(c)for(var g=0;g<r.length;g++)r[g]=s.util.transformPoint(r[g],c);var o=[r[0].x,r[1].x,r[2].x,r[3].x],m=s.util.array.min(o),b=s.util.array.max(o),_=b-m,T=[r[0].y,r[1].y,r[2].y,r[3].y],E=s.util.array.min(T),D=s.util.array.max(T),k=D-E;return{left:m,top:E,width:_,height:k}},invertTransform:function(r){var c=1/(r[0]*r[3]-r[1]*r[2]),g=[c*r[3],-c*r[1],-c*r[2],c*r[0]],o=s.util.transformPoint({x:r[4],y:r[5]},g,!0);return g[4]=-o.x,g[5]=-o.y,g},toFixed:function(r,c){return parseFloat(Number(r).toFixed(c))},parseUnit:function(r,c){var g=/\D{0,2}$/.exec(r),o=parseFloat(r);switch(c||(c=s.Text.DEFAULT_SVG_FONT_SIZE),g[0]){case"mm":return o*s.DPI/25.4;case"cm":return o*s.DPI/2.54;case"in":return o*s.DPI;case"pt":return o*s.DPI/72;case"pc":return o*s.DPI/72*12;case"em":return o*c;default:return o}},falseFunction:function(){return!1},getKlass:function(r,c){return r=s.util.string.camelize(r.charAt(0).toUpperCase()+r.slice(1)),s.util.resolveNamespace(c)[r]},getSvgAttributes:function(r){var c=["instantiated_by_use","style","id","class"];switch(r){case"linearGradient":c=c.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":c=c.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":c=c.concat(["offset","stop-color","stop-opacity"]);break}return c},resolveNamespace:function(r){if(!r)return s;var c=r.split("."),g=c.length,o,m=p||s.window;for(o=0;o<g;++o)m=m[c[o]];return m},loadImage:function(r,c,g,o){if(!r){c&&c.call(g,r);return}var m=s.util.createImage(),b=function(){c&&c.call(g,m,!1),m=m.onload=m.onerror=null};m.onload=b,m.onerror=function(){s.log("Error loading "+m.src),c&&c.call(g,null,!0),m=m.onload=m.onerror=null},r.indexOf("data")!==0&&o!==void 0&&o!==null&&(m.crossOrigin=o),r.substring(0,14)==="data:image/svg"&&(m.onload=null,s.util.loadImageInDom(m,b)),m.src=r},loadImageInDom:function(r,c){var g=s.document.createElement("div");g.style.width=g.style.height="1px",g.style.left=g.style.top="-100%",g.style.position="absolute",g.appendChild(r),s.document.querySelector("body").appendChild(g),r.onload=function(){c(),g.parentNode.removeChild(g),g=null}},enlivenObjects:function(r,c,g,o){r=r||[];var m=[],b=0,_=r.length;function T(){++b===_&&c&&c(m.filter(function(E){return E}))}if(!_){c&&c(m);return}r.forEach(function(E,D){if(!E||!E.type){T();return}var k=s.util.getKlass(E.type,g);k.fromObject(E,function(N,q){q||(m[D]=N),o&&o(E,N,q),T()})})},enlivenObjectEnlivables:function(r,c,g){var o=s.Object.ENLIVEN_PROPS.filter(function(m){return!!r[m]});s.util.enlivenObjects(o.map(function(m){return r[m]}),function(m){var b={};o.forEach(function(_,T){b[_]=m[T],c&&(c[_]=m[T])}),g&&g(b)})},enlivenPatterns:function(r,c){r=r||[];function g(){++m===b&&c&&c(o)}var o=[],m=0,b=r.length;if(!b){c&&c(o);return}r.forEach(function(_,T){_&&_.source?new s.Pattern(_,function(E){o[T]=E,g()}):(o[T]=_,g())})},groupSVGElements:function(r,c,g){var o;return r&&r.length===1?(typeof g<"u"&&(r[0].sourcePath=g),r[0]):(c&&(c.width&&c.height?c.centerPoint={x:c.width/2,y:c.height/2}:(delete c.width,delete c.height)),o=new s.Group(r,c),typeof g<"u"&&(o.sourcePath=g),o)},populateWithProperties:function(r,c,g){if(g&&Array.isArray(g))for(var o=0,m=g.length;o<m;o++)g[o]in r&&(c[g[o]]=r[g[o]])},createCanvasElement:function(){return s.document.createElement("canvas")},copyCanvasElement:function(r){var c=s.util.createCanvasElement();return c.width=r.width,c.height=r.height,c.getContext("2d").drawImage(r,0,0),c},toDataURL:function(r,c,g){return r.toDataURL("image/"+c,g)},createImage:function(){return s.document.createElement("img")},multiplyTransformMatrices:function(r,c,g){return[r[0]*c[0]+r[2]*c[1],r[1]*c[0]+r[3]*c[1],r[0]*c[2]+r[2]*c[3],r[1]*c[2]+r[3]*c[3],g?0:r[0]*c[4]+r[2]*c[5]+r[4],g?0:r[1]*c[4]+r[3]*c[5]+r[5]]},qrDecompose:function(r){var c=h(r[1],r[0]),g=d(r[0],2)+d(r[1],2),o=n(g),m=(r[0]*r[3]-r[2]*r[1])/o,b=h(r[0]*r[2]+r[1]*r[3],g);return{angle:c/a,scaleX:o,scaleY:m,skewX:b/a,skewY:0,translateX:r[4],translateY:r[5]}},calcRotateMatrix:function(r){if(!r.angle)return s.iMatrix.concat();var c=s.util.degreesToRadians(r.angle),g=s.util.cos(c),o=s.util.sin(c);return[g,o,-o,g,0,0]},calcDimensionsMatrix:function(r){var c=typeof r.scaleX>"u"?1:r.scaleX,g=typeof r.scaleY>"u"?1:r.scaleY,o=[r.flipX?-c:c,0,0,r.flipY?-g:g,0,0],m=s.util.multiplyTransformMatrices,b=s.util.degreesToRadians;return r.skewX&&(o=m(o,[1,0,Math.tan(b(r.skewX)),1],!0)),r.skewY&&(o=m(o,[1,Math.tan(b(r.skewY)),0,1],!0)),o},composeMatrix:function(r){var c=[1,0,0,1,r.translateX||0,r.translateY||0],g=s.util.multiplyTransformMatrices;return r.angle&&(c=g(c,s.util.calcRotateMatrix(r))),(r.scaleX!==1||r.scaleY!==1||r.skewX||r.skewY||r.flipX||r.flipY)&&(c=g(c,s.util.calcDimensionsMatrix(r))),c},resetObjectTransform:function(r){r.scaleX=1,r.scaleY=1,r.skewX=0,r.skewY=0,r.flipX=!1,r.flipY=!1,r.rotate(0)},saveObjectTransform:function(r){return{scaleX:r.scaleX,scaleY:r.scaleY,skewX:r.skewX,skewY:r.skewY,angle:r.angle,left:r.left,flipX:r.flipX,flipY:r.flipY,top:r.top}},isTransparent:function(r,c,g,o){o>0&&(c>o?c-=o:c=0,g>o?g-=o:g=0);var m=!0,b,_,T=r.getImageData(c,g,o*2||1,o*2||1),E=T.data.length;for(b=3;b<E&&(_=T.data[b],m=_<=0,m!==!1);b+=4);return T=null,m},parsePreserveAspectRatioAttribute:function(r){var c="meet",g="Mid",o="Mid",m=r.split(" "),b;return m&&m.length&&(c=m.pop(),c!=="meet"&&c!=="slice"?(b=c,c="meet"):m.length&&(b=m.pop())),g=b!=="none"?b.slice(1,4):"none",o=b!=="none"?b.slice(5,8):"none",{meetOrSlice:c,alignX:g,alignY:o}},clearFabricFontCache:function(r){r=(r||"").toLowerCase(),r?s.charWidthsCache[r]&&delete s.charWidthsCache[r]:s.charWidthsCache={}},limitDimsByArea:function(r,c){var g=Math.sqrt(c*r),o=Math.floor(c/g);return{x:Math.floor(g),y:o}},capValue:function(r,c,g){return Math.max(r,Math.min(c,g))},findScaleToFit:function(r,c){return Math.min(c.width/r.width,c.height/r.height)},findScaleToCover:function(r,c){return Math.max(c.width/r.width,c.height/r.height)},matrixToSVG:function(r){return"matrix("+r.map(function(c){return s.util.toFixed(c,s.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(r,c){var g=s.util.invertTransform(c),o=s.util.multiplyTransformMatrices(g,r.calcOwnMatrix());s.util.applyTransformToObject(r,o)},addTransformToObject:function(r,c){s.util.applyTransformToObject(r,s.util.multiplyTransformMatrices(c,r.calcOwnMatrix()))},applyTransformToObject:function(r,c){var g=s.util.qrDecompose(c),o=new s.Point(g.translateX,g.translateY);r.flipX=!1,r.flipY=!1,r.set("scaleX",g.scaleX),r.set("scaleY",g.scaleY),r.skewX=g.skewX,r.skewY=g.skewY,r.angle=g.angle,r.setPositionByOrigin(o,"center","center")},sizeAfterTransform:function(r,c,g){var o=r/2,m=c/2,b=[{x:-o,y:-m},{x:o,y:-m},{x:-o,y:m},{x:o,y:m}],_=s.util.calcDimensionsMatrix(g),T=s.util.makeBoundingBoxFromPoints(b,_);return{x:T.width,y:T.height}},mergeClipPaths:function(r,c){var g=r,o=c;g.inverted&&!o.inverted&&(g=c,o=r),s.util.applyTransformToObject(o,s.util.multiplyTransformMatrices(s.util.invertTransform(g.calcTransformMatrix()),o.calcTransformMatrix()));var m=g.inverted&&o.inverted;return m&&(g.inverted=o.inverted=!1),new s.Group([g],{clipPath:o,inverted:m})},hasStyleChanged:function(r,c,g){return g=g||!1,r.fill!==c.fill||r.stroke!==c.stroke||r.strokeWidth!==c.strokeWidth||r.fontSize!==c.fontSize||r.fontFamily!==c.fontFamily||r.fontWeight!==c.fontWeight||r.fontStyle!==c.fontStyle||r.textBackgroundColor!==c.textBackgroundColor||r.deltaY!==c.deltaY||g&&(r.overline!==c.overline||r.underline!==c.underline||r.linethrough!==c.linethrough)},stylesToArray:function(g,c){for(var g=s.util.object.clone(g,!0),o=c.split(`
`),m=-1,b={},_=[],T=0;T<o.length;T++){if(!g[T]){m+=o[T].length;continue}for(var E=0;E<o[T].length;E++){m++;var D=g[T][E];if(D&&Object.keys(D).length>0){var k=s.util.hasStyleChanged(b,D,!0);k?_.push({start:m,end:m+1,style:D}):_[_.length-1].end++}b=D||{}}}return _},stylesFromArray:function(r,c){if(!Array.isArray(r))return r;for(var g=c.split(`
`),o=-1,m=0,b={},_=0;_<g.length;_++)for(var T=0;T<g[_].length;T++)o++,r[m]&&r[m].start<=o&&o<r[m].end&&(b[_]=b[_]||{},b[_][T]=Object.assign({},r[m].style),o===r[m].end-1&&m++);return b}}})(u),(function(){var p=Array.prototype.join,n={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},h={m:"l",M:"L"};function d(j,F,A,B,X,P,z,Y,W,le,te){var ve=s.util.cos(j),Se=s.util.sin(j),xe=s.util.cos(F),oe=s.util.sin(F),$=A*X*xe-B*P*oe+z,de=B*X*xe+A*P*oe+Y,pe=le+W*(-A*X*Se-B*P*ve),ue=te+W*(-B*X*Se+A*P*ve),be=$+W*(A*X*oe+B*P*xe),_e=de+W*(B*X*oe-A*P*xe);return["C",pe,ue,be,_e,$,de]}function a(j,F,A,B,X,P,z){var Y=Math.PI,W=z*Y/180,le=s.util.sin(W),te=s.util.cos(W),ve=0,Se=0;A=Math.abs(A),B=Math.abs(B);var xe=-te*j*.5-le*F*.5,oe=-te*F*.5+le*j*.5,$=A*A,de=B*B,pe=oe*oe,ue=xe*xe,be=$*de-$*pe-de*ue,_e=0;if(be<0){var De=Math.sqrt(1-be/($*de));A*=De,B*=De}else _e=(X===P?-1:1)*Math.sqrt(be/($*pe+de*ue));var Te=_e*A*oe/B,ge=-_e*B*xe/A,Ee=te*Te-le*ge+j*.5,Oe=le*Te+te*ge+F*.5,Ne=l(1,0,(xe-Te)/A,(oe-ge)/B),Qe=l((xe-Te)/A,(oe-ge)/B,(-xe-Te)/A,(-oe-ge)/B);P===0&&Qe>0?Qe-=2*Y:P===1&&Qe<0&&(Qe+=2*Y);for(var He=Math.ceil(Math.abs(Qe/Y*2)),ot=[],nt=Qe/He,ri=8/3*Math.sin(nt/4)*Math.sin(nt/4)/Math.sin(nt/2),ln=Ne+nt,Xt=0;Xt<He;Xt++)ot[Xt]=d(Ne,ln,te,le,A,B,Ee,Oe,ri,ve,Se),ve=ot[Xt][5],Se=ot[Xt][6],Ne=ln,ln+=nt;return ot}function l(j,F,A,B){var X=Math.atan2(F,j),P=Math.atan2(B,A);return P>=X?P-X:2*Math.PI-(X-P)}function r(j,F,A,B,X,P,z,Y){var W;if(s.cachesBoundsOfCurve&&(W=p.call(arguments),s.boundsOfCurveCache[W]))return s.boundsOfCurveCache[W];var le=Math.sqrt,te=Math.min,ve=Math.max,Se=Math.abs,xe=[],oe=[[],[]],$,de,pe,ue,be,_e,De,Te;de=6*j-12*A+6*X,$=-3*j+9*A-9*X+3*z,pe=3*A-3*j;for(var ge=0;ge<2;++ge){if(ge>0&&(de=6*F-12*B+6*P,$=-3*F+9*B-9*P+3*Y,pe=3*B-3*F),Se($)<1e-12){if(Se(de)<1e-12)continue;ue=-pe/de,0<ue&&ue<1&&xe.push(ue);continue}De=de*de-4*pe*$,!(De<0)&&(Te=le(De),be=(-de+Te)/(2*$),0<be&&be<1&&xe.push(be),_e=(-de-Te)/(2*$),0<_e&&_e<1&&xe.push(_e))}for(var Ee,Oe,Ne=xe.length,Qe=Ne,He;Ne--;)ue=xe[Ne],He=1-ue,Ee=He*He*He*j+3*He*He*ue*A+3*He*ue*ue*X+ue*ue*ue*z,oe[0][Ne]=Ee,Oe=He*He*He*F+3*He*He*ue*B+3*He*ue*ue*P+ue*ue*ue*Y,oe[1][Ne]=Oe;oe[0][Qe]=j,oe[1][Qe]=F,oe[0][Qe+1]=z,oe[1][Qe+1]=Y;var ot=[{x:te.apply(null,oe[0]),y:te.apply(null,oe[1])},{x:ve.apply(null,oe[0]),y:ve.apply(null,oe[1])}];return s.cachesBoundsOfCurve&&(s.boundsOfCurveCache[W]=ot),ot}function c(j,F,A){for(var B=A[1],X=A[2],P=A[3],z=A[4],Y=A[5],W=A[6],le=A[7],te=a(W-j,le-F,B,X,z,Y,P),ve=0,Se=te.length;ve<Se;ve++)te[ve][1]+=j,te[ve][2]+=F,te[ve][3]+=j,te[ve][4]+=F,te[ve][5]+=j,te[ve][6]+=F;return te}function g(j){var F=0,A=0,B=j.length,X=0,P=0,z,Y,W,le=[],te,ve,Se;for(Y=0;Y<B;++Y){switch(W=!1,z=j[Y].slice(0),z[0]){case"l":z[0]="L",z[1]+=F,z[2]+=A;case"L":F=z[1],A=z[2];break;case"h":z[1]+=F;case"H":z[0]="L",z[2]=A,F=z[1];break;case"v":z[1]+=A;case"V":z[0]="L",A=z[1],z[1]=F,z[2]=A;break;case"m":z[0]="M",z[1]+=F,z[2]+=A;case"M":F=z[1],A=z[2],X=z[1],P=z[2];break;case"c":z[0]="C",z[1]+=F,z[2]+=A,z[3]+=F,z[4]+=A,z[5]+=F,z[6]+=A;case"C":ve=z[3],Se=z[4],F=z[5],A=z[6];break;case"s":z[0]="S",z[1]+=F,z[2]+=A,z[3]+=F,z[4]+=A;case"S":te==="C"?(ve=2*F-ve,Se=2*A-Se):(ve=F,Se=A),F=z[3],A=z[4],z[0]="C",z[5]=z[3],z[6]=z[4],z[3]=z[1],z[4]=z[2],z[1]=ve,z[2]=Se,ve=z[3],Se=z[4];break;case"q":z[0]="Q",z[1]+=F,z[2]+=A,z[3]+=F,z[4]+=A;case"Q":ve=z[1],Se=z[2],F=z[3],A=z[4];break;case"t":z[0]="T",z[1]+=F,z[2]+=A;case"T":te==="Q"?(ve=2*F-ve,Se=2*A-Se):(ve=F,Se=A),z[0]="Q",F=z[1],A=z[2],z[1]=ve,z[2]=Se,z[3]=F,z[4]=A;break;case"a":z[0]="A",z[6]+=F,z[7]+=A;case"A":W=!0,le=le.concat(c(F,A,z)),F=z[6],A=z[7];break;case"z":case"Z":F=X,A=P;break}W||le.push(z),te=z[0]}return le}function o(j,F,A,B){return Math.sqrt((A-j)*(A-j)+(B-F)*(B-F))}function m(j){return j*j*j}function b(j){return 3*j*j*(1-j)}function _(j){return 3*j*(1-j)*(1-j)}function T(j){return(1-j)*(1-j)*(1-j)}function E(j,F,A,B,X,P,z,Y){return function(W){var le=m(W),te=b(W),ve=_(W),Se=T(W);return{x:z*le+X*te+A*ve+j*Se,y:Y*le+P*te+B*ve+F*Se}}}function D(j,F,A,B,X,P,z,Y){return function(W){var le=1-W,te=3*le*le*(A-j)+6*le*W*(X-A)+3*W*W*(z-X),ve=3*le*le*(B-F)+6*le*W*(P-B)+3*W*W*(Y-P);return Math.atan2(ve,te)}}function k(j){return j*j}function N(j){return 2*j*(1-j)}function q(j){return(1-j)*(1-j)}function H(j,F,A,B,X,P){return function(z){var Y=k(z),W=N(z),le=q(z);return{x:X*Y+A*W+j*le,y:P*Y+B*W+F*le}}}function V(j,F,A,B,X,P){return function(z){var Y=1-z,W=2*Y*(A-j)+2*z*(X-A),le=2*Y*(B-F)+2*z*(P-B);return Math.atan2(le,W)}}function ee(j,F,A){var B={x:F,y:A},X,P=0,z;for(z=1;z<=100;z+=1)X=j(z/100),P+=o(B.x,B.y,X.x,X.y),B=X;return P}function ce(j,F){for(var A=0,B=0,X=j.iterator,P={x:j.x,y:j.y},z,Y,W=.01,le=j.angleFinder,te;B<F&&W>1e-4;)z=X(A),te=A,Y=o(P.x,P.y,z.x,z.y),Y+B>F?(A-=W,W/=2):(P=z,A+=W,B+=Y);return z.angle=le(te),z}function re(j){for(var F=0,A=j.length,B,X=0,P=0,z=0,Y=0,W=[],le,te,ve,Se=0;Se<A;Se++){switch(B=j[Se],te={x:X,y:P,command:B[0]},B[0]){case"M":te.length=0,z=X=B[1],Y=P=B[2];break;case"L":te.length=o(X,P,B[1],B[2]),X=B[1],P=B[2];break;case"C":le=E(X,P,B[1],B[2],B[3],B[4],B[5],B[6]),ve=D(X,P,B[1],B[2],B[3],B[4],B[5],B[6]),te.iterator=le,te.angleFinder=ve,te.length=ee(le,X,P),X=B[5],P=B[6];break;case"Q":le=H(X,P,B[1],B[2],B[3],B[4]),ve=V(X,P,B[1],B[2],B[3],B[4]),te.iterator=le,te.angleFinder=ve,te.length=ee(le,X,P),X=B[3],P=B[4];break;case"Z":case"z":te.destX=z,te.destY=Y,te.length=o(X,P,z,Y),X=z,P=Y;break}F+=te.length,W.push(te)}return W.push({length:F,x:X,y:P}),W}function fe(j,F,A){A||(A=re(j));for(var B=0;F-A[B].length>0&&B<A.length-2;)F-=A[B].length,B++;var X=A[B],P=F/X.length,z=X.command,Y=j[B],W;switch(z){case"M":return{x:X.x,y:X.y,angle:0};case"Z":case"z":return W=new s.Point(X.x,X.y).lerp(new s.Point(X.destX,X.destY),P),W.angle=Math.atan2(X.destY-X.y,X.destX-X.x),W;case"L":return W=new s.Point(X.x,X.y).lerp(new s.Point(Y[1],Y[2]),P),W.angle=Math.atan2(Y[2]-X.y,Y[1]-X.x),W;case"C":return ce(X,F);case"Q":return ce(X,F)}}function I(j){var F=[],A=[],B,X,P=s.rePathCommand,z="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",Y="("+z+")"+s.commaWsp,W="([01])"+s.commaWsp+"?",le=Y+"?"+Y+"?"+Y+W+W+Y+"?("+z+")",te=new RegExp(le,"g"),ve,Se,xe;if(!j||!j.match)return F;xe=j.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var oe=0,$,de=xe.length;oe<de;oe++){B=xe[oe],Se=B.slice(1).trim(),A.length=0;var pe=B.charAt(0);if($=[pe],pe.toLowerCase()==="a")for(var ue;ue=te.exec(Se);)for(var be=1;be<ue.length;be++)A.push(ue[be]);else for(;ve=P.exec(Se);)A.push(ve[0]);for(var be=0,_e=A.length;be<_e;be++)X=parseFloat(A[be]),isNaN(X)||$.push(X);var De=n[pe.toLowerCase()],Te=h[pe]||pe;if($.length-1>De)for(var ge=1,Ee=$.length;ge<Ee;ge+=De)F.push([pe].concat($.slice(ge,ge+De))),pe=Te;else F.push($)}return F}function J(j,F){var A=[],B,X=new s.Point(j[0].x,j[0].y),P=new s.Point(j[1].x,j[1].y),z=j.length,Y=1,W=0,le=z>2;for(F=F||0,le&&(Y=j[2].x<P.x?-1:j[2].x===P.x?0:1,W=j[2].y<P.y?-1:j[2].y===P.y?0:1),A.push(["M",X.x-Y*F,X.y-W*F]),B=1;B<z;B++){if(!X.eq(P)){var te=X.midPointFrom(P);A.push(["Q",X.x,X.y,te.x,te.y])}X=j[B],B+1<j.length&&(P=j[B+1])}return le&&(Y=X.x>j[B-2].x?1:X.x===j[B-2].x?0:-1,W=X.y>j[B-2].y?1:X.y===j[B-2].y?0:-1),A.push(["L",X.x+Y*F,X.y+W*F]),A}function K(j,F,A){return A&&(F=s.util.multiplyTransformMatrices(F,[1,0,0,1,-A.x,-A.y])),j.map(function(B){for(var X=B.slice(0),P={},z=1;z<B.length-1;z+=2)P.x=B[z],P.y=B[z+1],P=s.util.transformPoint(P,F),X[z]=P.x,X[z+1]=P.y;return X})}s.util.joinPath=function(j){return j.map(function(F){return F.join(" ")}).join(" ")},s.util.parsePath=I,s.util.makePathSimpler=g,s.util.getSmoothPathFromPoints=J,s.util.getPathSegmentsInfo=re,s.util.getBoundsOfCurve=r,s.util.getPointOnPath=fe,s.util.transformPath=K})(),(function(){var p=Array.prototype.slice;function n(r,c){for(var g=p.call(arguments,2),o=[],m=0,b=r.length;m<b;m++)o[m]=g.length?r[m][c].apply(r[m],g):r[m][c].call(r[m]);return o}function h(r,c){return l(r,c,function(g,o){return g>=o})}function d(r,c){return l(r,c,function(g,o){return g<o})}function a(r,c){for(var g=r.length;g--;)r[g]=c;return r}function l(r,c,g){if(!(!r||r.length===0)){var o=r.length-1,m=c?r[o][c]:r[o];if(c)for(;o--;)g(r[o][c],m)&&(m=r[o][c]);else for(;o--;)g(r[o],m)&&(m=r[o]);return m}}s.util.array={fill:a,invoke:n,min:d,max:h}})(),(function(){function p(h,d,a){if(a)if(!s.isLikelyNode&&d instanceof Element)h=d;else if(d instanceof Array){h=[];for(var l=0,r=d.length;l<r;l++)h[l]=p({},d[l],a)}else if(d&&typeof d=="object")for(var c in d)c==="canvas"||c==="group"?h[c]=null:d.hasOwnProperty(c)&&(h[c]=p({},d[c],a));else h=d;else for(var c in d)h[c]=d[c];return h}function n(h,d){return p({},h,d)}s.util.object={extend:p,clone:n},s.util.object.extend(s.util,s.Observable)})(),(function(){function p(l){return l.replace(/-+(.)?/g,function(r,c){return c?c.toUpperCase():""})}function n(l,r){return l.charAt(0).toUpperCase()+(r?l.slice(1):l.slice(1).toLowerCase())}function h(l){return l.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function d(l){var r=0,c,g=[];for(r=0,c;r<l.length;r++)(c=a(l,r))!==!1&&g.push(c);return g}function a(l,r){var c=l.charCodeAt(r);if(isNaN(c))return"";if(c<55296||c>57343)return l.charAt(r);if(55296<=c&&c<=56319){if(l.length<=r+1)throw"High surrogate without following low surrogate";var g=l.charCodeAt(r+1);if(56320>g||g>57343)throw"High surrogate without following low surrogate";return l.charAt(r)+l.charAt(r+1)}if(r===0)throw"Low surrogate without preceding high surrogate";var o=l.charCodeAt(r-1);if(55296>o||o>56319)throw"Low surrogate without preceding high surrogate";return!1}s.util.string={camelize:p,capitalize:n,escapeXml:h,graphemeSplit:d}})(),(function(){var p=Array.prototype.slice,n=function(){},h=(function(){for(var c in{toString:1})if(c==="toString")return!1;return!0})(),d=function(c,g,o){for(var m in g)m in c.prototype&&typeof c.prototype[m]=="function"&&(g[m]+"").indexOf("callSuper")>-1?c.prototype[m]=(function(b){return function(){var _=this.constructor.superclass;this.constructor.superclass=o;var T=g[b].apply(this,arguments);if(this.constructor.superclass=_,b!=="initialize")return T}})(m):c.prototype[m]=g[m],h&&(g.toString!==Object.prototype.toString&&(c.prototype.toString=g.toString),g.valueOf!==Object.prototype.valueOf&&(c.prototype.valueOf=g.valueOf))};function a(){}function l(c){for(var g=null,o=this;o.constructor.superclass;){var m=o.constructor.superclass.prototype[c];if(o[c]!==m){g=m;break}o=o.constructor.superclass.prototype}return g?arguments.length>1?g.apply(this,p.call(arguments,1)):g.call(this):console.log("tried to callSuper "+c+", method not found in prototype chain",this)}function r(){var c=null,g=p.call(arguments,0);typeof g[0]=="function"&&(c=g.shift());function o(){this.initialize.apply(this,arguments)}o.superclass=c,o.subclasses=[],c&&(a.prototype=c.prototype,o.prototype=new a,c.subclasses.push(o));for(var m=0,b=g.length;m<b;m++)d(o,g[m],c);return o.prototype.initialize||(o.prototype.initialize=n),o.prototype.constructor=o,o.prototype.callSuper=l,o}s.util.createClass=r})(),(function(){var p=!!s.document.createElement("div").attachEvent,n=["touchstart","touchmove","touchend"];s.util.addListener=function(d,a,l,r){d&&d.addEventListener(a,l,p?!1:r)},s.util.removeListener=function(d,a,l,r){d&&d.removeEventListener(a,l,p?!1:r)};function h(d){var a=d.changedTouches;return a&&a[0]?a[0]:d}s.util.getPointer=function(d){var a=d.target,l=s.util.getScrollLeftTop(a),r=h(d);return{x:r.clientX+l.left,y:r.clientY+l.top}},s.util.isTouchEvent=function(d){return n.indexOf(d.type)>-1||d.pointerType==="touch"}})(),(function(){function p(r,c){var g=r.style;if(!g)return r;if(typeof c=="string")return r.style.cssText+=";"+c,c.indexOf("opacity")>-1?l(r,c.match(/opacity:\s*(\d?\.?\d*)/)[1]):r;for(var o in c)if(o==="opacity")l(r,c[o]);else{var m=o==="float"||o==="cssFloat"?typeof g.styleFloat>"u"?"cssFloat":"styleFloat":o;g.setProperty(m,c[o])}return r}var n=s.document.createElement("div"),h=typeof n.style.opacity=="string",d=typeof n.style.filter=="string",a=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,l=function(r){return r};h?l=function(r,c){return r.style.opacity=c,r}:d&&(l=function(r,c){var g=r.style;return r.currentStyle&&!r.currentStyle.hasLayout&&(g.zoom=1),a.test(g.filter)?(c=c>=.9999?"":"alpha(opacity="+c*100+")",g.filter=g.filter.replace(a,c)):g.filter+=" alpha(opacity="+c*100+")",r}),s.util.setStyle=p})(),(function(){var p=Array.prototype.slice;function n(T){return typeof T=="string"?s.document.getElementById(T):T}var h,d=function(T){return p.call(T,0)};try{h=d(s.document.childNodes)instanceof Array}catch{}h||(d=function(T){for(var E=new Array(T.length),D=T.length;D--;)E[D]=T[D];return E});function a(T,E){var D=s.document.createElement(T);for(var k in E)k==="class"?D.className=E[k]:k==="for"?D.htmlFor=E[k]:D.setAttribute(k,E[k]);return D}function l(T,E){T&&(" "+T.className+" ").indexOf(" "+E+" ")===-1&&(T.className+=(T.className?" ":"")+E)}function r(T,E,D){return typeof E=="string"&&(E=a(E,D)),T.parentNode&&T.parentNode.replaceChild(E,T),E.appendChild(T),E}function c(T){for(var E=0,D=0,k=s.document.documentElement,N=s.document.body||{scrollLeft:0,scrollTop:0};T&&(T.parentNode||T.host)&&(T=T.parentNode||T.host,T===s.document?(E=N.scrollLeft||k.scrollLeft||0,D=N.scrollTop||k.scrollTop||0):(E+=T.scrollLeft||0,D+=T.scrollTop||0),!(T.nodeType===1&&T.style.position==="fixed")););return{left:E,top:D}}function g(T){var E,D=T&&T.ownerDocument,k={left:0,top:0},N={left:0,top:0},q,H={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!D)return N;for(var V in H)N[H[V]]+=parseInt(o(T,V),10)||0;return E=D.documentElement,typeof T.getBoundingClientRect<"u"&&(k=T.getBoundingClientRect()),q=c(T),{left:k.left+q.left-(E.clientLeft||0)+N.left,top:k.top+q.top-(E.clientTop||0)+N.top}}var o;s.document.defaultView&&s.document.defaultView.getComputedStyle?o=function(T,E){var D=s.document.defaultView.getComputedStyle(T,null);return D?D[E]:void 0}:o=function(T,E){var D=T.style[E];return!D&&T.currentStyle&&(D=T.currentStyle[E]),D},(function(){var T=s.document.documentElement.style,E="userSelect"in T?"userSelect":"MozUserSelect"in T?"MozUserSelect":"WebkitUserSelect"in T?"WebkitUserSelect":"KhtmlUserSelect"in T?"KhtmlUserSelect":"";function D(N){return typeof N.onselectstart<"u"&&(N.onselectstart=s.util.falseFunction),E?N.style[E]="none":typeof N.unselectable=="string"&&(N.unselectable="on"),N}function k(N){return typeof N.onselectstart<"u"&&(N.onselectstart=null),E?N.style[E]="":typeof N.unselectable=="string"&&(N.unselectable=""),N}s.util.makeElementUnselectable=D,s.util.makeElementSelectable=k})();function m(T){var E=s.jsdomImplForWrapper(T);return E._canvas||E._image}function b(T){if(s.isLikelyNode){var E=s.jsdomImplForWrapper(T);E&&(E._image=null,E._canvas=null,E._currentSrc=null,E._attributes=null,E._classList=null)}}function _(T,E){T.imageSmoothingEnabled=T.imageSmoothingEnabled||T.webkitImageSmoothingEnabled||T.mozImageSmoothingEnabled||T.msImageSmoothingEnabled||T.oImageSmoothingEnabled,T.imageSmoothingEnabled=E}s.util.setImageSmoothing=_,s.util.getById=n,s.util.toArray=d,s.util.addClass=l,s.util.makeElement=a,s.util.wrapElement=r,s.util.getScrollLeftTop=c,s.util.getElementOffset=g,s.util.getNodeCanvas=m,s.util.cleanUpJsdomNode=b})(),(function(){function p(d,a){return d+(/\?/.test(d)?"&":"?")+a}function n(){}function h(d,a){a||(a={});var l=a.method?a.method.toUpperCase():"GET",r=a.onComplete||function(){},c=new s.window.XMLHttpRequest,g=a.body||a.parameters;return c.onreadystatechange=function(){c.readyState===4&&(r(c),c.onreadystatechange=n)},l==="GET"&&(g=null,typeof a.parameters=="string"&&(d=p(d,a.parameters))),c.open(l,d,!0),(l==="POST"||l==="PUT")&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(g),c}s.util.request=h})(),s.log=console.log,s.warn=console.warn,(function(){var p=s.util.object.extend,n=s.util.object.clone,h=[];s.util.object.extend(h,{cancelAll:function(){var m=this.splice(0);return m.forEach(function(b){b.cancel()}),m},cancelByCanvas:function(m){if(!m)return[];var b=this.filter(function(_){return typeof _.target=="object"&&_.target.canvas===m});return b.forEach(function(_){_.cancel()}),b},cancelByTarget:function(m){var b=this.findAnimationsByTarget(m);return b.forEach(function(_){_.cancel()}),b},findAnimationIndex:function(m){return this.indexOf(this.findAnimation(m))},findAnimation:function(m){return this.find(function(b){return b.cancel===m})},findAnimationsByTarget:function(m){return m?this.filter(function(b){return b.target===m}):[]}});function d(){return!1}function a(m,b,_,T){return-_*Math.cos(m/T*(Math.PI/2))+_+b}function l(m){m||(m={});var b=!1,_,T=function(){var E=s.runningAnimations.indexOf(_);return E>-1&&s.runningAnimations.splice(E,1)[0]};return _=p(n(m),{cancel:function(){return b=!0,T()},currentValue:"startValue"in m?m.startValue:0,completionRate:0,durationRate:0}),s.runningAnimations.push(_),g(function(E){var D=E||+new Date,k=m.duration||500,N=D+k,q,H=m.onChange||d,V=m.abort||d,ee=m.onComplete||d,ce=m.easing||a,re="startValue"in m?m.startValue.length>0:!1,fe="startValue"in m?m.startValue:0,I="endValue"in m?m.endValue:100,J=m.byValue||(re?fe.map(function(K,j){return I[j]-fe[j]}):I-fe);m.onStart&&m.onStart(),(function K(j){q=j||+new Date;var F=q>N?k:q-D,A=F/k,B=re?fe.map(function(P,z){return ce(F,fe[z],J[z],k)}):ce(F,fe,J,k),X=Math.abs(re?(B[0]-fe[0])/J[0]:(B-fe)/J);if(_.currentValue=re?B.slice():B,_.completionRate=X,_.durationRate=A,!b){if(V(B,X,A)){T();return}if(q>N){_.currentValue=re?I.slice():I,_.completionRate=1,_.durationRate=1,H(re?I.slice():I,1,1),ee(I,1,1),T();return}else H(B,X,A),g(K)}})(D)}),_.cancel}var r=s.window.requestAnimationFrame||s.window.webkitRequestAnimationFrame||s.window.mozRequestAnimationFrame||s.window.oRequestAnimationFrame||s.window.msRequestAnimationFrame||function(m){return s.window.setTimeout(m,1e3/60)},c=s.window.cancelAnimationFrame||s.window.clearTimeout;function g(){return r.apply(s.window,arguments)}function o(){return c.apply(s.window,arguments)}s.util.animate=l,s.util.requestAnimFrame=g,s.util.cancelAnimFrame=o,s.runningAnimations=h})(),(function(){function p(h,d,a){var l="rgba("+parseInt(h[0]+a*(d[0]-h[0]),10)+","+parseInt(h[1]+a*(d[1]-h[1]),10)+","+parseInt(h[2]+a*(d[2]-h[2]),10);return l+=","+(h&&d?parseFloat(h[3]+a*(d[3]-h[3])):1),l+=")",l}function n(h,d,a,l){var r=new s.Color(h).getSource(),c=new s.Color(d).getSource(),g=l.onComplete,o=l.onChange;return l=l||{},s.util.animate(s.util.object.extend(l,{duration:a||500,startValue:r,endValue:c,byValue:c,easing:function(m,b,_,T){var E=l.colorEasing?l.colorEasing(m,T):1-Math.cos(m/T*(Math.PI/2));return p(b,_,E)},onComplete:function(m,b,_){if(g)return g(p(c,c,0),b,_)},onChange:function(m,b,_){if(o){if(Array.isArray(m))return o(p(m,m,0),b,_);o(m,b,_)}}}))}s.util.animateColor=n})(),(function(){function p(j,F,A,B){return j<Math.abs(F)?(j=F,B=A/4):F===0&&j===0?B=A/(2*Math.PI)*Math.asin(1):B=A/(2*Math.PI)*Math.asin(F/j),{a:j,c:F,p:A,s:B}}function n(j,F,A){return j.a*Math.pow(2,10*(F-=1))*Math.sin((F*A-j.s)*(2*Math.PI)/j.p)}function h(j,F,A,B){return A*((j=j/B-1)*j*j+1)+F}function d(j,F,A,B){return j/=B/2,j<1?A/2*j*j*j+F:A/2*((j-=2)*j*j+2)+F}function a(j,F,A,B){return A*(j/=B)*j*j*j+F}function l(j,F,A,B){return-A*((j=j/B-1)*j*j*j-1)+F}function r(j,F,A,B){return j/=B/2,j<1?A/2*j*j*j*j+F:-A/2*((j-=2)*j*j*j-2)+F}function c(j,F,A,B){return A*(j/=B)*j*j*j*j+F}function g(j,F,A,B){return A*((j=j/B-1)*j*j*j*j+1)+F}function o(j,F,A,B){return j/=B/2,j<1?A/2*j*j*j*j*j+F:A/2*((j-=2)*j*j*j*j+2)+F}function m(j,F,A,B){return-A*Math.cos(j/B*(Math.PI/2))+A+F}function b(j,F,A,B){return A*Math.sin(j/B*(Math.PI/2))+F}function _(j,F,A,B){return-A/2*(Math.cos(Math.PI*j/B)-1)+F}function T(j,F,A,B){return j===0?F:A*Math.pow(2,10*(j/B-1))+F}function E(j,F,A,B){return j===B?F+A:A*(-Math.pow(2,-10*j/B)+1)+F}function D(j,F,A,B){return j===0?F:j===B?F+A:(j/=B/2,j<1?A/2*Math.pow(2,10*(j-1))+F:A/2*(-Math.pow(2,-10*--j)+2)+F)}function k(j,F,A,B){return-A*(Math.sqrt(1-(j/=B)*j)-1)+F}function N(j,F,A,B){return A*Math.sqrt(1-(j=j/B-1)*j)+F}function q(j,F,A,B){return j/=B/2,j<1?-A/2*(Math.sqrt(1-j*j)-1)+F:A/2*(Math.sqrt(1-(j-=2)*j)+1)+F}function H(j,F,A,B){var X=1.70158,P=0,z=A;if(j===0)return F;if(j/=B,j===1)return F+A;P||(P=B*.3);var Y=p(z,A,P,X);return-n(Y,j,B)+F}function V(j,F,A,B){var X=1.70158,P=0,z=A;if(j===0)return F;if(j/=B,j===1)return F+A;P||(P=B*.3);var Y=p(z,A,P,X);return Y.a*Math.pow(2,-10*j)*Math.sin((j*B-Y.s)*(2*Math.PI)/Y.p)+Y.c+F}function ee(j,F,A,B){var X=1.70158,P=0,z=A;if(j===0)return F;if(j/=B/2,j===2)return F+A;P||(P=B*(.3*1.5));var Y=p(z,A,P,X);return j<1?-.5*n(Y,j,B)+F:Y.a*Math.pow(2,-10*(j-=1))*Math.sin((j*B-Y.s)*(2*Math.PI)/Y.p)*.5+Y.c+F}function ce(j,F,A,B,X){return X===void 0&&(X=1.70158),A*(j/=B)*j*((X+1)*j-X)+F}function re(j,F,A,B,X){return X===void 0&&(X=1.70158),A*((j=j/B-1)*j*((X+1)*j+X)+1)+F}function fe(j,F,A,B,X){return X===void 0&&(X=1.70158),j/=B/2,j<1?A/2*(j*j*(((X*=1.525)+1)*j-X))+F:A/2*((j-=2)*j*(((X*=1.525)+1)*j+X)+2)+F}function I(j,F,A,B){return A-J(B-j,0,A,B)+F}function J(j,F,A,B){return(j/=B)<1/2.75?A*(7.5625*j*j)+F:j<2/2.75?A*(7.5625*(j-=1.5/2.75)*j+.75)+F:j<2.5/2.75?A*(7.5625*(j-=2.25/2.75)*j+.9375)+F:A*(7.5625*(j-=2.625/2.75)*j+.984375)+F}function K(j,F,A,B){return j<B/2?I(j*2,0,A,B)*.5+F:J(j*2-B,0,A,B)*.5+A*.5+F}s.util.ease={easeInQuad:function(j,F,A,B){return A*(j/=B)*j+F},easeOutQuad:function(j,F,A,B){return-A*(j/=B)*(j-2)+F},easeInOutQuad:function(j,F,A,B){return j/=B/2,j<1?A/2*j*j+F:-A/2*(--j*(j-2)-1)+F},easeInCubic:function(j,F,A,B){return A*(j/=B)*j*j+F},easeOutCubic:h,easeInOutCubic:d,easeInQuart:a,easeOutQuart:l,easeInOutQuart:r,easeInQuint:c,easeOutQuint:g,easeInOutQuint:o,easeInSine:m,easeOutSine:b,easeInOutSine:_,easeInExpo:T,easeOutExpo:E,easeInOutExpo:D,easeInCirc:k,easeOutCirc:N,easeInOutCirc:q,easeInElastic:H,easeOutElastic:V,easeInOutElastic:ee,easeInBack:ce,easeOutBack:re,easeInOutBack:fe,easeInBounce:I,easeOutBounce:J,easeInOutBounce:K}})(),(function(p){var n=p.fabric||(p.fabric={}),h=n.util.object.extend,d=n.util.object.clone,a=n.util.toFixed,l=n.util.parseUnit,r=n.util.multiplyTransformMatrices,c=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],g=["symbol","image","marker","pattern","view","svg"],o=["pattern","defs","symbol","metadata","clipPath","mask","desc"],m=["symbol","g","a","svg","clipPath","defs"],b={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},_={stroke:"strokeOpacity",fill:"fillOpacity"},T="font-size",E="clip-path";n.svgValidTagNamesRegEx=N(c),n.svgViewBoxElementsRegEx=N(g),n.svgInvalidAncestorsRegEx=N(o),n.svgValidParentsRegEx=N(m),n.cssRules={},n.gradientDefs={},n.clipPaths={};function D(P){return P in b?b[P]:P}function k(P,z,Y,W){var le=Array.isArray(z),te;if((P==="fill"||P==="stroke")&&z==="none")z="";else{if(P==="strokeUniform")return z==="non-scaling-stroke";if(P==="strokeDashArray")z==="none"?z=null:z=z.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(P==="transformMatrix")Y&&Y.transformMatrix?z=r(Y.transformMatrix,n.parseTransformAttribute(z)):z=n.parseTransformAttribute(z);else if(P==="visible")z=z!=="none"&&z!=="hidden",Y&&Y.visible===!1&&(z=!1);else if(P==="opacity")z=parseFloat(z),Y&&typeof Y.opacity<"u"&&(z*=Y.opacity);else if(P==="textAnchor")z=z==="start"?"left":z==="end"?"right":"center";else if(P==="charSpacing")te=l(z,W)/W*1e3;else if(P==="paintFirst"){var ve=z.indexOf("fill"),Se=z.indexOf("stroke"),z="fill";(ve>-1&&Se>-1&&Se<ve||ve===-1&&Se>-1)&&(z="stroke")}else{if(P==="href"||P==="xlink:href"||P==="font")return z;if(P==="imageSmoothing")return z==="optimizeQuality";te=le?z.map(l):l(z,W)}}return!le&&isNaN(te)?z:te}function N(P){return new RegExp("^("+P.join("|")+")\\b","i")}function q(P){for(var z in _)if(!(typeof P[_[z]]>"u"||P[z]==="")){if(typeof P[z]>"u"){if(!n.Object.prototype[z])continue;P[z]=n.Object.prototype[z]}if(P[z].indexOf("url(")!==0){var Y=new n.Color(P[z]);P[z]=Y.setAlpha(a(Y.getAlpha()*P[_[z]],2)).toRgba()}}return P}function H(P,z){var Y,W=[],le,te,ve;for(te=0,ve=z.length;te<ve;te++)Y=z[te],le=P.getElementsByTagName(Y),W=W.concat(Array.prototype.slice.call(le));return W}n.parseTransformAttribute=(function(){function P(ge,Ee){var Oe=n.util.cos(Ee[0]),Ne=n.util.sin(Ee[0]),Qe=0,He=0;Ee.length===3&&(Qe=Ee[1],He=Ee[2]),ge[0]=Oe,ge[1]=Ne,ge[2]=-Ne,ge[3]=Oe,ge[4]=Qe-(Oe*Qe-Ne*He),ge[5]=He-(Ne*Qe+Oe*He)}function z(ge,Ee){var Oe=Ee[0],Ne=Ee.length===2?Ee[1]:Ee[0];ge[0]=Oe,ge[3]=Ne}function Y(ge,Ee,Oe){ge[Oe]=Math.tan(n.util.degreesToRadians(Ee[0]))}function W(ge,Ee){ge[4]=Ee[0],Ee.length===2&&(ge[5]=Ee[1])}var le=n.iMatrix,te=n.reNum,ve=n.commaWsp,Se="(?:(skewX)\\s*\\(\\s*("+te+")\\s*\\))",xe="(?:(skewY)\\s*\\(\\s*("+te+")\\s*\\))",oe="(?:(rotate)\\s*\\(\\s*("+te+")(?:"+ve+"("+te+")"+ve+"("+te+"))?\\s*\\))",$="(?:(scale)\\s*\\(\\s*("+te+")(?:"+ve+"("+te+"))?\\s*\\))",de="(?:(translate)\\s*\\(\\s*("+te+")(?:"+ve+"("+te+"))?\\s*\\))",pe="(?:(matrix)\\s*\\(\\s*("+te+")"+ve+"("+te+")"+ve+"("+te+")"+ve+"("+te+")"+ve+"("+te+")"+ve+"("+te+")\\s*\\))",ue="(?:"+pe+"|"+de+"|"+$+"|"+oe+"|"+Se+"|"+xe+")",be="(?:"+ue+"(?:"+ve+"*"+ue+")*)",_e="^\\s*(?:"+be+"?)\\s*$",De=new RegExp(_e),Te=new RegExp(ue,"g");return function(ge){var Ee=le.concat(),Oe=[];if(!ge||ge&&!De.test(ge))return Ee;ge.replace(Te,function(Qe){var He=new RegExp(ue).exec(Qe).filter(function(ri){return!!ri}),ot=He[1],nt=He.slice(2).map(parseFloat);switch(ot){case"translate":W(Ee,nt);break;case"rotate":nt[0]=n.util.degreesToRadians(nt[0]),P(Ee,nt);break;case"scale":z(Ee,nt);break;case"skewX":Y(Ee,nt,2);break;case"skewY":Y(Ee,nt,1);break;case"matrix":Ee=nt;break}Oe.push(Ee.concat()),Ee=le.concat()});for(var Ne=Oe[0];Oe.length>1;)Oe.shift(),Ne=n.util.multiplyTransformMatrices(Ne,Oe[0]);return Ne}})();function V(P,z){var Y,W;P.replace(/;\s*$/,"").split(";").forEach(function(le){var te=le.split(":");Y=te[0].trim().toLowerCase(),W=te[1].trim(),z[Y]=W})}function ee(P,z){var Y,W;for(var le in P)typeof P[le]>"u"||(Y=le.toLowerCase(),W=P[le],z[Y]=W)}function ce(P,z){var Y={};for(var W in n.cssRules[z])if(re(P,W.split(" ")))for(var le in n.cssRules[z][W])Y[le]=n.cssRules[z][W][le];return Y}function re(P,z){var Y,W=!0;return Y=I(P,z.pop()),Y&&z.length&&(W=fe(P,z)),Y&&W&&z.length===0}function fe(P,z){for(var Y,W=!0;P.parentNode&&P.parentNode.nodeType===1&&z.length;)W&&(Y=z.pop()),P=P.parentNode,W=I(P,Y);return z.length===0}function I(P,z){var Y=P.nodeName,W=P.getAttribute("class"),le=P.getAttribute("id"),te,ve;if(te=new RegExp("^"+Y,"i"),z=z.replace(te,""),le&&z.length&&(te=new RegExp("#"+le+"(?![a-zA-Z\\-]+)","i"),z=z.replace(te,"")),W&&z.length)for(W=W.split(" "),ve=W.length;ve--;)te=new RegExp("\\."+W[ve]+"(?![a-zA-Z\\-]+)","i"),z=z.replace(te,"");return z.length===0}function J(P,z){var Y;if(P.getElementById&&(Y=P.getElementById(z)),Y)return Y;var W,le,te,ve=P.getElementsByTagName("*");for(le=0,te=ve.length;le<te;le++)if(W=ve[le],z===W.getAttribute("id"))return W}function K(P){for(var z=H(P,["use","svg:use"]),Y=0;z.length&&Y<z.length;){var W=z[Y],le=W.getAttribute("xlink:href")||W.getAttribute("href");if(le===null)return;var te=le.slice(1),ve=W.getAttribute("x")||0,Se=W.getAttribute("y")||0,xe=J(P,te).cloneNode(!0),oe=(xe.getAttribute("transform")||"")+" translate("+ve+", "+Se+")",$,de=z.length,pe,ue,be,_e,De=n.svgNS;if(F(xe),/^svg$/i.test(xe.nodeName)){var Te=xe.ownerDocument.createElementNS(De,"g");for(ue=0,be=xe.attributes,_e=be.length;ue<_e;ue++)pe=be.item(ue),Te.setAttributeNS(De,pe.nodeName,pe.nodeValue);for(;xe.firstChild;)Te.appendChild(xe.firstChild);xe=Te}for(ue=0,be=W.attributes,_e=be.length;ue<_e;ue++)pe=be.item(ue),!(pe.nodeName==="x"||pe.nodeName==="y"||pe.nodeName==="xlink:href"||pe.nodeName==="href")&&(pe.nodeName==="transform"?oe=pe.nodeValue+" "+oe:xe.setAttribute(pe.nodeName,pe.nodeValue));xe.setAttribute("transform",oe),xe.setAttribute("instantiated_by_use","1"),xe.removeAttribute("id"),$=W.parentNode,$.replaceChild(xe,W),z.length===de&&Y++}}var j=new RegExp("^\\s*("+n.reNum+"+)\\s*,?\\s*("+n.reNum+"+)\\s*,?\\s*("+n.reNum+"+)\\s*,?\\s*("+n.reNum+"+)\\s*$");function F(P){if(!n.svgViewBoxElementsRegEx.test(P.nodeName))return{};var z=P.getAttribute("viewBox"),Y=1,W=1,le=0,te=0,ve,Se,xe,oe,$=P.getAttribute("width"),de=P.getAttribute("height"),pe=P.getAttribute("x")||0,ue=P.getAttribute("y")||0,be=P.getAttribute("preserveAspectRatio")||"",_e=!z||!(z=z.match(j)),De=!$||!de||$==="100%"||de==="100%",Te=_e&&De,ge={},Ee="",Oe=0,Ne=0;if(ge.width=0,ge.height=0,ge.toBeParsed=Te,_e&&(pe||ue)&&P.parentNode&&P.parentNode.nodeName!=="#document"&&(Ee=" translate("+l(pe)+" "+l(ue)+") ",xe=(P.getAttribute("transform")||"")+Ee,P.setAttribute("transform",xe),P.removeAttribute("x"),P.removeAttribute("y")),Te)return ge;if(_e)return ge.width=l($),ge.height=l(de),ge;if(le=-parseFloat(z[1]),te=-parseFloat(z[2]),ve=parseFloat(z[3]),Se=parseFloat(z[4]),ge.minX=le,ge.minY=te,ge.viewBoxWidth=ve,ge.viewBoxHeight=Se,De?(ge.width=ve,ge.height=Se):(ge.width=l($),ge.height=l(de),Y=ge.width/ve,W=ge.height/Se),be=n.util.parsePreserveAspectRatioAttribute(be),be.alignX!=="none"&&(be.meetOrSlice==="meet"&&(W=Y=Y>W?W:Y),be.meetOrSlice==="slice"&&(W=Y=Y>W?Y:W),Oe=ge.width-ve*Y,Ne=ge.height-Se*Y,be.alignX==="Mid"&&(Oe/=2),be.alignY==="Mid"&&(Ne/=2),be.alignX==="Min"&&(Oe=0),be.alignY==="Min"&&(Ne=0)),Y===1&&W===1&&le===0&&te===0&&pe===0&&ue===0)return ge;if((pe||ue)&&P.parentNode.nodeName!=="#document"&&(Ee=" translate("+l(pe)+" "+l(ue)+") "),xe=Ee+" matrix("+Y+" 0 0 "+W+" "+(le*Y+Oe)+" "+(te*W+Ne)+") ",P.nodeName==="svg"){for(oe=P.ownerDocument.createElementNS(n.svgNS,"g");P.firstChild;)oe.appendChild(P.firstChild);P.appendChild(oe)}else oe=P,oe.removeAttribute("x"),oe.removeAttribute("y"),xe=oe.getAttribute("transform")+xe;return oe.setAttribute("transform",xe),ge}function A(P,z){for(;P&&(P=P.parentNode);)if(P.nodeName&&z.test(P.nodeName.replace("svg:",""))&&!P.getAttribute("instantiated_by_use"))return!0;return!1}n.parseSVGDocument=function(P,z,Y,W){if(P){K(P);var le=n.Object.__uid++,te,ve,Se=F(P),xe=n.util.toArray(P.getElementsByTagName("*"));if(Se.crossOrigin=W&&W.crossOrigin,Se.svgUid=le,xe.length===0&&n.isLikelyNode){xe=P.selectNodes('//*[name(.)!="svg"]');var oe=[];for(te=0,ve=xe.length;te<ve;te++)oe[te]=xe[te];xe=oe}var $=xe.filter(function(pe){return F(pe),n.svgValidTagNamesRegEx.test(pe.nodeName.replace("svg:",""))&&!A(pe,n.svgInvalidAncestorsRegEx)});if(!$||$&&!$.length){z&&z([],{});return}var de={};xe.filter(function(pe){return pe.nodeName.replace("svg:","")==="clipPath"}).forEach(function(pe){var ue=pe.getAttribute("id");de[ue]=n.util.toArray(pe.getElementsByTagName("*")).filter(function(be){return n.svgValidTagNamesRegEx.test(be.nodeName.replace("svg:",""))})}),n.gradientDefs[le]=n.getGradientDefs(P),n.cssRules[le]=n.getCSSRules(P),n.clipPaths[le]=de,n.parseElements($,function(pe,ue){z&&(z(pe,Se,ue,xe),delete n.gradientDefs[le],delete n.cssRules[le],delete n.clipPaths[le])},d(Se),Y,W)}};function B(P,z){var Y=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],W="xlink:href",le=z.getAttribute(W).slice(1),te=J(P,le);if(te&&te.getAttribute(W)&&B(P,te),Y.forEach(function(Se){te&&!z.hasAttribute(Se)&&te.hasAttribute(Se)&&z.setAttribute(Se,te.getAttribute(Se))}),!z.children.length)for(var ve=te.cloneNode(!0);ve.firstChild;)z.appendChild(ve.firstChild);z.removeAttribute(W)}var X=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+n.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+n.reNum+"))?\\s+(.*)");h(n,{parseFontDeclaration:function(P,z){var Y=P.match(X);if(Y){var W=Y[1],le=Y[3],te=Y[4],ve=Y[5],Se=Y[6];W&&(z.fontStyle=W),le&&(z.fontWeight=isNaN(parseFloat(le))?le:parseFloat(le)),te&&(z.fontSize=l(te)),Se&&(z.fontFamily=Se),ve&&(z.lineHeight=ve==="normal"?1:ve)}},getGradientDefs:function(P){var z=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],Y=H(P,z),W,le=0,te={};for(le=Y.length;le--;)W=Y[le],W.getAttribute("xlink:href")&&B(P,W),te[W.getAttribute("id")]=W;return te},parseAttributes:function(P,z,Y){if(P){var W,le={},te,ve;typeof Y>"u"&&(Y=P.getAttribute("svgUid")),P.parentNode&&n.svgValidParentsRegEx.test(P.parentNode.nodeName)&&(le=n.parseAttributes(P.parentNode,z,Y));var Se=z.reduce(function(be,_e){return W=P.getAttribute(_e),W&&(be[_e]=W),be},{}),xe=h(ce(P,Y),n.parseStyleAttribute(P));Se=h(Se,xe),xe[E]&&P.setAttribute(E,xe[E]),te=ve=le.fontSize||n.Text.DEFAULT_SVG_FONT_SIZE,Se[T]&&(Se[T]=te=l(Se[T],ve));var oe,$,de={};for(var pe in Se)oe=D(pe),$=k(oe,Se[pe],le,te),de[oe]=$;de&&de.font&&n.parseFontDeclaration(de.font,de);var ue=h(le,de);return n.svgValidParentsRegEx.test(P.nodeName)?ue:q(ue)}},parseElements:function(P,z,Y,W,le){new n.ElementsParser(P,z,Y,W,le).parse()},parseStyleAttribute:function(P){var z={},Y=P.getAttribute("style");return Y&&(typeof Y=="string"?V(Y,z):ee(Y,z)),z},parsePointsAttribute:function(P){if(!P)return null;P=P.replace(/,/g," ").trim(),P=P.split(/\s+/);var z=[],Y,W;for(Y=0,W=P.length;Y<W;Y+=2)z.push({x:parseFloat(P[Y]),y:parseFloat(P[Y+1])});return z},getCSSRules:function(P){var z=P.getElementsByTagName("style"),Y,W,le={},te;for(Y=0,W=z.length;Y<W;Y++){var ve=z[Y].textContent;ve=ve.replace(/\/\*[\s\S]*?\*\//g,""),ve.trim()!==""&&(te=ve.split("}"),te=te.filter(function(Se){return Se.trim()}),te.forEach(function(Se){var xe=Se.split("{"),oe={},$=xe[1].trim(),de=$.split(";").filter(function(_e){return _e.trim()});for(Y=0,W=de.length;Y<W;Y++){var pe=de[Y].split(":"),ue=pe[0].trim(),be=pe[1].trim();oe[ue]=be}Se=xe[0].trim(),Se.split(",").forEach(function(_e){_e=_e.replace(/^svg/i,"").trim(),_e!==""&&(le[_e]?n.util.object.extend(le[_e],oe):le[_e]=n.util.object.clone(oe))})}))}return le},loadSVGFromURL:function(P,z,Y,W){P=P.replace(/^\n\s*/,"").trim(),new n.util.request(P,{method:"get",onComplete:le});function le(te){var ve=te.responseXML;if(!ve||!ve.documentElement)return z&&z(null),!1;n.parseSVGDocument(ve.documentElement,function(Se,xe,oe,$){z&&z(Se,xe,oe,$)},Y,W)}},loadSVGFromString:function(P,z,Y,W){var le=new n.window.DOMParser,te=le.parseFromString(P.trim(),"text/xml");n.parseSVGDocument(te.documentElement,function(ve,Se,xe,oe){z(ve,Se,xe,oe)},Y,W)}})})(u),s.ElementsParser=function(p,n,h,d,a,l){this.elements=p,this.callback=n,this.options=h,this.reviver=d,this.svgUid=h&&h.svgUid||0,this.parsingOptions=a,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=l},(function(p){p.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},p.createObjects=function(){var n=this;this.elements.forEach(function(h,d){h.setAttribute("svgUid",n.svgUid),n.createObject(h,d)})},p.findTag=function(n){return s[s.util.string.capitalize(n.tagName.replace("svg:",""))]},p.createObject=function(n,h){var d=this.findTag(n);if(d&&d.fromElement)try{d.fromElement(n,this.createCallback(h,n),this.options)}catch(a){s.log(a)}else this.checkIfDone()},p.createCallback=function(n,h){var d=this;return function(a){var l;d.resolveGradient(a,h,"fill"),d.resolveGradient(a,h,"stroke"),a instanceof s.Image&&a._originalElement&&(l=a.parsePreserveAspectRatioAttribute(h)),a._removeTransformMatrix(l),d.resolveClipPath(a,h),d.reviver&&d.reviver(h,a),d.instances[n]=a,d.checkIfDone()}},p.extractPropertyDefinition=function(n,h,d){var a=n[h],l=this.regexUrl;if(l.test(a)){l.lastIndex=0;var r=l.exec(a)[1];return l.lastIndex=0,s[d][this.svgUid][r]}},p.resolveGradient=function(n,h,d){var a=this.extractPropertyDefinition(n,d,"gradientDefs");if(a){var l=h.getAttribute(d+"-opacity"),r=s.Gradient.fromElement(a,n,l,this.options);n.set(d,r)}},p.createClipPathCallback=function(n,h){return function(d){d._removeTransformMatrix(),d.fillRule=d.clipRule,h.push(d)}},p.resolveClipPath=function(n,h){var d=this.extractPropertyDefinition(n,"clipPath","clipPaths"),a,l,r,c,g,o;if(d){c=[],r=s.util.invertTransform(n.calcTransformMatrix());for(var m=d[0].parentNode,b=h;b.parentNode&&b.getAttribute("clip-path")!==n.clipPath;)b=b.parentNode;b.parentNode.appendChild(m);for(var _=0;_<d.length;_++)a=d[_],l=this.findTag(a),l.fromElement(a,this.createClipPathCallback(n,c),this.options);c.length===1?d=c[0]:d=new s.Group(c),g=s.util.multiplyTransformMatrices(r,d.calcTransformMatrix()),d.clipPath&&this.resolveClipPath(d,b);var o=s.util.qrDecompose(g);d.flipX=!1,d.flipY=!1,d.set("scaleX",o.scaleX),d.set("scaleY",o.scaleY),d.angle=o.angle,d.skewX=o.skewX,d.skewY=0,d.setPositionByOrigin({x:o.translateX,y:o.translateY},"center","center"),n.clipPath=d}else delete n.clipPath},p.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(n){return n!=null}),this.callback(this.instances,this.elements))}})(s.ElementsParser.prototype),(function(p){var n=p.fabric||(p.fabric={});if(n.Point){n.warn("fabric.Point is already defined");return}n.Point=h;function h(d,a){this.x=d,this.y=a}h.prototype={type:"point",constructor:h,add:function(d){return new h(this.x+d.x,this.y+d.y)},addEquals:function(d){return this.x+=d.x,this.y+=d.y,this},scalarAdd:function(d){return new h(this.x+d,this.y+d)},scalarAddEquals:function(d){return this.x+=d,this.y+=d,this},subtract:function(d){return new h(this.x-d.x,this.y-d.y)},subtractEquals:function(d){return this.x-=d.x,this.y-=d.y,this},scalarSubtract:function(d){return new h(this.x-d,this.y-d)},scalarSubtractEquals:function(d){return this.x-=d,this.y-=d,this},multiply:function(d){return new h(this.x*d,this.y*d)},multiplyEquals:function(d){return this.x*=d,this.y*=d,this},divide:function(d){return new h(this.x/d,this.y/d)},divideEquals:function(d){return this.x/=d,this.y/=d,this},eq:function(d){return this.x===d.x&&this.y===d.y},lt:function(d){return this.x<d.x&&this.y<d.y},lte:function(d){return this.x<=d.x&&this.y<=d.y},gt:function(d){return this.x>d.x&&this.y>d.y},gte:function(d){return this.x>=d.x&&this.y>=d.y},lerp:function(d,a){return typeof a>"u"&&(a=.5),a=Math.max(Math.min(1,a),0),new h(this.x+(d.x-this.x)*a,this.y+(d.y-this.y)*a)},distanceFrom:function(d){var a=this.x-d.x,l=this.y-d.y;return Math.sqrt(a*a+l*l)},midPointFrom:function(d){return this.lerp(d)},min:function(d){return new h(Math.min(this.x,d.x),Math.min(this.y,d.y))},max:function(d){return new h(Math.max(this.x,d.x),Math.max(this.y,d.y))},toString:function(){return this.x+","+this.y},setXY:function(d,a){return this.x=d,this.y=a,this},setX:function(d){return this.x=d,this},setY:function(d){return this.y=d,this},setFromPoint:function(d){return this.x=d.x,this.y=d.y,this},swap:function(d){var a=this.x,l=this.y;this.x=d.x,this.y=d.y,d.x=a,d.y=l},clone:function(){return new h(this.x,this.y)}}})(u),(function(p){var n=p.fabric||(p.fabric={});if(n.Intersection){n.warn("fabric.Intersection is already defined");return}function h(d){this.status=d,this.points=[]}n.Intersection=h,n.Intersection.prototype={constructor:h,appendPoint:function(d){return this.points.push(d),this},appendPoints:function(d){return this.points=this.points.concat(d),this}},n.Intersection.intersectLineLine=function(d,a,l,r){var c,g=(r.x-l.x)*(d.y-l.y)-(r.y-l.y)*(d.x-l.x),o=(a.x-d.x)*(d.y-l.y)-(a.y-d.y)*(d.x-l.x),m=(r.y-l.y)*(a.x-d.x)-(r.x-l.x)*(a.y-d.y);if(m!==0){var b=g/m,_=o/m;0<=b&&b<=1&&0<=_&&_<=1?(c=new h("Intersection"),c.appendPoint(new n.Point(d.x+b*(a.x-d.x),d.y+b*(a.y-d.y)))):c=new h}else g===0||o===0?c=new h("Coincident"):c=new h("Parallel");return c},n.Intersection.intersectLinePolygon=function(d,a,l){var r=new h,c=l.length,g,o,m,b;for(b=0;b<c;b++)g=l[b],o=l[(b+1)%c],m=h.intersectLineLine(d,a,g,o),r.appendPoints(m.points);return r.points.length>0&&(r.status="Intersection"),r},n.Intersection.intersectPolygonPolygon=function(d,a){var l=new h,r=d.length,c;for(c=0;c<r;c++){var g=d[c],o=d[(c+1)%r],m=h.intersectLinePolygon(g,o,a);l.appendPoints(m.points)}return l.points.length>0&&(l.status="Intersection"),l},n.Intersection.intersectPolygonRectangle=function(d,a,l){var r=a.min(l),c=a.max(l),g=new n.Point(c.x,r.y),o=new n.Point(r.x,c.y),m=h.intersectLinePolygon(r,g,d),b=h.intersectLinePolygon(g,c,d),_=h.intersectLinePolygon(c,o,d),T=h.intersectLinePolygon(o,r,d),E=new h;return E.appendPoints(m.points),E.appendPoints(b.points),E.appendPoints(_.points),E.appendPoints(T.points),E.points.length>0&&(E.status="Intersection"),E}})(u),(function(p){var n=p.fabric||(p.fabric={});if(n.Color){n.warn("fabric.Color is already defined.");return}function h(a){a?this._tryParsingColor(a):this.setSource([0,0,0,1])}n.Color=h,n.Color.prototype={_tryParsingColor:function(a){var l;a in h.colorNameMap&&(a=h.colorNameMap[a]),a==="transparent"&&(l=[255,255,255,0]),l||(l=h.sourceFromHex(a)),l||(l=h.sourceFromRgb(a)),l||(l=h.sourceFromHsl(a)),l||(l=[0,0,0,1]),l&&this.setSource(l)},_rgbToHsl:function(a,l,r){a/=255,l/=255,r/=255;var c,g,o,m=n.util.array.max([a,l,r]),b=n.util.array.min([a,l,r]);if(o=(m+b)/2,m===b)c=g=0;else{var _=m-b;switch(g=o>.5?_/(2-m-b):_/(m+b),m){case a:c=(l-r)/_+(l<r?6:0);break;case l:c=(r-a)/_+2;break;case r:c=(a-l)/_+4;break}c/=6}return[Math.round(c*360),Math.round(g*100),Math.round(o*100)]},getSource:function(){return this._source},setSource:function(a){this._source=a},toRgb:function(){var a=this.getSource();return"rgb("+a[0]+","+a[1]+","+a[2]+")"},toRgba:function(){var a=this.getSource();return"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")"},toHsl:function(){var a=this.getSource(),l=this._rgbToHsl(a[0],a[1],a[2]);return"hsl("+l[0]+","+l[1]+"%,"+l[2]+"%)"},toHsla:function(){var a=this.getSource(),l=this._rgbToHsl(a[0],a[1],a[2]);return"hsla("+l[0]+","+l[1]+"%,"+l[2]+"%,"+a[3]+")"},toHex:function(){var a=this.getSource(),l,r,c;return l=a[0].toString(16),l=l.length===1?"0"+l:l,r=a[1].toString(16),r=r.length===1?"0"+r:r,c=a[2].toString(16),c=c.length===1?"0"+c:c,l.toUpperCase()+r.toUpperCase()+c.toUpperCase()},toHexa:function(){var a=this.getSource(),l;return l=Math.round(a[3]*255),l=l.toString(16),l=l.length===1?"0"+l:l,this.toHex()+l.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(a){var l=this.getSource();return l[3]=a,this.setSource(l),this},toGrayscale:function(){var a=this.getSource(),l=parseInt((a[0]*.3+a[1]*.59+a[2]*.11).toFixed(0),10),r=a[3];return this.setSource([l,l,l,r]),this},toBlackWhite:function(a){var l=this.getSource(),r=(l[0]*.3+l[1]*.59+l[2]*.11).toFixed(0),c=l[3];return a=a||127,r=Number(r)<Number(a)?0:255,this.setSource([r,r,r,c]),this},overlayWith:function(a){a instanceof h||(a=new h(a));var l=[],r=this.getAlpha(),c=.5,g=this.getSource(),o=a.getSource(),m;for(m=0;m<3;m++)l.push(Math.round(g[m]*(1-c)+o[m]*c));return l[3]=r,this.setSource(l),this}},n.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,n.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,n.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,n.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function d(a,l,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?a+(l-a)*6*r:r<1/2?l:r<2/3?a+(l-a)*(2/3-r)*6:a}n.Color.fromRgb=function(a){return h.fromSource(h.sourceFromRgb(a))},n.Color.sourceFromRgb=function(a){var l=a.match(h.reRGBa);if(l){var r=parseInt(l[1],10)/(/%$/.test(l[1])?100:1)*(/%$/.test(l[1])?255:1),c=parseInt(l[2],10)/(/%$/.test(l[2])?100:1)*(/%$/.test(l[2])?255:1),g=parseInt(l[3],10)/(/%$/.test(l[3])?100:1)*(/%$/.test(l[3])?255:1);return[parseInt(r,10),parseInt(c,10),parseInt(g,10),l[4]?parseFloat(l[4]):1]}},n.Color.fromRgba=h.fromRgb,n.Color.fromHsl=function(a){return h.fromSource(h.sourceFromHsl(a))},n.Color.sourceFromHsl=function(a){var l=a.match(h.reHSLa);if(l){var r=(parseFloat(l[1])%360+360)%360/360,c=parseFloat(l[2])/(/%$/.test(l[2])?100:1),g=parseFloat(l[3])/(/%$/.test(l[3])?100:1),o,m,b;if(c===0)o=m=b=g;else{var _=g<=.5?g*(c+1):g+c-g*c,T=g*2-_;o=d(T,_,r+1/3),m=d(T,_,r),b=d(T,_,r-1/3)}return[Math.round(o*255),Math.round(m*255),Math.round(b*255),l[4]?parseFloat(l[4]):1]}},n.Color.fromHsla=h.fromHsl,n.Color.fromHex=function(a){return h.fromSource(h.sourceFromHex(a))},n.Color.sourceFromHex=function(a){if(a.match(h.reHex)){var l=a.slice(a.indexOf("#")+1),r=l.length===3||l.length===4,c=l.length===8||l.length===4,g=r?l.charAt(0)+l.charAt(0):l.substring(0,2),o=r?l.charAt(1)+l.charAt(1):l.substring(2,4),m=r?l.charAt(2)+l.charAt(2):l.substring(4,6),b=c?r?l.charAt(3)+l.charAt(3):l.substring(6,8):"FF";return[parseInt(g,16),parseInt(o,16),parseInt(m,16),parseFloat((parseInt(b,16)/255).toFixed(2))]}},n.Color.fromSource=function(a){var l=new h;return l.setSource(a),l}})(u),(function(p){var n=p.fabric||(p.fabric={}),h=["e","se","s","sw","w","nw","n","ne","e"],d=["ns","nesw","ew","nwse"],a={},l="left",r="top",c="right",g="bottom",o="center",m={top:g,bottom:r,left:c,right:l,center:o},b=n.util.radiansToDegrees,_=Math.sign||function(oe){return(oe>0)-(oe<0)||+oe};function T(oe,$){var de=oe.angle+b(Math.atan2($.y,$.x))+360;return Math.round(de%360/45)}function E(oe,$){var de=$.transform.target,pe=de.canvas,ue=n.util.object.clone($);ue.target=de,pe&&pe.fire("object:"+oe,ue),de.fire(oe,$)}function D(oe,$){var de=$.canvas,pe=de.uniScaleKey,ue=oe[pe];return de.uniformScaling&&!ue||!de.uniformScaling&&ue}function k(oe){return oe.originX===o&&oe.originY===o}function N(oe,$,de){var pe=oe.lockScalingX,ue=oe.lockScalingY;return!!(pe&&ue||!$&&(pe||ue)&&de||pe&&$==="x"||ue&&$==="y")}function q(oe,$,de){var pe="not-allowed",ue=D(oe,de),be="";if($.x!==0&&$.y===0?be="x":$.x===0&&$.y!==0&&(be="y"),N(de,be,ue))return pe;var _e=T(de,$);return h[_e]+"-resize"}function H(oe,$,de){var pe="not-allowed";if($.x!==0&&de.lockSkewingY||$.y!==0&&de.lockSkewingX)return pe;var ue=T(de,$)%4;return d[ue]+"-resize"}function V(oe,$,de){return oe[de.canvas.altActionKey]?a.skewCursorStyleHandler(oe,$,de):a.scaleCursorStyleHandler(oe,$,de)}function ee(oe,$,de){var pe=oe[de.canvas.altActionKey];if($.x===0)return pe?"skewX":"scaleY";if($.y===0)return pe?"skewY":"scaleX"}function ce(oe,$,de){return de.lockRotation?"not-allowed":$.cursorStyle}function re(oe,$,de,pe){return{e:oe,transform:$,pointer:{x:de,y:pe}}}function fe(oe){return function($,de,pe,ue){var be=de.target,_e=be.getCenterPoint(),De=be.translateToOriginPoint(_e,de.originX,de.originY),Te=oe($,de,pe,ue);return be.setPositionByOrigin(De,de.originX,de.originY),Te}}function I(oe,$){return function(de,pe,ue,be){var _e=$(de,pe,ue,be);return _e&&E(oe,re(de,pe,ue,be)),_e}}function J(oe,$,de,pe,ue){var be=oe.target,_e=be.controls[oe.corner],De=be.canvas.getZoom(),Te=be.padding/De,ge=be.toLocalPoint(new n.Point(pe,ue),$,de);return ge.x>=Te&&(ge.x-=Te),ge.x<=-Te&&(ge.x+=Te),ge.y>=Te&&(ge.y-=Te),ge.y<=Te&&(ge.y+=Te),ge.x-=_e.offsetX,ge.y-=_e.offsetY,ge}function K(oe){return oe.flipX!==oe.flipY}function j(oe,$,de,pe,ue){if(oe[$]!==0){var be=oe._getTransformedDimensions()[pe],_e=ue/be*oe[de];oe.set(de,_e)}}function F(oe,$,de,pe){var ue=$.target,be=ue._getTransformedDimensions(0,ue.skewY),_e=J($,$.originX,$.originY,de,pe),De=Math.abs(_e.x*2)-be.x,Te=ue.skewX,ge;De<2?ge=0:(ge=b(Math.atan2(De/ue.scaleX,be.y/ue.scaleY)),$.originX===l&&$.originY===g&&(ge=-ge),$.originX===c&&$.originY===r&&(ge=-ge),K(ue)&&(ge=-ge));var Ee=Te!==ge;if(Ee){var Oe=ue._getTransformedDimensions().y;ue.set("skewX",ge),j(ue,"skewY","scaleY","y",Oe)}return Ee}function A(oe,$,de,pe){var ue=$.target,be=ue._getTransformedDimensions(ue.skewX,0),_e=J($,$.originX,$.originY,de,pe),De=Math.abs(_e.y*2)-be.y,Te=ue.skewY,ge;De<2?ge=0:(ge=b(Math.atan2(De/ue.scaleY,be.x/ue.scaleX)),$.originX===l&&$.originY===g&&(ge=-ge),$.originX===c&&$.originY===r&&(ge=-ge),K(ue)&&(ge=-ge));var Ee=Te!==ge;if(Ee){var Oe=ue._getTransformedDimensions().x;ue.set("skewY",ge),j(ue,"skewX","scaleX","x",Oe)}return Ee}function B(oe,$,de,pe){var ue=$.target,be=ue.skewX,_e,De=$.originY;if(ue.lockSkewingX)return!1;if(be===0){var Te=J($,o,o,de,pe);Te.x>0?_e=l:_e=c}else be>0&&(_e=De===r?l:c),be<0&&(_e=De===r?c:l),K(ue)&&(_e=_e===l?c:l);$.originX=_e;var ge=I("skewing",fe(F));return ge(oe,$,de,pe)}function X(oe,$,de,pe){var ue=$.target,be=ue.skewY,_e,De=$.originX;if(ue.lockSkewingY)return!1;if(be===0){var Te=J($,o,o,de,pe);Te.y>0?_e=r:_e=g}else be>0&&(_e=De===l?r:g),be<0&&(_e=De===l?g:r),K(ue)&&(_e=_e===r?g:r);$.originY=_e;var ge=I("skewing",fe(A));return ge(oe,$,de,pe)}function P(oe,$,de,pe){var ue=$,be=ue.target,_e=be.translateToOriginPoint(be.getCenterPoint(),ue.originX,ue.originY);if(be.lockRotation)return!1;var De=Math.atan2(ue.ey-_e.y,ue.ex-_e.x),Te=Math.atan2(pe-_e.y,de-_e.x),ge=b(Te-De+ue.theta),Ee=!0;if(be.snapAngle>0){var Oe=be.snapAngle,Ne=be.snapThreshold||Oe,Qe=Math.ceil(ge/Oe)*Oe,He=Math.floor(ge/Oe)*Oe;Math.abs(ge-He)<Ne?ge=He:Math.abs(ge-Qe)<Ne&&(ge=Qe)}return ge<0&&(ge=360+ge),ge%=360,Ee=be.angle!==ge,be.angle=ge,Ee}function z(oe,$,de,pe,ue){ue=ue||{};var be=$.target,_e=be.lockScalingX,De=be.lockScalingY,Te=ue.by,ge,Ee,Oe,Ne,Qe=D(oe,be),He=N(be,Te,Qe),ot,nt,ri=$.gestureScale;if(He)return!1;if(ri)Ee=$.scaleX*ri,Oe=$.scaleY*ri;else{if(ge=J($,$.originX,$.originY,de,pe),ot=Te!=="y"?_(ge.x):1,nt=Te!=="x"?_(ge.y):1,$.signX||($.signX=ot),$.signY||($.signY=nt),be.lockScalingFlip&&($.signX!==ot||$.signY!==nt))return!1;if(Ne=be._getTransformedDimensions(),Qe&&!Te){var ln=Math.abs(ge.x)+Math.abs(ge.y),Xt=$.original,on=Math.abs(Ne.x*Xt.scaleX/be.scaleX)+Math.abs(Ne.y*Xt.scaleY/be.scaleY),Ct=ln/on;Ee=Xt.scaleX*Ct,Oe=Xt.scaleY*Ct}else Ee=Math.abs(ge.x*be.scaleX/Ne.x),Oe=Math.abs(ge.y*be.scaleY/Ne.y);k($)&&(Ee*=2,Oe*=2),$.signX!==ot&&Te!=="y"&&($.originX=m[$.originX],Ee*=-1,$.signX=ot),$.signY!==nt&&Te!=="x"&&($.originY=m[$.originY],Oe*=-1,$.signY=nt)}var si=be.scaleX,wt=be.scaleY;return Te?(Te==="x"&&be.set("scaleX",Ee),Te==="y"&&be.set("scaleY",Oe)):(!_e&&be.set("scaleX",Ee),!De&&be.set("scaleY",Oe)),si!==be.scaleX||wt!==be.scaleY}function Y(oe,$,de,pe){return z(oe,$,de,pe)}function W(oe,$,de,pe){return z(oe,$,de,pe,{by:"x"})}function le(oe,$,de,pe){return z(oe,$,de,pe,{by:"y"})}function te(oe,$,de,pe){return oe[$.target.canvas.altActionKey]?a.skewHandlerX(oe,$,de,pe):a.scalingY(oe,$,de,pe)}function ve(oe,$,de,pe){return oe[$.target.canvas.altActionKey]?a.skewHandlerY(oe,$,de,pe):a.scalingX(oe,$,de,pe)}function Se(oe,$,de,pe){var ue=$.target,be=J($,$.originX,$.originY,de,pe),_e=ue.strokeWidth/(ue.strokeUniform?ue.scaleX:1),De=k($)?2:1,Te=ue.width,ge=Math.abs(be.x*De/ue.scaleX)-_e;return ue.set("width",Math.max(ge,0)),Te!==ge}function xe(oe,$,de,pe){var ue=$.target,be=de-$.offsetX,_e=pe-$.offsetY,De=!ue.get("lockMovementX")&&ue.left!==be,Te=!ue.get("lockMovementY")&&ue.top!==_e;return De&&ue.set("left",be),Te&&ue.set("top",_e),(De||Te)&&E("moving",re(oe,$,de,pe)),De||Te}a.scaleCursorStyleHandler=q,a.skewCursorStyleHandler=H,a.scaleSkewCursorStyleHandler=V,a.rotationWithSnapping=I("rotating",fe(P)),a.scalingEqually=I("scaling",fe(Y)),a.scalingX=I("scaling",fe(W)),a.scalingY=I("scaling",fe(le)),a.scalingYOrSkewingX=te,a.scalingXOrSkewingY=ve,a.changeWidth=I("resizing",fe(Se)),a.skewHandlerX=B,a.skewHandlerY=X,a.dragHandler=xe,a.scaleOrSkewActionName=ee,a.rotationStyleHandler=ce,a.fireEvent=E,a.wrapWithFixedAnchor=fe,a.wrapWithFireEvent=I,a.getLocalPoint=J,n.controlsUtils=a})(u),(function(p){var n=p.fabric||(p.fabric={}),h=n.util.degreesToRadians,d=n.controlsUtils;function a(r,c,g,o,m){o=o||{};var b=this.sizeX||o.cornerSize||m.cornerSize,_=this.sizeY||o.cornerSize||m.cornerSize,T=typeof o.transparentCorners<"u"?o.transparentCorners:m.transparentCorners,E=T?"stroke":"fill",D=!T&&(o.cornerStrokeColor||m.cornerStrokeColor),k=c,N=g,q;r.save(),r.fillStyle=o.cornerColor||m.cornerColor,r.strokeStyle=o.cornerStrokeColor||m.cornerStrokeColor,b>_?(q=b,r.scale(1,_/b),N=g*b/_):_>b?(q=_,r.scale(b/_,1),k=c*_/b):q=b,r.lineWidth=1,r.beginPath(),r.arc(k,N,q/2,0,2*Math.PI,!1),r[E](),D&&r.stroke(),r.restore()}function l(r,c,g,o,m){o=o||{};var b=this.sizeX||o.cornerSize||m.cornerSize,_=this.sizeY||o.cornerSize||m.cornerSize,T=typeof o.transparentCorners<"u"?o.transparentCorners:m.transparentCorners,E=T?"stroke":"fill",D=!T&&(o.cornerStrokeColor||m.cornerStrokeColor),k=b/2,N=_/2;r.save(),r.fillStyle=o.cornerColor||m.cornerColor,r.strokeStyle=o.cornerStrokeColor||m.cornerStrokeColor,r.lineWidth=1,r.translate(c,g),r.rotate(h(m.angle)),r[E+"Rect"](-k,-N,b,_),D&&r.strokeRect(-k,-N,b,_),r.restore()}d.renderCircleControl=a,d.renderSquareControl=l})(u),(function(p){var n=p.fabric||(p.fabric={});function h(d){for(var a in d)this[a]=d[a]}n.Control=h,n.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(d,a){return a.cursorStyle},getActionName:function(d,a){return a.actionName},getVisibility:function(d,a){var l=d._controlsVisibility;return l&&typeof l[a]<"u"?l[a]:this.visible},setVisibility:function(d){this.visible=d},positionHandler:function(d,a){var l=n.util.transformPoint({x:this.x*d.x+this.offsetX,y:this.y*d.y+this.offsetY},a);return l},calcCornerCoords:function(d,a,l,r,c){var g,o,m,b,_=c?this.touchSizeX:this.sizeX,T=c?this.touchSizeY:this.sizeY;if(_&&T&&_!==T){var E=Math.atan2(T,_),D=Math.sqrt(_*_+T*T)/2,k=E-n.util.degreesToRadians(d),N=Math.PI/2-E-n.util.degreesToRadians(d);g=D*n.util.cos(k),o=D*n.util.sin(k),m=D*n.util.cos(N),b=D*n.util.sin(N)}else{var q=_&&T?_:a;D=q*.7071067812;var k=n.util.degreesToRadians(45-d);g=m=D*n.util.cos(k),o=b=D*n.util.sin(k)}return{tl:{x:l-b,y:r-m},tr:{x:l+g,y:r-o},bl:{x:l-g,y:r+o},br:{x:l+b,y:r+m}}},render:function(d,a,l,r,c){r=r||{},(r.cornerStyle||c.cornerStyle)==="circle"?n.controlsUtils.renderCircleControl.call(this,d,a,l,r,c):n.controlsUtils.renderSquareControl.call(this,d,a,l,r,c)}}})(u),(function(){function p(l,r){var c=l.getAttribute("style"),g=l.getAttribute("offset")||0,o,m,b,_;if(g=parseFloat(g)/(/%$/.test(g)?100:1),g=g<0?0:g>1?1:g,c){var T=c.split(/\s*;\s*/);for(T[T.length-1]===""&&T.pop(),_=T.length;_--;){var E=T[_].split(/\s*:\s*/),D=E[0].trim(),k=E[1].trim();D==="stop-color"?o=k:D==="stop-opacity"&&(b=k)}}return o||(o=l.getAttribute("stop-color")||"rgb(0,0,0)"),b||(b=l.getAttribute("stop-opacity")),o=new s.Color(o),m=o.getAlpha(),b=isNaN(parseFloat(b))?1:parseFloat(b),b*=m*r,{offset:g,color:o.toRgb(),opacity:b}}function n(l){return{x1:l.getAttribute("x1")||0,y1:l.getAttribute("y1")||0,x2:l.getAttribute("x2")||"100%",y2:l.getAttribute("y2")||0}}function h(l){return{x1:l.getAttribute("fx")||l.getAttribute("cx")||"50%",y1:l.getAttribute("fy")||l.getAttribute("cy")||"50%",r1:0,x2:l.getAttribute("cx")||"50%",y2:l.getAttribute("cy")||"50%",r2:l.getAttribute("r")||"50%"}}var d=s.util.object.clone;s.Gradient=s.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(l){l||(l={}),l.coords||(l.coords={});var r,c=this;Object.keys(l).forEach(function(g){c[g]=l[g]}),this.id?this.id+="_"+s.Object.__uid++:this.id=s.Object.__uid++,r={x1:l.coords.x1||0,y1:l.coords.y1||0,x2:l.coords.x2||0,y2:l.coords.y2||0},this.type==="radial"&&(r.r1=l.coords.r1||0,r.r2=l.coords.r2||0),this.coords=r,this.colorStops=l.colorStops.slice()},addColorStop:function(l){for(var r in l){var c=new s.Color(l[r]);this.colorStops.push({offset:parseFloat(r),color:c.toRgb(),opacity:c.getAlpha()})}return this},toObject:function(l){var r={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return s.util.populateWithProperties(this,r,l),r},toSVG:function(l,m){var c=d(this.coords,!0),g,o,m=m||{},b,_,T=d(this.colorStops,!0),E=c.r1>c.r2,D=this.gradientTransform?this.gradientTransform.concat():s.iMatrix.concat(),k=-this.offsetX,N=-this.offsetY,q=!!m.additionalTransform,H=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(T.sort(function(fe,I){return fe.offset-I.offset}),H==="objectBoundingBox"?(k/=l.width,N/=l.height):(k+=l.width/2,N+=l.height/2),l.type==="path"&&this.gradientUnits!=="percentage"&&(k-=l.pathOffset.x,N-=l.pathOffset.y),D[4]-=k,D[5]-=N,_='id="SVGID_'+this.id+'" gradientUnits="'+H+'"',_+=' gradientTransform="'+(q?m.additionalTransform+" ":"")+s.util.matrixToSVG(D)+'" ',this.type==="linear"?b=["<linearGradient ",_,' x1="',c.x1,'" y1="',c.y1,'" x2="',c.x2,'" y2="',c.y2,`">
`]:this.type==="radial"&&(b=["<radialGradient ",_,' cx="',E?c.x1:c.x2,'" cy="',E?c.y1:c.y2,'" r="',E?c.r1:c.r2,'" fx="',E?c.x2:c.x1,'" fy="',E?c.y2:c.y1,`">
`]),this.type==="radial"){if(E)for(T=T.concat(),T.reverse(),g=0,o=T.length;g<o;g++)T[g].offset=1-T[g].offset;var V=Math.min(c.r1,c.r2);if(V>0){var ee=Math.max(c.r1,c.r2),ce=V/ee;for(g=0,o=T.length;g<o;g++)T[g].offset+=ce*(1-T[g].offset)}}for(g=0,o=T.length;g<o;g++){var re=T[g];b.push("<stop ",'offset="',re.offset*100+"%",'" style="stop-color:',re.color,typeof re.opacity<"u"?";stop-opacity: "+re.opacity:";",`"/>
`)}return b.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),b.join("")},toLive:function(l){var r,c=s.util.object.clone(this.coords),g,o;if(this.type){for(this.type==="linear"?r=l.createLinearGradient(c.x1,c.y1,c.x2,c.y2):this.type==="radial"&&(r=l.createRadialGradient(c.x1,c.y1,c.r1,c.x2,c.y2,c.r2)),g=0,o=this.colorStops.length;g<o;g++){var m=this.colorStops[g].color,b=this.colorStops[g].opacity,_=this.colorStops[g].offset;typeof b<"u"&&(m=new s.Color(m).setAlpha(b).toRgba()),r.addColorStop(_,m)}return r}}}),s.util.object.extend(s.Gradient,{fromElement:function(l,r,c,g){var o=parseFloat(c)/(/%$/.test(c)?100:1);o=o<0?0:o>1?1:o,isNaN(o)&&(o=1);var m=l.getElementsByTagName("stop"),b,_=l.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",T=l.getAttribute("gradientTransform")||"",E=[],D,k,N=0,q=0,H;for(l.nodeName==="linearGradient"||l.nodeName==="LINEARGRADIENT"?(b="linear",D=n(l)):(b="radial",D=h(l)),k=m.length;k--;)E.push(p(m[k],o));H=s.parseTransformAttribute(T),a(r,D,g,_),_==="pixels"&&(N=-r.left,q=-r.top);var V=new s.Gradient({id:l.getAttribute("id"),type:b,coords:D,colorStops:E,gradientUnits:_,gradientTransform:H,offsetX:N,offsetY:q});return V}});function a(l,r,c,g){var o,m;Object.keys(r).forEach(function(b){o=r[b],o==="Infinity"?m=1:o==="-Infinity"?m=0:(m=parseFloat(r[b],10),typeof o=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(o)&&(m*=.01,g==="pixels"&&((b==="x1"||b==="x2"||b==="r2")&&(m*=c.viewBoxWidth||c.width),(b==="y1"||b==="y2")&&(m*=c.viewBoxHeight||c.height)))),r[b]=m})}})(),(function(){var p=s.util.toFixed;s.Pattern=s.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(n,h){if(n||(n={}),this.id=s.Object.__uid++,this.setOptions(n),!n.source||n.source&&typeof n.source!="string"){h&&h(this);return}else{var d=this;this.source=s.util.createImage(),s.util.loadImage(n.source,function(a,l){d.source=a,h&&h(d,l)},null,this.crossOrigin)}},toObject:function(n){var h=s.Object.NUM_FRACTION_DIGITS,d,a;return typeof this.source.src=="string"?d=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(d=this.source.toDataURL()),a={type:"pattern",source:d,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:p(this.offsetX,h),offsetY:p(this.offsetY,h),patternTransform:this.patternTransform?this.patternTransform.concat():null},s.util.populateWithProperties(this,a,n),a},toSVG:function(n){var h=typeof this.source=="function"?this.source():this.source,d=h.width/n.width,a=h.height/n.height,l=this.offsetX/n.width,r=this.offsetY/n.height,c="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(a=1,r&&(a+=Math.abs(r))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(d=1,l&&(d+=Math.abs(l))),h.src?c=h.src:h.toDataURL&&(c=h.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+l+'" y="'+r+'" width="'+d+'" height="'+a+`">
<image x="0" y="0" width="`+h.width+'" height="'+h.height+'" xlink:href="'+c+`"></image>
</pattern>
`},setOptions:function(n){for(var h in n)this[h]=n[h]},toLive:function(n){var h=this.source;return!h||typeof h.src<"u"&&(!h.complete||h.naturalWidth===0||h.naturalHeight===0)?"":n.createPattern(h,this.repeat)}})})(),(function(p){var n=p.fabric||(p.fabric={}),h=n.util.toFixed;if(n.Shadow){n.warn("fabric.Shadow is already defined.");return}n.Shadow=n.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(d){typeof d=="string"&&(d=this._parseShadow(d));for(var a in d)this[a]=d[a];this.id=n.Object.__uid++},_parseShadow:function(d){var a=d.trim(),l=n.Shadow.reOffsetsAndBlur.exec(a)||[],r=a.replace(n.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:r.trim(),offsetX:parseFloat(l[1],10)||0,offsetY:parseFloat(l[2],10)||0,blur:parseFloat(l[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(d){var a=40,l=40,r=n.Object.NUM_FRACTION_DIGITS,c=n.util.rotateVector({x:this.offsetX,y:this.offsetY},n.util.degreesToRadians(-d.angle)),g=20,o=new n.Color(this.color);return d.width&&d.height&&(a=h((Math.abs(c.x)+this.blur)/d.width,r)*100+g,l=h((Math.abs(c.y)+this.blur)/d.height,r)*100+g),d.flipX&&(c.x*=-1),d.flipY&&(c.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+l+'%" height="'+(100+2*l)+'%" x="-'+a+'%" width="'+(100+2*a)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+h(this.blur?this.blur/2:0,r)+`"></feGaussianBlur>
	<feOffset dx="`+h(c.x,r)+'" dy="'+h(c.y,r)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+o.toRgb()+'" flood-opacity="'+o.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var d={},a=n.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(l){this[l]!==a[l]&&(d[l]=this[l])},this),d}}),n.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/})(u),(function(){if(s.StaticCanvas){s.warn("fabric.StaticCanvas is already defined.");return}var p=s.util.object.extend,n=s.util.getElementOffset,h=s.util.removeFromArray,d=s.util.toFixed,a=s.util.transformPoint,l=s.util.invertTransform,r=s.util.getNodeCanvas,c=s.util.createCanvasElement,g=new Error("Could not initialize `canvas` element");s.StaticCanvas=s.util.createClass(s.CommonMethods,{initialize:function(o,m){m||(m={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(o,m)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:s.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(o,m){var b=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(o),this._initOptions(m),this.interactive||this._initRetinaScaling(),m.overlayImage&&this.setOverlayImage(m.overlayImage,b),m.backgroundImage&&this.setBackgroundImage(m.backgroundImage,b),m.backgroundColor&&this.setBackgroundColor(m.backgroundColor,b),m.overlayColor&&this.setOverlayColor(m.overlayColor,b),this.calcOffset()},_isRetinaScaling:function(){return s.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,s.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var o=s.devicePixelRatio;this.__initRetinaScaling(o,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(o,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(o,m,b){m.setAttribute("width",this.width*o),m.setAttribute("height",this.height*o),b.scale(o,o)},calcOffset:function(){return this._offset=n(this.lowerCanvasEl),this},setOverlayImage:function(o,m,b){return this.__setBgOverlayImage("overlayImage",o,m,b)},setBackgroundImage:function(o,m,b){return this.__setBgOverlayImage("backgroundImage",o,m,b)},setOverlayColor:function(o,m){return this.__setBgOverlayColor("overlayColor",o,m)},setBackgroundColor:function(o,m){return this.__setBgOverlayColor("backgroundColor",o,m)},__setBgOverlayImage:function(o,m,b,_){return typeof m=="string"?s.util.loadImage(m,function(T,E){if(T){var D=new s.Image(T,_);this[o]=D,D.canvas=this}b&&b(T,E)},this,_&&_.crossOrigin):(_&&m.setOptions(_),this[o]=m,m&&(m.canvas=this),b&&b(m,!1)),this},__setBgOverlayColor:function(o,m,b){return this[o]=m,this._initGradient(m,o),this._initPattern(m,o,b),this},_createCanvasElement:function(){var o=c();if(!o||(o.style||(o.style={}),typeof o.getContext>"u"))throw g;return o},_initOptions:function(o){var m=this.lowerCanvasEl;this._setOptions(o),this.width=this.width||parseInt(m.width,10)||0,this.height=this.height||parseInt(m.height,10)||0,this.lowerCanvasEl.style&&(m.width=this.width,m.height=this.height,m.style.width=this.width+"px",m.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(o){o&&o.getContext?this.lowerCanvasEl=o:this.lowerCanvasEl=s.util.getById(o)||this._createCanvasElement(),s.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(o,m){return this.setDimensions({width:o},m)},setHeight:function(o,m){return this.setDimensions({height:o},m)},setDimensions:function(o,m){var b;m=m||{};for(var _ in o)b=o[_],m.cssOnly||(this._setBackstoreDimension(_,o[_]),b+="px",this.hasLostContext=!0),m.backstoreOnly||this._setCssDimension(_,b);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),m.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(o,m){return this.lowerCanvasEl[o]=m,this.upperCanvasEl&&(this.upperCanvasEl[o]=m),this.cacheCanvasEl&&(this.cacheCanvasEl[o]=m),this[o]=m,this},_setCssDimension:function(o,m){return this.lowerCanvasEl.style[o]=m,this.upperCanvasEl&&(this.upperCanvasEl.style[o]=m),this.wrapperEl&&(this.wrapperEl.style[o]=m),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(o){var m=this._activeObject,b=this.backgroundImage,_=this.overlayImage,T,E,D;for(this.viewportTransform=o,E=0,D=this._objects.length;E<D;E++)T=this._objects[E],T.group||T.setCoords(!0);return m&&m.setCoords(),b&&b.setCoords(!0),_&&_.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(o,m){var b=o,_=this.viewportTransform.slice(0);o=a(o,l(this.viewportTransform)),_[0]=m,_[3]=m;var T=a(o,_);return _[4]+=b.x-T.x,_[5]+=b.y-T.y,this.setViewportTransform(_)},setZoom:function(o){return this.zoomToPoint(new s.Point(0,0),o),this},absolutePan:function(o){var m=this.viewportTransform.slice(0);return m[4]=-o.x,m[5]=-o.y,this.setViewportTransform(m)},relativePan:function(o){return this.absolutePan(new s.Point(-o.x-this.viewportTransform[4],-o.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(o){this.stateful&&o.setupState(),o._set("canvas",this),o.setCoords(),this.fire("object:added",{target:o}),o.fire("added")},_onObjectRemoved:function(o){this.fire("object:removed",{target:o}),o.fire("removed"),delete o.canvas},clearContext:function(o){return o.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var o=this.contextContainer;return this.renderCanvas(o,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=s.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var o={},m=this.width,b=this.height,_=l(this.viewportTransform);return o.tl=a({x:0,y:0},_),o.br=a({x:m,y:b},_),o.tr=new s.Point(o.br.x,o.tl.y),o.bl=new s.Point(o.tl.x,o.br.y),this.vptCoords=o,o},cancelRequestedRender:function(){this.isRendering&&(s.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(o,m){var b=this.viewportTransform,_=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(o),s.util.setImageSmoothing(o,this.imageSmoothingEnabled),this.fire("before:render",{ctx:o}),this._renderBackground(o),o.save(),o.transform(b[0],b[1],b[2],b[3],b[4],b[5]),this._renderObjects(o,m),o.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(o),_&&(_.canvas=this,_.shouldCache(),_._transformDone=!0,_.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(o)),this._renderOverlay(o),this.controlsAboveOverlay&&this.interactive&&this.drawControls(o),this.fire("after:render",{ctx:o})},drawClipPathOnCanvas:function(o){var m=this.viewportTransform,b=this.clipPath;o.save(),o.transform(m[0],m[1],m[2],m[3],m[4],m[5]),o.globalCompositeOperation="destination-in",b.transform(o),o.scale(1/b.zoomX,1/b.zoomY),o.drawImage(b._cacheCanvas,-b.cacheTranslationX,-b.cacheTranslationY),o.restore()},_renderObjects:function(o,m){var b,_;for(b=0,_=m.length;b<_;++b)m[b]&&m[b].render(o)},_renderBackgroundOrOverlay:function(o,m){var b=this[m+"Color"],_=this[m+"Image"],T=this.viewportTransform,E=this[m+"Vpt"];if(!(!b&&!_)){if(b){o.save(),o.beginPath(),o.moveTo(0,0),o.lineTo(this.width,0),o.lineTo(this.width,this.height),o.lineTo(0,this.height),o.closePath(),o.fillStyle=b.toLive?b.toLive(o,this):b,E&&o.transform(T[0],T[1],T[2],T[3],T[4],T[5]),o.transform(1,0,0,1,b.offsetX||0,b.offsetY||0);var D=b.gradientTransform||b.patternTransform;D&&o.transform(D[0],D[1],D[2],D[3],D[4],D[5]),o.fill(),o.restore()}_&&(o.save(),E&&o.transform(T[0],T[1],T[2],T[3],T[4],T[5]),_.render(o),o.restore())}},_renderBackground:function(o){this._renderBackgroundOrOverlay(o,"background")},_renderOverlay:function(o){this._renderBackgroundOrOverlay(o,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new s.Point(this.width/2,this.height/2)},centerObjectH:function(o){return this._centerObject(o,new s.Point(this.getCenterPoint().x,o.getCenterPoint().y))},centerObjectV:function(o){return this._centerObject(o,new s.Point(o.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(o){var m=this.getCenterPoint();return this._centerObject(o,m)},viewportCenterObject:function(o){var m=this.getVpCenter();return this._centerObject(o,m)},viewportCenterObjectH:function(o){var m=this.getVpCenter();return this._centerObject(o,new s.Point(m.x,o.getCenterPoint().y)),this},viewportCenterObjectV:function(o){var m=this.getVpCenter();return this._centerObject(o,new s.Point(o.getCenterPoint().x,m.y))},getVpCenter:function(){var o=this.getCenterPoint(),m=l(this.viewportTransform);return a(o,m)},_centerObject:function(o,m){return o.setPositionByOrigin(m,"center","center"),o.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(o){return this.toDatalessObject(o)},toObject:function(o){return this._toObjectMethod("toObject",o)},toDatalessObject:function(o){return this._toObjectMethod("toDatalessObject",o)},_toObjectMethod:function(o,m){var b=this.clipPath,_={version:s.version,objects:this._toObjects(o,m)};return b&&!b.excludeFromExport&&(_.clipPath=this._toObject(this.clipPath,o,m)),p(_,this.__serializeBgOverlay(o,m)),s.util.populateWithProperties(this,_,m),_},_toObjects:function(o,m){return this._objects.filter(function(b){return!b.excludeFromExport}).map(function(b){return this._toObject(b,o,m)},this)},_toObject:function(o,m,b){var _;this.includeDefaultValues||(_=o.includeDefaultValues,o.includeDefaultValues=!1);var T=o[m](b);return this.includeDefaultValues||(o.includeDefaultValues=_),T},__serializeBgOverlay:function(o,m){var b={},_=this.backgroundImage,T=this.overlayImage,E=this.backgroundColor,D=this.overlayColor;return E&&E.toObject?E.excludeFromExport||(b.background=E.toObject(m)):E&&(b.background=E),D&&D.toObject?D.excludeFromExport||(b.overlay=D.toObject(m)):D&&(b.overlay=D),_&&!_.excludeFromExport&&(b.backgroundImage=this._toObject(_,o,m)),T&&!T.excludeFromExport&&(b.overlayImage=this._toObject(T,o,m)),b},svgViewportTransformation:!0,toSVG:function(o,m){o||(o={}),o.reviver=m;var b=[];return this._setSVGPreamble(b,o),this._setSVGHeader(b,o),this.clipPath&&b.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(b,"background"),this._setSVGBgOverlayImage(b,"backgroundImage",m),this._setSVGObjects(b,m),this.clipPath&&b.push(`</g>
`),this._setSVGBgOverlayColor(b,"overlay"),this._setSVGBgOverlayImage(b,"overlayImage",m),b.push("</svg>"),b.join("")},_setSVGPreamble:function(o,m){m.suppressPreamble||o.push('<?xml version="1.0" encoding="',m.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(o,m){var b=m.width||this.width,_=m.height||this.height,T,E='viewBox="0 0 '+this.width+" "+this.height+'" ',D=s.Object.NUM_FRACTION_DIGITS;m.viewBox?E='viewBox="'+m.viewBox.x+" "+m.viewBox.y+" "+m.viewBox.width+" "+m.viewBox.height+'" ':this.svgViewportTransformation&&(T=this.viewportTransform,E='viewBox="'+d(-T[4]/T[0],D)+" "+d(-T[5]/T[3],D)+" "+d(this.width/T[0],D)+" "+d(this.height/T[3],D)+'" '),o.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',b,'" ','height="',_,'" ',E,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",s.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(m),`</defs>
`)},createSVGClipPathMarkup:function(o){var m=this.clipPath;return m?(m.clipPathId="CLIPPATH_"+s.Object.__uid++,'<clipPath id="'+m.clipPathId+`" >
`+this.clipPath.toClipPathSVG(o.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var o=this,m=["background","overlay"].map(function(b){var _=o[b+"Color"];if(_&&_.toLive){var T=o[b+"Vpt"],E=o.viewportTransform,D={width:o.width/(T?E[0]:1),height:o.height/(T?E[3]:1)};return _.toSVG(D,{additionalTransform:T?s.util.matrixToSVG(E):""})}});return m.join("")},createSVGFontFacesMarkup:function(){var o="",m={},b,_,T,E,D,k,N,q,H,V=s.fontPaths,ee=[];for(this._objects.forEach(function re(fe){ee.push(fe),fe._objects&&fe._objects.forEach(re)}),q=0,H=ee.length;q<H;q++)if(b=ee[q],_=b.fontFamily,!(b.type.indexOf("text")===-1||m[_]||!V[_])&&(m[_]=!0,!!b.styles)){T=b.styles;for(D in T){E=T[D];for(N in E)k=E[N],_=k.fontFamily,!m[_]&&V[_]&&(m[_]=!0)}}for(var ce in m)o+=[`		@font-face {
`,"			font-family: '",ce,`';
`,"			src: url('",V[ce],`');
`,`		}
`].join("");return o&&(o=['	<style type="text/css">',`<![CDATA[
`,o,"]]>",`</style>
`].join("")),o},_setSVGObjects:function(o,m){var b,_,T,E=this._objects;for(_=0,T=E.length;_<T;_++)b=E[_],!b.excludeFromExport&&this._setSVGObject(o,b,m)},_setSVGObject:function(o,m,b){o.push(m.toSVG(b))},_setSVGBgOverlayImage:function(o,m,b){this[m]&&!this[m].excludeFromExport&&this[m].toSVG&&o.push(this[m].toSVG(b))},_setSVGBgOverlayColor:function(o,m){var b=this[m+"Color"],_=this.viewportTransform,T=this.width,E=this.height;if(b)if(b.toLive){var D=b.repeat,k=s.util.invertTransform(_),N=this[m+"Vpt"],q=N?s.util.matrixToSVG(k):"";o.push('<rect transform="'+q+" translate(",T/2,",",E/2,')"',' x="',b.offsetX-T/2,'" y="',b.offsetY-E/2,'" ','width="',D==="repeat-y"||D==="no-repeat"?b.source.width:T,'" height="',D==="repeat-x"||D==="no-repeat"?b.source.height:E,'" fill="url(#SVGID_'+b.id+')"',`></rect>
`)}else o.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',b,'"',`></rect>
`)},sendToBack:function(o){if(!o)return this;var m=this._activeObject,b,_,T;if(o===m&&o.type==="activeSelection")for(T=m._objects,b=T.length;b--;)_=T[b],h(this._objects,_),this._objects.unshift(_);else h(this._objects,o),this._objects.unshift(o);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(o){if(!o)return this;var m=this._activeObject,b,_,T;if(o===m&&o.type==="activeSelection")for(T=m._objects,b=0;b<T.length;b++)_=T[b],h(this._objects,_),this._objects.push(_);else h(this._objects,o),this._objects.push(o);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(o,m){if(!o)return this;var b=this._activeObject,_,T,E,D,k,N=0;if(o===b&&o.type==="activeSelection")for(k=b._objects,_=0;_<k.length;_++)T=k[_],E=this._objects.indexOf(T),E>0+N&&(D=E-1,h(this._objects,T),this._objects.splice(D,0,T)),N++;else E=this._objects.indexOf(o),E!==0&&(D=this._findNewLowerIndex(o,E,m),h(this._objects,o),this._objects.splice(D,0,o));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(o,m,b){var _,T;if(b)for(_=m,T=m-1;T>=0;--T){var E=o.intersectsWithObject(this._objects[T])||o.isContainedWithinObject(this._objects[T])||this._objects[T].isContainedWithinObject(o);if(E){_=T;break}}else _=m-1;return _},bringForward:function(o,m){if(!o)return this;var b=this._activeObject,_,T,E,D,k,N=0;if(o===b&&o.type==="activeSelection")for(k=b._objects,_=k.length;_--;)T=k[_],E=this._objects.indexOf(T),E<this._objects.length-1-N&&(D=E+1,h(this._objects,T),this._objects.splice(D,0,T)),N++;else E=this._objects.indexOf(o),E!==this._objects.length-1&&(D=this._findNewUpperIndex(o,E,m),h(this._objects,o),this._objects.splice(D,0,o));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(o,m,b){var _,T,E;if(b)for(_=m,T=m+1,E=this._objects.length;T<E;++T){var D=o.intersectsWithObject(this._objects[T])||o.isContainedWithinObject(this._objects[T])||this._objects[T].isContainedWithinObject(o);if(D){_=T;break}}else _=m+1;return _},moveTo:function(o,m){return h(this._objects,o),this._objects.splice(m,0,o),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(s.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(o){o.dispose&&o.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),s.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),s.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),p(s.StaticCanvas.prototype,s.Observable),p(s.StaticCanvas.prototype,s.Collection),p(s.StaticCanvas.prototype,s.DataURLExporter),p(s.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(o){var m=c();if(!m||!m.getContext)return null;var b=m.getContext("2d");return b&&o==="setLineDash"?typeof b.setLineDash<"u":null}}),s.StaticCanvas.prototype.toJSON=s.StaticCanvas.prototype.toObject,s.isLikelyNode&&(s.StaticCanvas.prototype.createPNGStream=function(){var o=r(this.lowerCanvasEl);return o&&o.createPNGStream()},s.StaticCanvas.prototype.createJPEGStream=function(o){var m=r(this.lowerCanvasEl);return m&&m.createJPEGStream(o)})})(),s.BaseBrush=s.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(p){p.strokeStyle=this.color,p.lineWidth=this.width,p.lineCap=this.strokeLineCap,p.miterLimit=this.strokeMiterLimit,p.lineJoin=this.strokeLineJoin,p.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(p){var n=this.canvas.viewportTransform;p.save(),p.transform(n[0],n[1],n[2],n[3],n[4],n[5])},_setShadow:function(){if(this.shadow){var p=this.canvas,n=this.shadow,h=p.contextTop,d=p.getZoom();p&&p._isRetinaScaling()&&(d*=s.devicePixelRatio),h.shadowColor=n.color,h.shadowBlur=n.blur*d,h.shadowOffsetX=n.offsetX*d,h.shadowOffsetY=n.offsetY*d}},needsFullRender:function(){var p=new s.Color(this.color);return p.getAlpha()<1||!!this.shadow},_resetShadow:function(){var p=this.canvas.contextTop;p.shadowColor="",p.shadowBlur=p.shadowOffsetX=p.shadowOffsetY=0},_isOutSideCanvas:function(p){return p.x<0||p.x>this.canvas.getWidth()||p.y<0||p.y>this.canvas.getHeight()}}),(function(){s.PencilBrush=s.util.createClass(s.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(p){this.canvas=p,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(p,n,h){var d=n.midPointFrom(h);return p.quadraticCurveTo(n.x,n.y,d.x,d.y),d},onMouseDown:function(p,n){this.canvas._isMainEvent(n.e)&&(this.drawStraightLine=n.e[this.straightLineKey],this._prepareForDrawing(p),this._captureDrawingPath(p),this._render())},onMouseMove:function(p,n){if(this.canvas._isMainEvent(n.e)&&(this.drawStraightLine=n.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(p))&&this._captureDrawingPath(p)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var h=this._points,d=h.length,a=this.canvas.contextTop;this._saveAndTransform(a),this.oldEnd&&(a.beginPath(),a.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(a,h[d-2],h[d-1],!0),a.stroke(),a.restore()}},onMouseUp:function(p){return this.canvas._isMainEvent(p.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(p){var n=new s.Point(p.x,p.y);this._reset(),this._addPoint(n),this.canvas.contextTop.moveTo(n.x,n.y)},_addPoint:function(p){return this._points.length>1&&p.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(p),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(p){var n=new s.Point(p.x,p.y);return this._addPoint(n)},_render:function(p){var n,h,d=this._points[0],a=this._points[1];if(p=p||this.canvas.contextTop,this._saveAndTransform(p),p.beginPath(),this._points.length===2&&d.x===a.x&&d.y===a.y){var l=this.width/1e3;d=new s.Point(d.x,d.y),a=new s.Point(a.x,a.y),d.x-=l,a.x+=l}for(p.moveTo(d.x,d.y),n=1,h=this._points.length;n<h;n++)this._drawSegment(p,d,a),d=this._points[n],a=this._points[n+1];p.lineTo(d.x,d.y),p.stroke(),p.restore()},convertPointsToSVGPath:function(p){var n=this.width/1e3;return s.util.getSmoothPathFromPoints(p,n)},_isEmptySVGPath:function(p){var n=s.util.joinPath(p);return n==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(p){var n=new s.Path(p,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,n.shadow=new s.Shadow(this.shadow)),n},decimatePoints:function(p,n){if(p.length<=2)return p;var h=this.canvas.getZoom(),d=Math.pow(n/h,2),a,l=p.length-1,r=p[0],c=[r],g;for(a=1;a<l-1;a++)g=Math.pow(r.x-p[a].x,2)+Math.pow(r.y-p[a].y,2),g>=d&&(r=p[a],c.push(r));return c.push(p[l]),c},_finalizeAndAddPath:function(){var p=this.canvas.contextTop;p.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var n=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(n)){this.canvas.requestRenderAll();return}var h=this.createPath(n);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.requestRenderAll(),h.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:h})}})})(),s.CircleBrush=s.util.createClass(s.BaseBrush,{width:10,initialize:function(p){this.canvas=p,this.points=[]},drawDot:function(p){var n=this.addPoint(p),h=this.canvas.contextTop;this._saveAndTransform(h),this.dot(h,n),h.restore()},dot:function(p,n){p.fillStyle=n.fill,p.beginPath(),p.arc(n.x,n.y,n.radius,0,Math.PI*2,!1),p.closePath(),p.fill()},onMouseDown:function(p){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(p)},_render:function(){var p=this.canvas.contextTop,n,h,d=this.points;for(this._saveAndTransform(p),n=0,h=d.length;n<h;n++)this.dot(p,d[n]);p.restore()},onMouseMove:function(p){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(p)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(p),this._render()):this.drawDot(p))},onMouseUp:function(){var p=this.canvas.renderOnAddRemove,n,h;this.canvas.renderOnAddRemove=!1;var d=[];for(n=0,h=this.points.length;n<h;n++){var a=this.points[n],l=new s.Circle({radius:a.radius,left:a.x,top:a.y,originX:"center",originY:"center",fill:a.fill});this.shadow&&(l.shadow=new s.Shadow(this.shadow)),d.push(l)}var r=new s.Group(d);r.canvas=this.canvas,this.canvas.fire("before:path:created",{path:r}),this.canvas.add(r),this.canvas.fire("path:created",{path:r}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=p,this.canvas.requestRenderAll()},addPoint:function(p){var n=new s.Point(p.x,p.y),h=s.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,d=new s.Color(this.color).setAlpha(s.util.getRandomInt(0,100)/100).toRgba();return n.radius=h,n.fill=d,this.points.push(n),n}}),s.SprayBrush=s.util.createClass(s.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(p){this.canvas=p,this.sprayChunks=[]},onMouseDown:function(p){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(p),this.render(this.sprayChunkPoints)},onMouseMove:function(p){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(p)||(this.addSprayChunk(p),this.render(this.sprayChunkPoints))},onMouseUp:function(){var p=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var n=[],h=0,d=this.sprayChunks.length;h<d;h++)for(var a=this.sprayChunks[h],l=0,r=a.length;l<r;l++){var c=new s.Rect({width:a[l].width,height:a[l].width,left:a[l].x+1,top:a[l].y+1,originX:"center",originY:"center",fill:this.color});n.push(c)}this.optimizeOverlapping&&(n=this._getOptimizedRects(n));var g=new s.Group(n);this.shadow&&g.set("shadow",new s.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:g}),this.canvas.add(g),this.canvas.fire("path:created",{path:g}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=p,this.canvas.requestRenderAll()},_getOptimizedRects:function(p){var n={},h,d,a;for(d=0,a=p.length;d<a;d++)h=p[d].left+""+p[d].top,n[h]||(n[h]=p[d]);var l=[];for(h in n)l.push(n[h]);return l},render:function(p){var n=this.canvas.contextTop,h,d;for(n.fillStyle=this.color,this._saveAndTransform(n),h=0,d=p.length;h<d;h++){var a=p[h];typeof a.opacity<"u"&&(n.globalAlpha=a.opacity),n.fillRect(a.x,a.y,a.width,a.width)}n.restore()},_render:function(){var p=this.canvas.contextTop,n,h;for(p.fillStyle=this.color,this._saveAndTransform(p),n=0,h=this.sprayChunks.length;n<h;n++)this.render(this.sprayChunks[n]);p.restore()},addSprayChunk:function(p){this.sprayChunkPoints=[];var n,h,d,a=this.width/2,l;for(l=0;l<this.density;l++){n=s.util.getRandomInt(p.x-a,p.x+a),h=s.util.getRandomInt(p.y-a,p.y+a),this.dotWidthVariance?d=s.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):d=this.dotWidth;var r=new s.Point(n,h);r.width=d,this.randomOpacity&&(r.opacity=s.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(r)}this.sprayChunks.push(this.sprayChunkPoints)}}),s.PatternBrush=s.util.createClass(s.PencilBrush,{getPatternSrc:function(){var p=20,n=5,h=s.util.createCanvasElement(),d=h.getContext("2d");return h.width=h.height=p+n,d.fillStyle=this.color,d.beginPath(),d.arc(p/2,p/2,p/2,0,Math.PI*2,!1),d.closePath(),d.fill(),h},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(p){return p.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(p){this.callSuper("_setBrushStyles",p),p.strokeStyle=this.getPattern(p)},createPath:function(p){var n=this.callSuper("createPath",p),h=n._getLeftTopCoords().scalarAdd(n.strokeWidth/2);return n.stroke=new s.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-h.x,offsetY:-h.y}),n}}),(function(){var p=s.util.getPointer,n=s.util.degreesToRadians,h=s.util.isTouchEvent;s.Canvas=s.util.createClass(s.StaticCanvas,{initialize:function(a,l){l||(l={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(a,l),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=s.PencilBrush&&new s.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var a=this.getActiveObjects(),l,r,c;if(a.length>0&&!this.preserveObjectStacking){r=[],c=[];for(var g=0,o=this._objects.length;g<o;g++)l=this._objects[g],a.indexOf(l)===-1?r.push(l):c.push(l);a.length>1&&(this._activeObject._objects=c),r.push.apply(r,c)}else r=this._objects;return r},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var a=this.contextContainer;return this.renderCanvas(a,this._chooseObjectsToRender()),this},renderTopLayer:function(a){a.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(a),this.contextTopDirty=!0),a.restore()},renderTop:function(){var a=this.contextTop;return this.clearContext(a),this.renderTopLayer(a),this.fire("after:render"),this},_normalizePointer:function(a,l){var r=a.calcTransformMatrix(),c=s.util.invertTransform(r),g=this.restorePointerVpt(l);return s.util.transformPoint(g,c)},isTargetTransparent:function(a,l,r){if(a.shouldCache()&&a._cacheCanvas&&a!==this._activeObject){var c=this._normalizePointer(a,{x:l,y:r}),g=Math.max(a.cacheTranslationX+c.x*a.zoomX,0),o=Math.max(a.cacheTranslationY+c.y*a.zoomY,0),T=s.util.isTransparent(a._cacheContext,Math.round(g),Math.round(o),this.targetFindTolerance);return T}var m=this.contextCache,b=a.selectionBackgroundColor,_=this.viewportTransform;a.selectionBackgroundColor="",this.clearContext(m),m.save(),m.transform(_[0],_[1],_[2],_[3],_[4],_[5]),a.render(m),m.restore(),a.selectionBackgroundColor=b;var T=s.util.isTransparent(m,l,r,this.targetFindTolerance);return T},_isSelectionKeyPressed:function(a){var l=!1;return Array.isArray(this.selectionKey)?l=!!this.selectionKey.find(function(r){return a[r]===!0}):l=a[this.selectionKey],l},_shouldClearSelection:function(a,l){var r=this.getActiveObjects(),c=this._activeObject;return!l||l&&c&&r.length>1&&r.indexOf(l)===-1&&c!==l&&!this._isSelectionKeyPressed(a)||l&&!l.evented||l&&!l.selectable&&c&&c!==l},_shouldCenterTransform:function(a,l,r){if(a){var c;return l==="scale"||l==="scaleX"||l==="scaleY"||l==="resizing"?c=this.centeredScaling||a.centeredScaling:l==="rotate"&&(c=this.centeredRotation||a.centeredRotation),c?!r:r}},_getOriginFromCorner:function(a,l){var r={x:a.originX,y:a.originY};return l==="ml"||l==="tl"||l==="bl"?r.x="right":(l==="mr"||l==="tr"||l==="br")&&(r.x="left"),l==="tl"||l==="mt"||l==="tr"?r.y="bottom":(l==="bl"||l==="mb"||l==="br")&&(r.y="top"),r},_getActionFromCorner:function(a,l,r,c){if(!l||!a)return"drag";var g=c.controls[l];return g.getActionName(r,g,c)},_setupCurrentTransform:function(a,l,r){if(l){var c=this.getPointer(a),g=l.__corner,o=l.controls[g],m=r&&g?o.getActionHandler(a,l,o):s.controlsUtils.dragHandler,b=this._getActionFromCorner(r,g,a,l),_=this._getOriginFromCorner(l,g),T=a[this.centeredKey],E={target:l,action:b,actionHandler:m,corner:g,scaleX:l.scaleX,scaleY:l.scaleY,skewX:l.skewX,skewY:l.skewY,offsetX:c.x-l.left,offsetY:c.y-l.top,originX:_.x,originY:_.y,ex:c.x,ey:c.y,lastX:c.x,lastY:c.y,theta:n(l.angle),width:l.width*l.scaleX,shiftKey:a.shiftKey,altKey:T,original:s.util.saveObjectTransform(l)};this._shouldCenterTransform(l,b,T)&&(E.originX="center",E.originY="center"),E.original.originX=_.x,E.original.originY=_.y,this._currentTransform=E,this._beforeTransform(a)}},setCursor:function(a){this.upperCanvasEl.style.cursor=a},_drawSelection:function(a){var l=this._groupSelector,r=new s.Point(l.ex,l.ey),c=s.util.transformPoint(r,this.viewportTransform),g=new s.Point(l.ex+l.left,l.ey+l.top),o=s.util.transformPoint(g,this.viewportTransform),m=Math.min(c.x,o.x),b=Math.min(c.y,o.y),_=Math.max(c.x,o.x),T=Math.max(c.y,o.y),E=this.selectionLineWidth/2;this.selectionColor&&(a.fillStyle=this.selectionColor,a.fillRect(m,b,_-m,T-b)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(a.lineWidth=this.selectionLineWidth,a.strokeStyle=this.selectionBorderColor,m+=E,b+=E,_-=E,T-=E,s.Object.prototype._setLineDash.call(this,a,this.selectionDashArray),a.strokeRect(m,b,_-m,T-b))},findTarget:function(a,l){if(!this.skipTargetFind){var r=!0,c=this.getPointer(a,r),g=this._activeObject,o=this.getActiveObjects(),m,b,_=h(a),T=o.length>1&&!l||o.length===1;if(this.targets=[],T&&g._findTargetCorner(c,_)||o.length>1&&!l&&g===this._searchPossibleTargets([g],c))return g;if(o.length===1&&g===this._searchPossibleTargets([g],c))if(this.preserveObjectStacking)m=g,b=this.targets,this.targets=[];else return g;var E=this._searchPossibleTargets(this._objects,c);return a[this.altSelectionKey]&&E&&m&&E!==m&&(E=m,this.targets=b),E}},_checkTarget:function(a,l,r){if(l&&l.visible&&l.evented&&l.containsPoint(a))if((this.perPixelTargetFind||l.perPixelTargetFind)&&!l.isEditing){var c=this.isTargetTransparent(l,r.x,r.y);if(!c)return!0}else return!0},_searchPossibleTargets:function(a,l){for(var r,c=a.length,g;c--;){var o=a[c],m=o.group?this._normalizePointer(o.group,l):l;if(this._checkTarget(m,o,l)){r=a[c],r.subTargetCheck&&r instanceof s.Group&&(g=this._searchPossibleTargets(r._objects,l),g&&this.targets.push(g));break}}return r},restorePointerVpt:function(a){return s.util.transformPoint(a,s.util.invertTransform(this.viewportTransform))},getPointer:function(a,l){if(this._absolutePointer&&!l)return this._absolutePointer;if(this._pointer&&l)return this._pointer;var r=p(a),c=this.upperCanvasEl,g=c.getBoundingClientRect(),o=g.width||0,m=g.height||0,b;(!o||!m)&&("top"in g&&"bottom"in g&&(m=Math.abs(g.top-g.bottom)),"right"in g&&"left"in g&&(o=Math.abs(g.right-g.left))),this.calcOffset(),r.x=r.x-this._offset.left,r.y=r.y-this._offset.top,l||(r=this.restorePointerVpt(r));var _=this.getRetinaScaling();return _!==1&&(r.x/=_,r.y/=_),o===0||m===0?b={width:1,height:1}:b={width:c.width/o,height:c.height/m},{x:r.x*b.width,y:r.y*b.height}},_createUpperCanvas:function(){var a=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),l=this.lowerCanvasEl,r=this.upperCanvasEl;r?r.className="":(r=this._createCanvasElement(),this.upperCanvasEl=r),s.util.addClass(r,"upper-canvas "+a),this.wrapperEl.appendChild(r),this._copyCanvasStyle(l,r),this._applyCanvasStyle(r),this.contextTop=r.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=s.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),s.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),s.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(a){var l=this.width||a.width,r=this.height||a.height;s.util.setStyle(a,{position:"absolute",width:l+"px",height:r+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),a.width=l,a.height=r,s.util.makeElementUnselectable(a)},_copyCanvasStyle:function(a,l){l.style.cssText=a.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var a=this._activeObject;return a?a.type==="activeSelection"&&a._objects?a._objects.slice(0):[a]:[]},_onObjectRemoved:function(a){a===this._activeObject&&(this.fire("before:selection:cleared",{target:a}),this._discardActiveObject(),this.fire("selection:cleared",{target:a}),a.fire("deselected")),a===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",a)},_fireSelectionEvents:function(a,l){var r=!1,c=this.getActiveObjects(),g=[],o=[];a.forEach(function(m){c.indexOf(m)===-1&&(r=!0,m.fire("deselected",{e:l,target:m}),o.push(m))}),c.forEach(function(m){a.indexOf(m)===-1&&(r=!0,m.fire("selected",{e:l,target:m}),g.push(m))}),a.length>0&&c.length>0?r&&this.fire("selection:updated",{e:l,selected:g,deselected:o}):c.length>0?this.fire("selection:created",{e:l,selected:g}):a.length>0&&this.fire("selection:cleared",{e:l,deselected:o})},setActiveObject:function(a,l){var r=this.getActiveObjects();return this._setActiveObject(a,l),this._fireSelectionEvents(r,l),this},_setActiveObject:function(a,l){return this._activeObject===a||!this._discardActiveObject(l,a)||a.onSelect({e:l})?!1:(this._activeObject=a,!0)},_discardActiveObject:function(a,l){var r=this._activeObject;if(r){if(r.onDeselect({e:a,object:l}))return!1;this._activeObject=null}return!0},discardActiveObject:function(a){var l=this.getActiveObjects(),r=this.getActiveObject();return l.length&&this.fire("before:selection:cleared",{target:r,e:a}),this._discardActiveObject(a),this._fireSelectionEvents(l,a),this},dispose:function(){var a=this.wrapperEl;return this.removeListeners(),a.removeChild(this.upperCanvasEl),a.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(l){s.util.cleanUpJsdomNode(this[l]),this[l]=void 0}).bind(this)),a.parentNode&&a.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,s.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(a){var l=this._activeObject;l&&l._renderControls(a)},_toObject:function(a,l,r){var c=this._realizeGroupTransformOnObject(a),g=this.callSuper("_toObject",a,l,r);return this._unwindGroupTransformOnObject(a,c),g},_realizeGroupTransformOnObject:function(a){if(a.group&&a.group.type==="activeSelection"&&this._activeObject===a.group){var l=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],r={};return l.forEach(function(c){r[c]=a[c]}),s.util.addTransformToObject(a,this._activeObject.calcOwnMatrix()),r}else return null},_unwindGroupTransformOnObject:function(a,l){l&&a.set(l)},_setSVGObject:function(a,l,r){var c=this._realizeGroupTransformOnObject(l);this.callSuper("_setSVGObject",a,l,r),this._unwindGroupTransformOnObject(l,c)},setViewportTransform:function(a){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),s.StaticCanvas.prototype.setViewportTransform.call(this,a)}});for(var d in s.StaticCanvas)d!=="prototype"&&(s.Canvas[d]=s.StaticCanvas[d])})(),(function(){var p=s.util.addListener,n=s.util.removeListener,h=3,d=2,a=1,l={passive:!1};function r(c,g){return c.button&&c.button===g-1}s.util.object.extend(s.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(p,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(c,g){var o=this.upperCanvasEl,m=this._getEventPrefix();c(s.window,"resize",this._onResize),c(o,m+"down",this._onMouseDown),c(o,m+"move",this._onMouseMove,l),c(o,m+"out",this._onMouseOut),c(o,m+"enter",this._onMouseEnter),c(o,"wheel",this._onMouseWheel),c(o,"contextmenu",this._onContextMenu),c(o,"dblclick",this._onDoubleClick),c(o,"dragover",this._onDragOver),c(o,"dragenter",this._onDragEnter),c(o,"dragleave",this._onDragLeave),c(o,"drop",this._onDrop),this.enablePointerEvents||c(o,"touchstart",this._onTouchStart,l),typeof eventjs<"u"&&g in eventjs&&(eventjs[g](o,"gesture",this._onGesture),eventjs[g](o,"drag",this._onDrag),eventjs[g](o,"orientation",this._onOrientationChange),eventjs[g](o,"shake",this._onShake),eventjs[g](o,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(n,"remove");var c=this._getEventPrefix();n(s.document,c+"up",this._onMouseUp),n(s.document,"touchend",this._onTouchEnd,l),n(s.document,c+"move",this._onMouseMove,l),n(s.document,"touchmove",this._onMouseMove,l)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(c,g){this.__onTransformGesture&&this.__onTransformGesture(c,g)},_onDrag:function(c,g){this.__onDrag&&this.__onDrag(c,g)},_onMouseWheel:function(c){this.__onMouseWheel(c)},_onMouseOut:function(c){var g=this._hoveredTarget;this.fire("mouse:out",{target:g,e:c}),this._hoveredTarget=null,g&&g.fire("mouseout",{e:c});var o=this;this._hoveredTargets.forEach(function(m){o.fire("mouse:out",{target:g,e:c}),m&&g.fire("mouseout",{e:c})}),this._hoveredTargets=[]},_onMouseEnter:function(c){!this._currentTransform&&!this.findTarget(c)&&(this.fire("mouse:over",{target:null,e:c}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(c,g){this.__onOrientationChange&&this.__onOrientationChange(c,g)},_onShake:function(c,g){this.__onShake&&this.__onShake(c,g)},_onLongPress:function(c,g){this.__onLongPress&&this.__onLongPress(c,g)},_onDragOver:function(c){c.preventDefault();var g=this._simpleEventHandler("dragover",c);this._fireEnterLeaveEvents(g,c)},_onDrop:function(c){return this._simpleEventHandler("drop:before",c),this._simpleEventHandler("drop",c)},_onContextMenu:function(c){return this.stopContextMenu&&(c.stopPropagation(),c.preventDefault()),!1},_onDoubleClick:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"dblclick"),this._resetTransformEventData(c)},getPointerId:function(c){var g=c.changedTouches;return g?g[0]&&g[0].identifier:this.enablePointerEvents?c.pointerId:-1},_isMainEvent:function(c){return c.isPrimary===!0?!0:c.isPrimary===!1?!1:c.type==="touchend"&&c.touches.length===0?!0:c.changedTouches?c.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(c){c.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(c)),this.__onMouseDown(c),this._resetTransformEventData();var g=this.upperCanvasEl,o=this._getEventPrefix();p(s.document,"touchend",this._onTouchEnd,l),p(s.document,"touchmove",this._onMouseMove,l),n(g,o+"down",this._onMouseDown)},_onMouseDown:function(c){this.__onMouseDown(c),this._resetTransformEventData();var g=this.upperCanvasEl,o=this._getEventPrefix();n(g,o+"move",this._onMouseMove,l),p(s.document,o+"up",this._onMouseUp),p(s.document,o+"move",this._onMouseMove,l)},_onTouchEnd:function(c){if(!(c.touches.length>0)){this.__onMouseUp(c),this._resetTransformEventData(),this.mainTouchId=null;var g=this._getEventPrefix();n(s.document,"touchend",this._onTouchEnd,l),n(s.document,"touchmove",this._onMouseMove,l);var o=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){p(o.upperCanvasEl,g+"down",o._onMouseDown),o._willAddMouseDown=0},400)}},_onMouseUp:function(c){this.__onMouseUp(c),this._resetTransformEventData();var g=this.upperCanvasEl,o=this._getEventPrefix();this._isMainEvent(c)&&(n(s.document,o+"up",this._onMouseUp),n(s.document,o+"move",this._onMouseMove,l),p(g,o+"move",this._onMouseMove,l))},_onMouseMove:function(c){!this.allowTouchScrolling&&c.preventDefault&&c.preventDefault(),this.__onMouseMove(c)},_onResize:function(){this.calcOffset()},_shouldRender:function(c){var g=this._activeObject;return!!g!=!!c||g&&c&&g!==c?!0:(g&&g.isEditing,!1)},__onMouseUp:function(c){var g,o=this._currentTransform,m=this._groupSelector,b=!1,_=!m||m.left===0&&m.top===0;if(this._cacheTransformEventData(c),g=this._target,this._handleEvent(c,"up:before"),r(c,h)){this.fireRightClick&&this._handleEvent(c,"up",h,_);return}if(r(c,d)){this.fireMiddleClick&&this._handleEvent(c,"up",d,_),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(c);return}if(this._isMainEvent(c)){if(o&&(this._finalizeCurrentTransform(c),b=o.actionPerformed),!_){var T=g===this._activeObject;this._maybeGroupObjects(c),b||(b=this._shouldRender(g)||!T&&g===this._activeObject)}var E,D;if(g){if(E=g._findTargetCorner(this.getPointer(c,!0),s.util.isTouchEvent(c)),g.selectable&&g!==this._activeObject&&g.activeOn==="up")this.setActiveObject(g,c),b=!0;else{var k=g.controls[E],N=k&&k.getMouseUpHandler(c,g,k);N&&(D=this.getPointer(c),N(c,o,D.x,D.y))}g.isMoving=!1}if(o&&(o.target!==g||o.corner!==E)){var q=o.target&&o.target.controls[o.corner],H=q&&q.getMouseUpHandler(c,g,k);D=D||this.getPointer(c),H&&H(c,o,D.x,D.y)}this._setCursorFromEvent(c,g),this._handleEvent(c,"up",a,_),this._groupSelector=null,this._currentTransform=null,g&&(g.__corner=0),b?this.requestRenderAll():_||this.renderTop()}},_simpleEventHandler:function(c,g){var o=this.findTarget(g),m=this.targets,b={e:g,target:o,subTargets:m};if(this.fire(c,b),o&&o.fire(c,b),!m)return o;for(var _=0;_<m.length;_++)m[_].fire(c,b);return o},_handleEvent:function(c,g,o,m){var b=this._target,_=this.targets||[],T={e:c,target:b,subTargets:_,button:o||a,isClick:m||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};g==="up"&&(T.currentTarget=this.findTarget(c),T.currentSubTargets=this.targets),this.fire("mouse:"+g,T),b&&b.fire("mouse"+g,T);for(var E=0;E<_.length;E++)_[E].fire("mouse"+g,T)},_finalizeCurrentTransform:function(c){var g=this._currentTransform,o=g.target,m={e:c,target:o,transform:g,action:g.action};o._scaling&&(o._scaling=!1),o.setCoords(),(g.actionPerformed||this.stateful&&o.hasStateChanged())&&this._fire("modified",m)},_onMouseDownInDrawingMode:function(c){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(c).requestRenderAll();var g=this.getPointer(c);this.freeDrawingBrush.onMouseDown(g,{e:c,pointer:g}),this._handleEvent(c,"down")},_onMouseMoveInDrawingMode:function(c){if(this._isCurrentlyDrawing){var g=this.getPointer(c);this.freeDrawingBrush.onMouseMove(g,{e:c,pointer:g})}this.setCursor(this.freeDrawingCursor),this._handleEvent(c,"move")},_onMouseUpInDrawingMode:function(c){var g=this.getPointer(c);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:c,pointer:g}),this._handleEvent(c,"up")},__onMouseDown:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"down:before");var g=this._target;if(r(c,h)){this.fireRightClick&&this._handleEvent(c,"down",h);return}if(r(c,d)){this.fireMiddleClick&&this._handleEvent(c,"down",d);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(c);return}if(this._isMainEvent(c)&&!this._currentTransform){var o=this._pointer;this._previousPointer=o;var m=this._shouldRender(g),b=this._shouldGroup(c,g);if(this._shouldClearSelection(c,g)?this.discardActiveObject(c):b&&(this._handleGrouping(c,g),g=this._activeObject),this.selection&&(!g||!g.selectable&&!g.isEditing&&g!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),g){var _=g===this._activeObject;g.selectable&&g.activeOn==="down"&&this.setActiveObject(g,c);var T=g._findTargetCorner(this.getPointer(c,!0),s.util.isTouchEvent(c));if(g.__corner=T,g===this._activeObject&&(T||!b)){this._setupCurrentTransform(c,g,_);var E=g.controls[T],o=this.getPointer(c),D=E&&E.getMouseDownHandler(c,g,E);D&&D(c,this._currentTransform,o.x,o.y)}}this._handleEvent(c,"down"),(m||b)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(c){this._resetTransformEventData(),this._pointer=this.getPointer(c,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(c)||null},_beforeTransform:function(c){var g=this._currentTransform;this.stateful&&g.target.saveState(),this.fire("before:transform",{e:c,transform:g})},__onMouseMove:function(c){this._handleEvent(c,"move:before"),this._cacheTransformEventData(c);var g,o;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(c);return}if(this._isMainEvent(c)){var m=this._groupSelector;m?(o=this._absolutePointer,m.left=o.x-m.ex,m.top=o.y-m.ey,this.renderTop()):this._currentTransform?this._transformObject(c):(g=this.findTarget(c)||null,this._setCursorFromEvent(c,g),this._fireOverOutEvents(g,c)),this._handleEvent(c,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(c,g){var o=this._hoveredTarget,m=this._hoveredTargets,b=this.targets,_=Math.max(m.length,b.length);this.fireSyntheticInOutEvents(c,g,{oldTarget:o,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var T=0;T<_;T++)this.fireSyntheticInOutEvents(b[T],g,{oldTarget:m[T],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=c,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(c,g){var o=this._draggedoverTarget,m=this._hoveredTargets,b=this.targets,_=Math.max(m.length,b.length);this.fireSyntheticInOutEvents(c,g,{oldTarget:o,evtOut:"dragleave",evtIn:"dragenter"});for(var T=0;T<_;T++)this.fireSyntheticInOutEvents(b[T],g,{oldTarget:m[T],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=c},fireSyntheticInOutEvents:function(c,g,o){var m,b,_=o.oldTarget,T,E,D=_!==c,k=o.canvasEvtIn,N=o.canvasEvtOut;D&&(m={e:g,target:c,previousTarget:_},b={e:g,target:_,nextTarget:c}),E=c&&D,T=_&&D,T&&(N&&this.fire(N,b),_.fire(o.evtOut,b)),E&&(k&&this.fire(k,m),c.fire(o.evtIn,m))},__onMouseWheel:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"wheel"),this._resetTransformEventData()},_transformObject:function(c){var g=this.getPointer(c),o=this._currentTransform;o.reset=!1,o.shiftKey=c.shiftKey,o.altKey=c[this.centeredKey],this._performTransformAction(c,o,g),o.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(c,g,o){var m=o.x,b=o.y,_=g.action,T=!1,E=g.actionHandler;E&&(T=E(c,g,m,b)),_==="drag"&&T&&(g.target.isMoving=!0,this.setCursor(g.target.moveCursor||this.moveCursor)),g.actionPerformed=g.actionPerformed||T},_fire:s.controlsUtils.fireEvent,_setCursorFromEvent:function(c,g){if(!g)return this.setCursor(this.defaultCursor),!1;var o=g.hoverCursor||this.hoverCursor,m=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,b=(!m||!m.contains(g))&&g._findTargetCorner(this.getPointer(c,!0));b?this.setCursor(this.getCornerCursor(b,g,c)):(g.subTargetCheck&&this.targets.concat().reverse().map(function(_){o=_.hoverCursor||o}),this.setCursor(o))},getCornerCursor:function(c,g,o){var m=g.controls[c];return m.cursorStyleHandler(o,m,g)}})})(),(function(){var p=Math.min,n=Math.max;s.util.object.extend(s.Canvas.prototype,{_shouldGroup:function(h,d){var a=this._activeObject;return a&&this._isSelectionKeyPressed(h)&&d&&d.selectable&&this.selection&&(a!==d||a.type==="activeSelection")&&!d.onSelect({e:h})},_handleGrouping:function(h,d){var a=this._activeObject;a.__corner||d===a&&(d=this.findTarget(h,!0),!d||!d.selectable)||(a&&a.type==="activeSelection"?this._updateActiveSelection(d,h):this._createActiveSelection(d,h))},_updateActiveSelection:function(h,d){var a=this._activeObject,l=a._objects.slice(0);a.contains(h)?(a.removeWithUpdate(h),this._hoveredTarget=h,this._hoveredTargets=this.targets.concat(),a.size()===1&&this._setActiveObject(a.item(0),d)):(a.addWithUpdate(h),this._hoveredTarget=a,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(l,d)},_createActiveSelection:function(h,d){var a=this.getActiveObjects(),l=this._createGroup(h);this._hoveredTarget=l,this._setActiveObject(l,d),this._fireSelectionEvents(a,d)},_createGroup:function(h){var d=this._objects,a=d.indexOf(this._activeObject)<d.indexOf(h),l=a?[this._activeObject,h]:[h,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new s.ActiveSelection(l,{canvas:this})},_groupSelectedObjects:function(h){var d=this._collectObjects(h),a;d.length===1?this.setActiveObject(d[0],h):d.length>1&&(a=new s.ActiveSelection(d.reverse(),{canvas:this}),this.setActiveObject(a,h))},_collectObjects:function(h){for(var d=[],a,l=this._groupSelector.ex,r=this._groupSelector.ey,c=l+this._groupSelector.left,g=r+this._groupSelector.top,o=new s.Point(p(l,c),p(r,g)),m=new s.Point(n(l,c),n(r,g)),b=!this.selectionFullyContained,_=l===c&&r===g,T=this._objects.length;T--&&(a=this._objects[T],!(!(!a||!a.selectable||!a.visible)&&(b&&a.intersectsWithRect(o,m,!0)||a.isContainedWithinRect(o,m,!0)||b&&a.containsPoint(o,null,!0)||b&&a.containsPoint(m,null,!0))&&(d.push(a),_))););return d.length>1&&(d=d.filter(function(E){return!E.onSelect({e:h})})),d},_maybeGroupObjects:function(h){this.selection&&this._groupSelector&&this._groupSelectedObjects(h),this.setCursor(this.defaultCursor),this._groupSelector=null}})})(),(function(){s.util.object.extend(s.StaticCanvas.prototype,{toDataURL:function(p){p||(p={});var n=p.format||"png",h=p.quality||1,d=(p.multiplier||1)*(p.enableRetinaScaling?this.getRetinaScaling():1),a=this.toCanvasElement(d,p);return s.util.toDataURL(a,n,h)},toCanvasElement:function(p,n){p=p||1,n=n||{};var h=(n.width||this.width)*p,d=(n.height||this.height)*p,a=this.getZoom(),l=this.width,r=this.height,c=a*p,g=this.viewportTransform,o=(g[4]-(n.left||0))*p,m=(g[5]-(n.top||0))*p,b=this.interactive,_=[c,0,0,c,o,m],T=this.enableRetinaScaling,E=s.util.createCanvasElement(),D=this.contextTop;return E.width=h,E.height=d,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=_,this.width=h,this.height=d,this.calcViewportBoundaries(),this.renderCanvas(E.getContext("2d"),this._objects),this.viewportTransform=g,this.width=l,this.height=r,this.calcViewportBoundaries(),this.interactive=b,this.enableRetinaScaling=T,this.contextTop=D,E}})})(),s.util.object.extend(s.StaticCanvas.prototype,{loadFromJSON:function(p,n,h){if(p){var d=typeof p=="string"?JSON.parse(p):s.util.object.clone(p),a=this,l=d.clipPath,r=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete d.clipPath,this._enlivenObjects(d.objects,function(c){a.clear(),a._setBgOverlay(d,function(){l?a._enlivenObjects([l],function(g){a.clipPath=g[0],a.__setupCanvas.call(a,d,c,r,n)}):a.__setupCanvas.call(a,d,c,r,n)})},h),this}},__setupCanvas:function(p,n,h,d){var a=this;n.forEach(function(l,r){a.insertAt(l,r)}),this.renderOnAddRemove=h,delete p.objects,delete p.backgroundImage,delete p.overlayImage,delete p.background,delete p.overlay,this._setOptions(p),this.renderAll(),d&&d()},_setBgOverlay:function(p,n){var h={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!p.backgroundImage&&!p.overlayImage&&!p.background&&!p.overlay){n&&n();return}var d=function(){h.backgroundImage&&h.overlayImage&&h.backgroundColor&&h.overlayColor&&n&&n()};this.__setBgOverlay("backgroundImage",p.backgroundImage,h,d),this.__setBgOverlay("overlayImage",p.overlayImage,h,d),this.__setBgOverlay("backgroundColor",p.background,h,d),this.__setBgOverlay("overlayColor",p.overlay,h,d)},__setBgOverlay:function(p,n,h,d){var a=this;if(!n){h[p]=!0,d&&d();return}p==="backgroundImage"||p==="overlayImage"?s.util.enlivenObjects([n],function(l){a[p]=l[0],h[p]=!0,d&&d()}):this["set"+s.util.string.capitalize(p,!0)](n,function(){h[p]=!0,d&&d()})},_enlivenObjects:function(p,n,h){if(!p||p.length===0){n&&n([]);return}s.util.enlivenObjects(p,function(d){n&&n(d)},null,h)},_toDataURL:function(p,n){this.clone(function(h){n(h.toDataURL(p))})},_toDataURLWithMultiplier:function(p,n,h){this.clone(function(d){h(d.toDataURLWithMultiplier(p,n))})},clone:function(p,n){var h=JSON.stringify(this.toJSON(n));this.cloneWithoutData(function(d){d.loadFromJSON(h,function(){p&&p(d)})})},cloneWithoutData:function(p){var n=s.util.createCanvasElement();n.width=this.width,n.height=this.height;var h=new s.Canvas(n);this.backgroundImage?(h.setBackgroundImage(this.backgroundImage.src,function(){h.renderAll(),p&&p(h)}),h.backgroundImageOpacity=this.backgroundImageOpacity,h.backgroundImageStretch=this.backgroundImageStretch):p&&p(h)}}),(function(p){var n=p.fabric||(p.fabric={}),h=n.util.object.extend,d=n.util.object.clone,a=n.util.toFixed,l=n.util.string.capitalize,r=n.util.degreesToRadians,c=!n.isLikelyNode,g=2;n.Object||(n.Object=n.util.createClass(n.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:c,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(o){o&&this.setOptions(o)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=n.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(o){var m=n.perfLimitSizeTotal,b=o.width,_=o.height,T=n.maxCacheSideLimit,E=n.minCacheSideLimit;if(b<=T&&_<=T&&b*_<=m)return b<E&&(o.width=E),_<E&&(o.height=E),o;var D=b/_,k=n.util.limitDimsByArea(D,m),N=n.util.capValue,q=N(E,k.x,T),H=N(E,k.y,T);return b>q&&(o.zoomX/=b/q,o.width=q,o.capped=!0),_>H&&(o.zoomY/=_/H,o.height=H,o.capped=!0),o},_getCacheCanvasDimensions:function(){var o=this.getTotalObjectScaling(),m=this._getTransformedDimensions(0,0),b=m.x*o.scaleX/this.scaleX,_=m.y*o.scaleY/this.scaleY;return{width:b+g,height:_+g,zoomX:o.scaleX,zoomY:o.scaleY,x:b,y:_}},_updateCacheCanvas:function(){var o=this.canvas;if(this.noScaleCache&&o&&o._currentTransform){var m=o._currentTransform.target,b=o._currentTransform.action;if(this===m&&b.slice&&b.slice(0,5)==="scale")return!1}var _=this._cacheCanvas,T=this._limitCacheSize(this._getCacheCanvasDimensions()),E=n.minCacheSideLimit,D=T.width,k=T.height,N,q,H=T.zoomX,V=T.zoomY,ee=D!==this.cacheWidth||k!==this.cacheHeight,ce=this.zoomX!==H||this.zoomY!==V,re=ee||ce,fe=0,I=0,J=!1;if(ee){var K=this._cacheCanvas.width,j=this._cacheCanvas.height,F=D>K||k>j,A=(D<K*.9||k<j*.9)&&K>E&&j>E;J=F||A,F&&!T.capped&&(D>E||k>E)&&(fe=D*.1,I=k*.1)}return this instanceof n.Text&&this.path&&(re=!0,J=!0,fe+=this.getHeightOfLine(0)*this.zoomX,I+=this.getHeightOfLine(0)*this.zoomY),re?(J?(_.width=Math.ceil(D+fe),_.height=Math.ceil(k+I)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,_.width,_.height)),N=T.x/2,q=T.y/2,this.cacheTranslationX=Math.round(_.width/2-N)+N,this.cacheTranslationY=Math.round(_.height/2-q)+q,this.cacheWidth=D,this.cacheHeight=k,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(H,V),this.zoomX=H,this.zoomY=V,!0):!1},setOptions:function(o){this._setOptions(o),this._initGradient(o.fill,"fill"),this._initGradient(o.stroke,"stroke"),this._initPattern(o.fill,"fill"),this._initPattern(o.stroke,"stroke")},transform:function(o){var m=this.group&&!this.group._transformDone||this.group&&this.canvas&&o===this.canvas.contextTop,b=this.calcTransformMatrix(!m);o.transform(b[0],b[1],b[2],b[3],b[4],b[5])},toObject:function(o){var m=n.Object.NUM_FRACTION_DIGITS,b={type:this.type,version:n.version,originX:this.originX,originY:this.originY,left:a(this.left,m),top:a(this.top,m),width:a(this.width,m),height:a(this.height,m),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:a(this.strokeWidth,m),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:a(this.strokeMiterLimit,m),scaleX:a(this.scaleX,m),scaleY:a(this.scaleY,m),angle:a(this.angle,m),flipX:this.flipX,flipY:this.flipY,opacity:a(this.opacity,m),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:a(this.skewX,m),skewY:a(this.skewY,m)};return this.clipPath&&!this.clipPath.excludeFromExport&&(b.clipPath=this.clipPath.toObject(o),b.clipPath.inverted=this.clipPath.inverted,b.clipPath.absolutePositioned=this.clipPath.absolutePositioned),n.util.populateWithProperties(this,b,o),this.includeDefaultValues||(b=this._removeDefaultValues(b)),b},toDatalessObject:function(o){return this.toObject(o)},_removeDefaultValues:function(o){var m=n.util.getKlass(o.type).prototype,b=m.stateProperties;return b.forEach(function(_){_==="left"||_==="top"||(o[_]===m[_]&&delete o[_],Array.isArray(o[_])&&Array.isArray(m[_])&&o[_].length===0&&m[_].length===0&&delete o[_])}),o},toString:function(){return"#<fabric."+l(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var o=n.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(o.scaleX),scaleY:Math.abs(o.scaleY)}},getTotalObjectScaling:function(){var o=this.getObjectScaling(),m=o.scaleX,b=o.scaleY;if(this.canvas){var _=this.canvas.getZoom(),T=this.canvas.getRetinaScaling();m*=_*T,b*=_*T}return{scaleX:m,scaleY:b}},getObjectOpacity:function(){var o=this.opacity;return this.group&&(o*=this.group.getObjectOpacity()),o},_set:function(o,m){var b=o==="scaleX"||o==="scaleY",_=this[o]!==m,T=!1;return b&&(m=this._constrainScale(m)),o==="scaleX"&&m<0?(this.flipX=!this.flipX,m*=-1):o==="scaleY"&&m<0?(this.flipY=!this.flipY,m*=-1):o==="shadow"&&m&&!(m instanceof n.Shadow)?m=new n.Shadow(m):o==="dirty"&&this.group&&this.group.set("dirty",m),this[o]=m,_&&(T=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(o)>-1?(this.dirty=!0,T&&this.group.set("dirty",!0)):T&&this.stateProperties.indexOf(o)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:n.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(o){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(o.save(),this._setupCompositeOperation(o),this.drawSelectionBackground(o),this.transform(o),this._setOpacity(o),this._setShadow(o,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(o)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(o),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),o.restore())},renderCache:function(o){o=o||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,o.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(o,m){if(o.save(),m.inverted?o.globalCompositeOperation="destination-out":o.globalCompositeOperation="destination-in",m.absolutePositioned){var b=n.util.invertTransform(this.calcTransformMatrix());o.transform(b[0],b[1],b[2],b[3],b[4],b[5])}m.transform(o),o.scale(1/m.zoomX,1/m.zoomY),o.drawImage(m._cacheCanvas,-m.cacheTranslationX,-m.cacheTranslationY),o.restore()},drawObject:function(o,m){var b=this.fill,_=this.stroke;m?(this.fill="black",this.stroke="",this._setClippingProperties(o)):this._renderBackground(o),this._render(o),this._drawClipPath(o,this.clipPath),this.fill=b,this.stroke=_},_drawClipPath:function(o,m){m&&(m.canvas=this.canvas,m.shouldCache(),m._transformDone=!0,m.renderCache({forClipping:!0}),this.drawClipPathOnCache(o,m))},drawCacheOnCanvas:function(o){o.scale(1/this.zoomX,1/this.zoomY),o.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(o){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!o&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!o){var m=this.cacheWidth/this.zoomX,b=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-m/2,-b/2,m,b)}return!0}return!1},_renderBackground:function(o){if(this.backgroundColor){var m=this._getNonTransformedDimensions();o.fillStyle=this.backgroundColor,o.fillRect(-m.x/2,-m.y/2,m.x,m.y),this._removeShadow(o)}},_setOpacity:function(o){this.group&&!this.group._transformDone?o.globalAlpha=this.getObjectOpacity():o.globalAlpha*=this.opacity},_setStrokeStyles:function(o,m){var b=m.stroke;b&&(o.lineWidth=m.strokeWidth,o.lineCap=m.strokeLineCap,o.lineDashOffset=m.strokeDashOffset,o.lineJoin=m.strokeLineJoin,o.miterLimit=m.strokeMiterLimit,b.toLive?b.gradientUnits==="percentage"||b.gradientTransform||b.patternTransform?this._applyPatternForTransformedGradient(o,b):(o.strokeStyle=b.toLive(o,this),this._applyPatternGradientTransform(o,b)):o.strokeStyle=m.stroke)},_setFillStyles:function(o,m){var b=m.fill;b&&(b.toLive?(o.fillStyle=b.toLive(o,this),this._applyPatternGradientTransform(o,m.fill)):o.fillStyle=b)},_setClippingProperties:function(o){o.globalAlpha=1,o.strokeStyle="transparent",o.fillStyle="#000000"},_setLineDash:function(o,m){!m||m.length===0||(1&m.length&&m.push.apply(m,m),o.setLineDash(m))},_renderControls:function(o,m){var b=this.getViewportTransform(),_=this.calcTransformMatrix(),T,E,D;m=m||{},E=typeof m.hasBorders<"u"?m.hasBorders:this.hasBorders,D=typeof m.hasControls<"u"?m.hasControls:this.hasControls,_=n.util.multiplyTransformMatrices(b,_),T=n.util.qrDecompose(_),o.save(),o.translate(T.translateX,T.translateY),o.lineWidth=1*this.borderScaleFactor,this.group||(o.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(T.angle-=180),o.rotate(r(this.group?T.angle:this.angle)),m.forActiveSelection||this.group?E&&this.drawBordersInGroup(o,T,m):E&&this.drawBorders(o,m),D&&this.drawControls(o,m),o.restore()},_setShadow:function(o){if(this.shadow){var m=this.shadow,b=this.canvas,_,T=b&&b.viewportTransform[0]||1,E=b&&b.viewportTransform[3]||1;m.nonScaling?_={scaleX:1,scaleY:1}:_=this.getObjectScaling(),b&&b._isRetinaScaling()&&(T*=n.devicePixelRatio,E*=n.devicePixelRatio),o.shadowColor=m.color,o.shadowBlur=m.blur*n.browserShadowBlurConstant*(T+E)*(_.scaleX+_.scaleY)/4,o.shadowOffsetX=m.offsetX*T*_.scaleX,o.shadowOffsetY=m.offsetY*E*_.scaleY}},_removeShadow:function(o){this.shadow&&(o.shadowColor="",o.shadowBlur=o.shadowOffsetX=o.shadowOffsetY=0)},_applyPatternGradientTransform:function(o,m){if(!m||!m.toLive)return{offsetX:0,offsetY:0};var b=m.gradientTransform||m.patternTransform,_=-this.width/2+m.offsetX||0,T=-this.height/2+m.offsetY||0;return m.gradientUnits==="percentage"?o.transform(this.width,0,0,this.height,_,T):o.transform(1,0,0,1,_,T),b&&o.transform(b[0],b[1],b[2],b[3],b[4],b[5]),{offsetX:_,offsetY:T}},_renderPaintInOrder:function(o){this.paintFirst==="stroke"?(this._renderStroke(o),this._renderFill(o)):(this._renderFill(o),this._renderStroke(o))},_render:function(){},_renderFill:function(o){this.fill&&(o.save(),this._setFillStyles(o,this),this.fillRule==="evenodd"?o.fill("evenodd"):o.fill(),o.restore())},_renderStroke:function(o){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(o),o.save(),this.strokeUniform&&this.group){var m=this.getObjectScaling();o.scale(1/m.scaleX,1/m.scaleY)}else this.strokeUniform&&o.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(o,this.strokeDashArray),this._setStrokeStyles(o,this),o.stroke(),o.restore()}},_applyPatternForTransformedGradient:function(o,m){var b=this._limitCacheSize(this._getCacheCanvasDimensions()),_=n.util.createCanvasElement(),T,E=this.canvas.getRetinaScaling(),D=b.x/this.scaleX/E,k=b.y/this.scaleY/E;_.width=D,_.height=k,T=_.getContext("2d"),T.beginPath(),T.moveTo(0,0),T.lineTo(D,0),T.lineTo(D,k),T.lineTo(0,k),T.closePath(),T.translate(D/2,k/2),T.scale(b.zoomX/this.scaleX/E,b.zoomY/this.scaleY/E),this._applyPatternGradientTransform(T,m),T.fillStyle=m.toLive(o),T.fill(),o.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),o.scale(E*this.scaleX/b.zoomX,E*this.scaleY/b.zoomY),o.strokeStyle=T.createPattern(_,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var o=n.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",o.scaleX),this.set("scaleY",o.scaleY),this.angle=o.angle,this.skewX=o.skewX,this.skewY=0}},_removeTransformMatrix:function(o){var m=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),m=n.util.transformPoint(m,this.transformMatrix)),this.transformMatrix=null,o&&(this.scaleX*=o.scaleX,this.scaleY*=o.scaleY,this.cropX=o.cropX,this.cropY=o.cropY,m.x+=o.offsetLeft,m.y+=o.offsetTop,this.width=o.width,this.height=o.height),this.setPositionByOrigin(m,"center","center")},clone:function(o,m){var b=this.toObject(m);this.constructor.fromObject?this.constructor.fromObject(b,o):n.Object._fromObject("Object",b,o)},cloneAsImage:function(o,m){var b=this.toCanvasElement(m);return o&&o(new n.Image(b)),this},toCanvasElement:function(o){o||(o={});var m=n.util,b=m.saveObjectTransform(this),_=this.group,T=this.shadow,E=Math.abs,D=(o.multiplier||1)*(o.enableRetinaScaling?n.devicePixelRatio:1);delete this.group,o.withoutTransform&&m.resetObjectTransform(this),o.withoutShadow&&(this.shadow=null);var k=n.util.createCanvasElement(),N=this.getBoundingRect(!0,!0),q=this.shadow,H,V={x:0,y:0},ee,ce,re;q&&(ee=q.blur,q.nonScaling?H={scaleX:1,scaleY:1}:H=this.getObjectScaling(),V.x=2*Math.round(E(q.offsetX)+ee)*E(H.scaleX),V.y=2*Math.round(E(q.offsetY)+ee)*E(H.scaleY)),ce=N.width+V.x,re=N.height+V.y,k.width=Math.ceil(ce),k.height=Math.ceil(re);var fe=new n.StaticCanvas(k,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});o.format==="jpeg"&&(fe.backgroundColor="#fff"),this.setPositionByOrigin(new n.Point(fe.width/2,fe.height/2),"center","center");var I=this.canvas;fe.add(this);var J=fe.toCanvasElement(D||1,o);return this.shadow=T,this.set("canvas",I),_&&(this.group=_),this.set(b).setCoords(),fe._objects=[],fe.dispose(),fe=null,J},toDataURL:function(o){return o||(o={}),n.util.toDataURL(this.toCanvasElement(o),o.format||"png",o.quality||1)},isType:function(o){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===o},complexity:function(){return 1},toJSON:function(o){return this.toObject(o)},rotate:function(o){var m=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return m&&this._setOriginToCenter(),this.set("angle",o),m&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(o,m){m=m||this.canvas.getPointer(o);var b=new n.Point(m.x,m.y),_=this._getLeftTopCoords();return this.angle&&(b=n.util.rotatePoint(b,_,r(-this.angle))),{x:b.x-_.x,y:b.y-_.y}},_setupCompositeOperation:function(o){this.globalCompositeOperation&&(o.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){n.runningAnimations&&n.runningAnimations.cancelByTarget(this)}}),n.util.createAccessors&&n.util.createAccessors(n.Object),h(n.Object.prototype,n.Observable),n.Object.NUM_FRACTION_DIGITS=2,n.Object.ENLIVEN_PROPS=["clipPath"],n.Object._fromObject=function(o,m,b,_){var T=n[o];m=d(m,!0),n.util.enlivenPatterns([m.fill,m.stroke],function(E){typeof E[0]<"u"&&(m.fill=E[0]),typeof E[1]<"u"&&(m.stroke=E[1]),n.util.enlivenObjectEnlivables(m,m,function(){var D=_?new T(m[_],m):new T(m);b&&b(D)})})},n.Object.__uid=0)})(u),(function(){var p=s.util.degreesToRadians,n={left:-.5,center:0,right:.5},h={top:-.5,center:0,bottom:.5};s.util.object.extend(s.Object.prototype,{translateToGivenOrigin:function(d,a,l,r,c){var g=d.x,o=d.y,m,b,_;return typeof a=="string"?a=n[a]:a-=.5,typeof r=="string"?r=n[r]:r-=.5,m=r-a,typeof l=="string"?l=h[l]:l-=.5,typeof c=="string"?c=h[c]:c-=.5,b=c-l,(m||b)&&(_=this._getTransformedDimensions(),g=d.x+m*_.x,o=d.y+b*_.y),new s.Point(g,o)},translateToCenterPoint:function(d,a,l){var r=this.translateToGivenOrigin(d,a,l,"center","center");return this.angle?s.util.rotatePoint(r,d,p(this.angle)):r},translateToOriginPoint:function(d,a,l){var r=this.translateToGivenOrigin(d,"center","center",a,l);return this.angle?s.util.rotatePoint(r,d,p(this.angle)):r},getCenterPoint:function(){var d=new s.Point(this.left,this.top);return this.translateToCenterPoint(d,this.originX,this.originY)},getPointByOrigin:function(d,a){var l=this.getCenterPoint();return this.translateToOriginPoint(l,d,a)},toLocalPoint:function(d,a,l){var r=this.getCenterPoint(),c,g;return typeof a<"u"&&typeof l<"u"?c=this.translateToGivenOrigin(r,"center","center",a,l):c=new s.Point(this.left,this.top),g=new s.Point(d.x,d.y),this.angle&&(g=s.util.rotatePoint(g,r,-p(this.angle))),g.subtractEquals(c)},setPositionByOrigin:function(d,a,l){var r=this.translateToCenterPoint(d,a,l),c=this.translateToOriginPoint(r,this.originX,this.originY);this.set("left",c.x),this.set("top",c.y)},adjustPosition:function(d){var a=p(this.angle),l=this.getScaledWidth(),r=s.util.cos(a)*l,c=s.util.sin(a)*l,g,o;typeof this.originX=="string"?g=n[this.originX]:g=this.originX-.5,typeof d=="string"?o=n[d]:o=d-.5,this.left+=r*(o-g),this.top+=c*(o-g),this.setCoords(),this.originX=d},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var d=this.getCenterPoint();this.originX="center",this.originY="center",this.left=d.x,this.top=d.y},_resetOrigin:function(){var d=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=d.x,this.top=d.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})})(),(function(){function p(l){return[new s.Point(l.tl.x,l.tl.y),new s.Point(l.tr.x,l.tr.y),new s.Point(l.br.x,l.br.y),new s.Point(l.bl.x,l.bl.y)]}var n=s.util,h=n.degreesToRadians,d=n.multiplyTransformMatrices,a=n.transformPoint;n.object.extend(s.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(l,r){return r?l?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),l?this.aCoords:this.lineCoords)},getCoords:function(l,r){return p(this._getCoords(l,r))},intersectsWithRect:function(l,r,c,g){var o=this.getCoords(c,g),m=s.Intersection.intersectPolygonRectangle(o,l,r);return m.status==="Intersection"},intersectsWithObject:function(l,r,c){var g=s.Intersection.intersectPolygonPolygon(this.getCoords(r,c),l.getCoords(r,c));return g.status==="Intersection"||l.isContainedWithinObject(this,r,c)||this.isContainedWithinObject(l,r,c)},isContainedWithinObject:function(l,r,c){for(var g=this.getCoords(r,c),o=r?l.aCoords:l.lineCoords,m=0,b=l._getImageLines(o);m<4;m++)if(!l.containsPoint(g[m],b))return!1;return!0},isContainedWithinRect:function(l,r,c,g){var o=this.getBoundingRect(c,g);return o.left>=l.x&&o.left+o.width<=r.x&&o.top>=l.y&&o.top+o.height<=r.y},containsPoint:function(l,m,c,g){var o=this._getCoords(c,g),m=m||this._getImageLines(o),b=this._findCrossPoints(l,m);return b!==0&&b%2===1},isOnScreen:function(l){if(!this.canvas)return!1;var r=this.canvas.vptCoords.tl,c=this.canvas.vptCoords.br,g=this.getCoords(!0,l);return g.some(function(o){return o.x<=c.x&&o.x>=r.x&&o.y<=c.y&&o.y>=r.y})||this.intersectsWithRect(r,c,!0,l)?!0:this._containsCenterOfCanvas(r,c,l)},_containsCenterOfCanvas:function(l,r,c){var g={x:(l.x+r.x)/2,y:(l.y+r.y)/2};return!!this.containsPoint(g,null,!0,c)},isPartiallyOnScreen:function(l){if(!this.canvas)return!1;var r=this.canvas.vptCoords.tl,c=this.canvas.vptCoords.br;if(this.intersectsWithRect(r,c,!0,l))return!0;var g=this.getCoords(!0,l).every(function(o){return(o.x>=c.x||o.x<=r.x)&&(o.y>=c.y||o.y<=r.y)});return g&&this._containsCenterOfCanvas(r,c,l)},_getImageLines:function(l){var r={topline:{o:l.tl,d:l.tr},rightline:{o:l.tr,d:l.br},bottomline:{o:l.br,d:l.bl},leftline:{o:l.bl,d:l.tl}};return r},_findCrossPoints:function(l,r){var c,g,o,m,b,_=0,T;for(var E in r)if(T=r[E],!(T.o.y<l.y&&T.d.y<l.y)&&!(T.o.y>=l.y&&T.d.y>=l.y)&&(T.o.x===T.d.x&&T.o.x>=l.x?b=T.o.x:(c=0,g=(T.d.y-T.o.y)/(T.d.x-T.o.x),o=l.y-c*l.x,m=T.o.y-g*T.o.x,b=-(o-m)/(c-g)),b>=l.x&&(_+=1),_===2))break;return _},getBoundingRect:function(l,r){var c=this.getCoords(l,r);return n.makeBoundingBoxFromPoints(c)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(l){return Math.abs(l)<this.minScaleLimit?l<0?-this.minScaleLimit:this.minScaleLimit:l===0?1e-4:l},scale:function(l){return this._set("scaleX",l),this._set("scaleY",l),this.setCoords()},scaleToWidth:function(l,r){var c=this.getBoundingRect(r).width/this.getScaledWidth();return this.scale(l/this.width/c)},scaleToHeight:function(l,r){var c=this.getBoundingRect(r).height/this.getScaledHeight();return this.scale(l/this.height/c)},calcLineCoords:function(){var l=this.getViewportTransform(),r=this.padding,c=h(this.angle),g=n.cos(c),o=n.sin(c),m=g*r,b=o*r,_=m+b,T=m-b,E=this.calcACoords(),D={tl:a(E.tl,l),tr:a(E.tr,l),bl:a(E.bl,l),br:a(E.br,l)};return r&&(D.tl.x-=T,D.tl.y-=_,D.tr.x+=_,D.tr.y-=T,D.bl.x-=_,D.bl.y+=T,D.br.x+=T,D.br.y+=_),D},calcOCoords:function(){var l=this._calcRotateMatrix(),r=this._calcTranslateMatrix(),c=this.getViewportTransform(),g=d(c,r),o=d(g,l),o=d(o,[1/c[0],0,0,1/c[3],0,0]),m=this._calculateCurrentDimensions(),b={};return this.forEachControl(function(_,T,E){b[T]=_.positionHandler(m,o,E)}),b},calcACoords:function(){var l=this._calcRotateMatrix(),r=this._calcTranslateMatrix(),c=d(r,l),g=this._getTransformedDimensions(),o=g.x/2,m=g.y/2;return{tl:a({x:-o,y:-m},c),tr:a({x:o,y:-m},c),bl:a({x:-o,y:m},c),br:a({x:o,y:m},c)}},setCoords:function(l){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),l?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return n.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var l=this.getCenterPoint();return[1,0,0,1,l.x,l.y]},transformMatrixKey:function(l){var r="_",c="";return!l&&this.group&&(c=this.group.transformMatrixKey(l)+r),c+this.top+r+this.left+r+this.scaleX+r+this.scaleY+r+this.skewX+r+this.skewY+r+this.angle+r+this.originX+r+this.originY+r+this.width+r+this.height+r+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(l){var r=this.calcOwnMatrix();if(l||!this.group)return r;var c=this.transformMatrixKey(l),g=this.matrixCache||(this.matrixCache={});return g.key===c?g.value:(this.group&&(r=d(this.group.calcTransformMatrix(!1),r)),g.key=c,g.value=r,r)},calcOwnMatrix:function(){var l=this.transformMatrixKey(!0),r=this.ownMatrixCache||(this.ownMatrixCache={});if(r.key===l)return r.value;var c=this._calcTranslateMatrix(),g={angle:this.angle,translateX:c[4],translateY:c[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return r.key=l,r.value=n.composeMatrix(g),r.value},_getNonTransformedDimensions:function(){var l=this.strokeWidth,r=this.width+l,c=this.height+l;return{x:r,y:c}},_getTransformedDimensions:function(l,r){typeof l>"u"&&(l=this.skewX),typeof r>"u"&&(r=this.skewY);var c,g,o,m=l===0&&r===0;if(this.strokeUniform?(g=this.width,o=this.height):(c=this._getNonTransformedDimensions(),g=c.x,o=c.y),m)return this._finalizeDimensions(g*this.scaleX,o*this.scaleY);var b=n.sizeAfterTransform(g,o,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:l,skewY:r});return this._finalizeDimensions(b.x,b.y)},_finalizeDimensions:function(l,r){return this.strokeUniform?{x:l+this.strokeWidth,y:r+this.strokeWidth}:{x:l,y:r}},_calculateCurrentDimensions:function(){var l=this.getViewportTransform(),r=this._getTransformedDimensions(),c=a(r,l,!0);return c.scalarAdd(2*this.padding)}})})(),s.util.object.extend(s.Object.prototype,{sendToBack:function(){return this.group?s.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?s.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(p){return this.group?s.StaticCanvas.prototype.sendBackwards.call(this.group,this,p):this.canvas&&this.canvas.sendBackwards(this,p),this},bringForward:function(p){return this.group?s.StaticCanvas.prototype.bringForward.call(this.group,this,p):this.canvas&&this.canvas.bringForward(this,p),this},moveTo:function(p){return this.group&&this.group.type!=="activeSelection"?s.StaticCanvas.prototype.moveTo.call(this.group,this,p):this.canvas&&this.canvas.moveTo(this,p),this}}),(function(){function p(h,d){if(d){if(d.toLive)return h+": url(#SVGID_"+d.id+"); ";var a=new s.Color(d),l=h+": "+a.toRgb()+"; ",r=a.getAlpha();return r!==1&&(l+=h+"-opacity: "+r.toString()+"; "),l}else return h+": none; "}var n=s.util.toFixed;s.util.object.extend(s.Object.prototype,{getSvgStyles:function(h){var d=this.fillRule?this.fillRule:"nonzero",a=this.strokeWidth?this.strokeWidth:"0",l=this.strokeDashArray?this.strokeDashArray.join(" "):"none",r=this.strokeDashOffset?this.strokeDashOffset:"0",c=this.strokeLineCap?this.strokeLineCap:"butt",g=this.strokeLineJoin?this.strokeLineJoin:"miter",o=this.strokeMiterLimit?this.strokeMiterLimit:"4",m=typeof this.opacity<"u"?this.opacity:"1",b=this.visible?"":" visibility: hidden;",_=h?"":this.getSvgFilter(),T=p("fill",this.fill),E=p("stroke",this.stroke);return[E,"stroke-width: ",a,"; ","stroke-dasharray: ",l,"; ","stroke-linecap: ",c,"; ","stroke-dashoffset: ",r,"; ","stroke-linejoin: ",g,"; ","stroke-miterlimit: ",o,"; ",T,"fill-rule: ",d,"; ","opacity: ",m,";",_,b].join("")},getSvgSpanStyles:function(h,d){var a="; ",r=h.fontFamily?"font-family: "+(h.fontFamily.indexOf("'")===-1&&h.fontFamily.indexOf('"')===-1?"'"+h.fontFamily+"'":h.fontFamily)+a:"",l=h.strokeWidth?"stroke-width: "+h.strokeWidth+a:"",r=r,c=h.fontSize?"font-size: "+h.fontSize+"px"+a:"",g=h.fontStyle?"font-style: "+h.fontStyle+a:"",o=h.fontWeight?"font-weight: "+h.fontWeight+a:"",m=h.fill?p("fill",h.fill):"",b=h.stroke?p("stroke",h.stroke):"",_=this.getSvgTextDecoration(h),T=h.deltaY?"baseline-shift: "+-h.deltaY+"; ":"";return _&&(_="text-decoration: "+_+a),[b,l,r,c,g,o,_,m,T,d?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(h){return["overline","underline","line-through"].filter(function(d){return h[d.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(h,d){var a=h?this.calcTransformMatrix():this.calcOwnMatrix(),l='transform="'+s.util.matrixToSVG(a);return l+(d||"")+'" '},_setSVGBg:function(h){if(this.backgroundColor){var d=s.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',n(-this.width/2,d),'" y="',n(-this.height/2,d),'" width="',n(this.width,d),'" height="',n(this.height,d),`"></rect>
`)}},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(h),{reviver:h})},toClipPathSVG:function(h){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(h),{reviver:h})},_createBaseClipPathSVGMarkup:function(h,d){d=d||{};var a=d.reviver,l=d.additionalTransform||"",r=[this.getSvgTransform(!0,l),this.getSvgCommons()].join(""),c=h.indexOf("COMMON_PARTS");return h[c]=r,a?a(h.join("")):h.join("")},_createBaseSVGMarkup:function(h,d){d=d||{};var a=d.noStyle,l=d.reviver,r=a?"":'style="'+this.getSvgStyles()+'" ',c=d.withShadow?'style="'+this.getSvgFilter()+'" ':"",g=this.clipPath,o=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",m=g&&g.absolutePositioned,b=this.stroke,_=this.fill,T=this.shadow,E,D=[],k,N=h.indexOf("COMMON_PARTS"),q=d.additionalTransform;return g&&(g.clipPathId="CLIPPATH_"+s.Object.__uid++,k='<clipPath id="'+g.clipPathId+`" >
`+g.toClipPathSVG(l)+`</clipPath>
`),m&&D.push("<g ",c,this.getSvgCommons(),` >
`),D.push("<g ",this.getSvgTransform(!1),m?"":c+this.getSvgCommons(),` >
`),E=[r,o,a?"":this.addPaintOrder()," ",q?'transform="'+q+'" ':""].join(""),h[N]=E,_&&_.toLive&&D.push(_.toSVG(this)),b&&b.toLive&&D.push(b.toSVG(this)),T&&D.push(T.toSVG(this)),g&&D.push(k),D.push(h.join("")),D.push(`</g>
`),m&&D.push(`</g>
`),l?l(D.join("")):D.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})})(),(function(){var p=s.util.object.extend,n="stateProperties";function h(a,l,r){var c={},g=!0;r.forEach(function(o){c[o]=a[o]}),p(a[l],c,g)}function d(a,l,r){if(a===l)return!0;if(Array.isArray(a)){if(!Array.isArray(l)||a.length!==l.length)return!1;for(var c=0,g=a.length;c<g;c++)if(!d(a[c],l[c]))return!1;return!0}else if(a&&typeof a=="object"){var o=Object.keys(a),m;if(!l||typeof l!="object"||!r&&o.length!==Object.keys(l).length)return!1;for(var c=0,g=o.length;c<g;c++)if(m=o[c],!(m==="canvas"||m==="group")&&!d(a[m],l[m]))return!1;return!0}}s.util.object.extend(s.Object.prototype,{hasStateChanged:function(a){a=a||n;var l="_"+a;return Object.keys(this[l]).length<this[a].length?!0:!d(this[l],this,!0)},saveState:function(a){var l=a&&a.propertySet||n,r="_"+l;return this[r]?(h(this,r,this[l]),a&&a.stateProperties&&h(this,r,a.stateProperties),this):this.setupState(a)},setupState:function(a){a=a||{};var l=a.propertySet||n;return a.propertySet=l,this["_"+l]={},this.saveState(a),this}})})(),(function(){var p=s.util.degreesToRadians;s.util.object.extend(s.Object.prototype,{_findTargetCorner:function(n,h){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var d=n.x,a=n.y,l,r,c=Object.keys(this.oCoords),g=c.length-1,o;for(this.__corner=0;g>=0;g--)if(o=c[g],!!this.isControlVisible(o)&&(r=this._getImageLines(h?this.oCoords[o].touchCorner:this.oCoords[o].corner),l=this._findCrossPoints({x:d,y:a},r),l!==0&&l%2===1))return this.__corner=o,o;return!1},forEachControl:function(n){for(var h in this.controls)n(this.controls[h],h,this)},_setCornerCoords:function(){var n=this.oCoords;for(var h in n){var d=this.controls[h];n[h].corner=d.calcCornerCoords(this.angle,this.cornerSize,n[h].x,n[h].y,!1),n[h].touchCorner=d.calcCornerCoords(this.angle,this.touchCornerSize,n[h].x,n[h].y,!0)}},drawSelectionBackground:function(n){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;n.save();var h=this.getCenterPoint(),d=this._calculateCurrentDimensions(),a=this.canvas.viewportTransform;return n.translate(h.x,h.y),n.scale(1/a[0],1/a[3]),n.rotate(p(this.angle)),n.fillStyle=this.selectionBackgroundColor,n.fillRect(-d.x/2,-d.y/2,d.x,d.y),n.restore(),this},drawBorders:function(n,h){h=h||{};var d=this._calculateCurrentDimensions(),a=this.borderScaleFactor,l=d.x+a,r=d.y+a,c=typeof h.hasControls<"u"?h.hasControls:this.hasControls,g=!1;return n.save(),n.strokeStyle=h.borderColor||this.borderColor,this._setLineDash(n,h.borderDashArray||this.borderDashArray),n.strokeRect(-l/2,-r/2,l,r),c&&(n.beginPath(),this.forEachControl(function(o,m,b){o.withConnection&&o.getVisibility(b,m)&&(g=!0,n.moveTo(o.x*l,o.y*r),n.lineTo(o.x*l+o.offsetX,o.y*r+o.offsetY))}),g&&n.stroke()),n.restore(),this},drawBordersInGroup:function(n,h,d){d=d||{};var a=s.util.sizeAfterTransform(this.width,this.height,h),l=this.strokeWidth,r=this.strokeUniform,c=this.borderScaleFactor,g=a.x+l*(r?this.canvas.getZoom():h.scaleX)+c,o=a.y+l*(r?this.canvas.getZoom():h.scaleY)+c;return n.save(),this._setLineDash(n,d.borderDashArray||this.borderDashArray),n.strokeStyle=d.borderColor||this.borderColor,n.strokeRect(-g/2,-o/2,g,o),n.restore(),this},drawControls:function(n,h){h=h||{},n.save();var d=this.canvas.getRetinaScaling(),a,l;return n.setTransform(d,0,0,d,0,0),n.strokeStyle=n.fillStyle=h.cornerColor||this.cornerColor,this.transparentCorners||(n.strokeStyle=h.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(n,h.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(a=this.group.calcTransformMatrix()),this.forEachControl(function(r,c,g){l=g.oCoords[c],r.getVisibility(g,c)&&(a&&(l=s.util.transformPoint(l,a)),r.render(n,l.x,l.y,h,g))}),n.restore(),this},isControlVisible:function(n){return this.controls[n]&&this.controls[n].getVisibility(this,n)},setControlVisible:function(n,h){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[n]=h,this},setControlsVisibility:function(n){n||(n={});for(var h in n)this.setControlVisible(h,n[h]);return this},onDeselect:function(){},onSelect:function(){}})})(),s.util.object.extend(s.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(p,n){n=n||{};var h=function(){},d=n.onComplete||h,a=n.onChange||h,l=this;return s.util.animate({target:this,startValue:p.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(r){p.set("left",r),l.requestRenderAll(),a()},onComplete:function(){p.setCoords(),d()}})},fxCenterObjectV:function(p,n){n=n||{};var h=function(){},d=n.onComplete||h,a=n.onChange||h,l=this;return s.util.animate({target:this,startValue:p.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(r){p.set("top",r),l.requestRenderAll(),a()},onComplete:function(){p.setCoords(),d()}})},fxRemove:function(p,n){n=n||{};var h=function(){},d=n.onComplete||h,a=n.onChange||h,l=this;return s.util.animate({target:this,startValue:p.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(r){p.set("opacity",r),l.requestRenderAll(),a()},onComplete:function(){l.remove(p),d()}})}}),s.util.object.extend(s.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var p=[],n,h,d=[];for(n in arguments[0])p.push(n);for(var a=0,l=p.length;a<l;a++)n=p[a],h=a!==l-1,d.push(this._animate(n,arguments[0][n],arguments[1],h));return d}else return this._animate.apply(this,arguments)},_animate:function(p,n,h,d){var a=this,l;n=n.toString(),h?h=s.util.object.clone(h):h={},~p.indexOf(".")&&(l=p.split("."));var r=a.colorProperties.indexOf(p)>-1||l&&a.colorProperties.indexOf(l[1])>-1,c=l?this.get(l[0])[l[1]]:this.get(p);"from"in h||(h.from=c),r||(~n.indexOf("=")?n=c+parseFloat(n.replace("=","")):n=parseFloat(n));var g={target:this,startValue:h.from,endValue:n,byValue:h.by,easing:h.easing,duration:h.duration,abort:h.abort&&function(o,m,b){return h.abort.call(a,o,m,b)},onChange:function(o,m,b){l?a[l[0]][l[1]]=o:a.set(p,o),!d&&h.onChange&&h.onChange(o,m,b)},onComplete:function(o,m,b){d||(a.setCoords(),h.onComplete&&h.onComplete(o,m,b))}};return r?s.util.animateColor(g.startValue,g.endValue,g.duration,g):s.util.animate(g)}}),(function(p){var n=p.fabric||(p.fabric={}),h=n.util.object.extend,d=n.util.object.clone,a={x1:1,x2:1,y1:1,y2:1};if(n.Line){n.warn("fabric.Line is already defined");return}n.Line=n.util.createClass(n.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:n.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(r,c){r||(r=[0,0,0,0]),this.callSuper("initialize",c),this.set("x1",r[0]),this.set("y1",r[1]),this.set("x2",r[2]),this.set("y2",r[3]),this._setWidthHeight(c)},_setWidthHeight:function(r){r||(r={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in r?r.left:this._getLeftToOriginX(),this.top="top"in r?r.top:this._getTopToOriginY()},_set:function(r,c){return this.callSuper("_set",r,c),typeof a[r]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:l({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:l({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(r){r.beginPath();var c=this.calcLinePoints();r.moveTo(c.x1,c.y1),r.lineTo(c.x2,c.y2),r.lineWidth=this.strokeWidth;var g=r.strokeStyle;r.strokeStyle=this.stroke||r.fillStyle,this.stroke&&this._renderStroke(r),r.strokeStyle=g},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(r){return h(this.callSuper("toObject",r),this.calcLinePoints())},_getNonTransformedDimensions:function(){var r=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(r.y-=this.strokeWidth),this.height===0&&(r.x-=this.strokeWidth)),r},calcLinePoints:function(){var r=this.x1<=this.x2?-1:1,c=this.y1<=this.y2?-1:1,g=r*this.width*.5,o=c*this.height*.5,m=r*this.width*-.5,b=c*this.height*-.5;return{x1:g,x2:m,y1:o,y2:b}},_toSVG:function(){var r=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',r.x1,'" y1="',r.y1,'" x2="',r.x2,'" y2="',r.y2,`" />
`]}}),n.Line.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),n.Line.fromElement=function(r,c,g){g=g||{};var o=n.parseAttributes(r,n.Line.ATTRIBUTE_NAMES),m=[o.x1||0,o.y1||0,o.x2||0,o.y2||0];c(new n.Line(m,h(o,g)))},n.Line.fromObject=function(r,c){function g(m){delete m.points,c&&c(m)}var o=d(r,!0);o.points=[r.x1,r.y1,r.x2,r.y2],n.Object._fromObject("Line",o,g,"points")};function l(r,c){var g=r.origin,o=r.axis1,m=r.axis2,b=r.dimension,_=c.nearest,T=c.center,E=c.farthest;return function(){switch(this.get(g)){case _:return Math.min(this.get(o),this.get(m));case T:return Math.min(this.get(o),this.get(m))+.5*this.get(b);case E:return Math.max(this.get(o),this.get(m))}}}})(u),(function(p){var n=p.fabric||(p.fabric={}),h=n.util.degreesToRadians;if(n.Circle){n.warn("fabric.Circle is already defined.");return}n.Circle=n.util.createClass(n.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:n.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(a,l){return this.callSuper("_set",a,l),a==="radius"&&this.setRadius(l),this},toObject:function(a){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(a))},_toSVG:function(){var a,l=0,r=0,c=(this.endAngle-this.startAngle)%360;if(c===0)a=["<circle ","COMMON_PARTS",'cx="'+l+'" cy="'+r+'" ','r="',this.radius,`" />
`];else{var g=h(this.startAngle),o=h(this.endAngle),m=this.radius,b=n.util.cos(g)*m,_=n.util.sin(g)*m,T=n.util.cos(o)*m,E=n.util.sin(o)*m,D=c>180?"1":"0";a=['<path d="M '+b+" "+_," A "+m+" "+m," 0 ",+D+" 1"," "+T+" "+E,'" ',"COMMON_PARTS",` />
`]}return a},_render:function(a){a.beginPath(),a.arc(0,0,this.radius,h(this.startAngle),h(this.endAngle),!1),this._renderPaintInOrder(a)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(a){return this.radius=a,this.set("width",a*2).set("height",a*2)}}),n.Circle.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),n.Circle.fromElement=function(a,l){var r=n.parseAttributes(a,n.Circle.ATTRIBUTE_NAMES);if(!d(r))throw new Error("value of `r` attribute is required and can not be negative");r.left=(r.left||0)-r.radius,r.top=(r.top||0)-r.radius,l(new n.Circle(r))};function d(a){return"radius"in a&&a.radius>=0}n.Circle.fromObject=function(a,l){n.Object._fromObject("Circle",a,l)}})(u),(function(p){var n=p.fabric||(p.fabric={});if(n.Triangle){n.warn("fabric.Triangle is already defined");return}n.Triangle=n.util.createClass(n.Object,{type:"triangle",width:100,height:100,_render:function(h){var d=this.width/2,a=this.height/2;h.beginPath(),h.moveTo(-d,a),h.lineTo(0,-a),h.lineTo(d,a),h.closePath(),this._renderPaintInOrder(h)},_toSVG:function(){var h=this.width/2,d=this.height/2,a=[-h+" "+d,"0 "+-d,h+" "+d].join(",");return["<polygon ","COMMON_PARTS",'points="',a,'" />']}}),n.Triangle.fromObject=function(h,d){return n.Object._fromObject("Triangle",h,d)}})(u),(function(p){var n=p.fabric||(p.fabric={}),h=Math.PI*2;if(n.Ellipse){n.warn("fabric.Ellipse is already defined.");return}n.Ellipse=n.util.createClass(n.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:n.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(d){this.callSuper("initialize",d),this.set("rx",d&&d.rx||0),this.set("ry",d&&d.ry||0)},_set:function(d,a){switch(this.callSuper("_set",d,a),d){case"rx":this.rx=a,this.set("width",a*2);break;case"ry":this.ry=a,this.set("height",a*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(d){return this.callSuper("toObject",["rx","ry"].concat(d))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(d){d.beginPath(),d.save(),d.transform(1,0,0,this.ry/this.rx,0,0),d.arc(0,0,this.rx,0,h,!1),d.restore(),this._renderPaintInOrder(d)}}),n.Ellipse.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),n.Ellipse.fromElement=function(d,a){var l=n.parseAttributes(d,n.Ellipse.ATTRIBUTE_NAMES);l.left=(l.left||0)-l.rx,l.top=(l.top||0)-l.ry,a(new n.Ellipse(l))},n.Ellipse.fromObject=function(d,a){n.Object._fromObject("Ellipse",d,a)}})(u),(function(p){var n=p.fabric||(p.fabric={}),h=n.util.object.extend;if(n.Rect){n.warn("fabric.Rect is already defined");return}n.Rect=n.util.createClass(n.Object,{stateProperties:n.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:n.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(d){this.callSuper("initialize",d),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(d){var a=this.rx?Math.min(this.rx,this.width/2):0,l=this.ry?Math.min(this.ry,this.height/2):0,r=this.width,c=this.height,g=-this.width/2,o=-this.height/2,m=a!==0||l!==0,b=1-.5522847498;d.beginPath(),d.moveTo(g+a,o),d.lineTo(g+r-a,o),m&&d.bezierCurveTo(g+r-b*a,o,g+r,o+b*l,g+r,o+l),d.lineTo(g+r,o+c-l),m&&d.bezierCurveTo(g+r,o+c-b*l,g+r-b*a,o+c,g+r-a,o+c),d.lineTo(g+a,o+c),m&&d.bezierCurveTo(g+b*a,o+c,g,o+c-b*l,g,o+c-l),d.lineTo(g,o+l),m&&d.bezierCurveTo(g,o+b*l,g+b*a,o,g+a,o),d.closePath(),this._renderPaintInOrder(d)},toObject:function(d){return this.callSuper("toObject",["rx","ry"].concat(d))},_toSVG:function(){var d=-this.width/2,a=-this.height/2;return["<rect ","COMMON_PARTS",'x="',d,'" y="',a,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),n.Rect.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),n.Rect.fromElement=function(d,a,l){if(!d)return a(null);l=l||{};var r=n.parseAttributes(d,n.Rect.ATTRIBUTE_NAMES);r.left=r.left||0,r.top=r.top||0,r.height=r.height||0,r.width=r.width||0;var c=new n.Rect(h(l?n.util.object.clone(l):{},r));c.visible=c.visible&&c.width>0&&c.height>0,a(c)},n.Rect.fromObject=function(d,a){return n.Object._fromObject("Rect",d,a)}})(u),(function(p){var n=p.fabric||(p.fabric={}),h=n.util.object.extend,d=n.util.array.min,a=n.util.array.max,l=n.util.toFixed,r=n.util.projectStrokeOnPoints;if(n.Polyline){n.warn("fabric.Polyline is already defined");return}n.Polyline=n.util.createClass(n.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:n.Object.prototype.cacheProperties.concat("points"),initialize:function(c,g){g=g||{},this.points=c||[],this.callSuper("initialize",g),this._setPositionDimensions(g)},_projectStrokeOnPoints:function(){return r(this.points,this,!0)},_setPositionDimensions:function(c){var g=this._calcDimensions(c),o,m=this.exactBoundingBox?this.strokeWidth:0;this.width=g.width-m,this.height=g.height-m,c.fromSVG||(o=this.translateToGivenOrigin({x:g.left-this.strokeWidth/2+m/2,y:g.top-this.strokeWidth/2+m/2},"left","top",this.originX,this.originY)),typeof c.left>"u"&&(this.left=c.fromSVG?g.left:o.x),typeof c.top>"u"&&(this.top=c.fromSVG?g.top:o.y),this.pathOffset={x:g.left+this.width/2+m/2,y:g.top+this.height/2+m/2}},_calcDimensions:function(){var c=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,g=d(c,"x")||0,o=d(c,"y")||0,m=a(c,"x")||0,b=a(c,"y")||0,_=m-g,T=b-o;return{left:g,top:o,width:_,height:T}},toObject:function(c){return h(this.callSuper("toObject",c),{points:this.points.concat()})},_toSVG:function(){for(var c=[],g=this.pathOffset.x,o=this.pathOffset.y,m=n.Object.NUM_FRACTION_DIGITS,b=0,_=this.points.length;b<_;b++)c.push(l(this.points[b].x-g,m),",",l(this.points[b].y-o,m)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',c.join(""),`" />
`]},commonRender:function(c){var g,o=this.points.length,m=this.pathOffset.x,b=this.pathOffset.y;if(!o||isNaN(this.points[o-1].y))return!1;c.beginPath(),c.moveTo(this.points[0].x-m,this.points[0].y-b);for(var _=0;_<o;_++)g=this.points[_],c.lineTo(g.x-m,g.y-b);return!0},_render:function(c){this.commonRender(c)&&this._renderPaintInOrder(c)},complexity:function(){return this.get("points").length}}),n.Polyline.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat(),n.Polyline.fromElementGenerator=function(c){return function(g,o,m){if(!g)return o(null);m||(m={});var b=n.parsePointsAttribute(g.getAttribute("points")),_=n.parseAttributes(g,n[c].ATTRIBUTE_NAMES);_.fromSVG=!0,o(new n[c](b,h(_,m)))}},n.Polyline.fromElement=n.Polyline.fromElementGenerator("Polyline"),n.Polyline.fromObject=function(c,g){return n.Object._fromObject("Polyline",c,g,"points")}})(u),(function(p){var n=p.fabric||(p.fabric={}),h=n.util.projectStrokeOnPoints;if(n.Polygon){n.warn("fabric.Polygon is already defined");return}n.Polygon=n.util.createClass(n.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return h(this.points,this)},_render:function(d){this.commonRender(d)&&(d.closePath(),this._renderPaintInOrder(d))}}),n.Polygon.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat(),n.Polygon.fromElement=n.Polyline.fromElementGenerator("Polygon"),n.Polygon.fromObject=function(d,a){n.Object._fromObject("Polygon",d,a,"points")}})(u),(function(p){var n=p.fabric||(p.fabric={}),h=n.util.array.min,d=n.util.array.max,a=n.util.object.extend,l=n.util.object.clone,r=n.util.toFixed;if(n.Path){n.warn("fabric.Path is already defined");return}n.Path=n.util.createClass(n.Object,{type:"path",path:null,cacheProperties:n.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:n.Object.prototype.stateProperties.concat("path"),initialize:function(c,g){g=l(g||{}),delete g.path,this.callSuper("initialize",g),this._setPath(c||[],g)},_setPath:function(c,g){this.path=n.util.makePathSimpler(Array.isArray(c)?c:n.util.parsePath(c)),n.Polyline.prototype._setPositionDimensions.call(this,g||{})},_renderPathCommands:function(c){var g,o=0,m=0,b=0,_=0,T=0,E=0,D=-this.pathOffset.x,k=-this.pathOffset.y;c.beginPath();for(var N=0,q=this.path.length;N<q;++N)switch(g=this.path[N],g[0]){case"L":b=g[1],_=g[2],c.lineTo(b+D,_+k);break;case"M":b=g[1],_=g[2],o=b,m=_,c.moveTo(b+D,_+k);break;case"C":b=g[5],_=g[6],T=g[3],E=g[4],c.bezierCurveTo(g[1]+D,g[2]+k,T+D,E+k,b+D,_+k);break;case"Q":c.quadraticCurveTo(g[1]+D,g[2]+k,g[3]+D,g[4]+k),b=g[3],_=g[4],T=g[1],E=g[2];break;case"z":case"Z":b=o,_=m,c.closePath();break}},_render:function(c){this._renderPathCommands(c),this._renderPaintInOrder(c)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(c){return a(this.callSuper("toObject",c),{path:this.path.map(function(g){return g.slice()})})},toDatalessObject:function(c){var g=this.toObject(["sourcePath"].concat(c));return g.sourcePath&&delete g.path,g},_toSVG:function(){var c=n.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',c,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var c=n.Object.NUM_FRACTION_DIGITS;return" translate("+r(-this.pathOffset.x,c)+", "+r(-this.pathOffset.y,c)+")"},toClipPathSVG:function(c){var g=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:c,additionalTransform:g})},toSVG:function(c){var g=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:c,additionalTransform:g})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var c=[],g=[],o,m=0,b=0,_=0,T=0,E,D=0,k=this.path.length;D<k;++D){switch(o=this.path[D],o[0]){case"L":_=o[1],T=o[2],E=[];break;case"M":_=o[1],T=o[2],m=_,b=T,E=[];break;case"C":E=n.util.getBoundsOfCurve(_,T,o[1],o[2],o[3],o[4],o[5],o[6]),_=o[5],T=o[6];break;case"Q":E=n.util.getBoundsOfCurve(_,T,o[1],o[2],o[1],o[2],o[3],o[4]),_=o[3],T=o[4];break;case"z":case"Z":_=m,T=b;break}E.forEach(function(re){c.push(re.x),g.push(re.y)}),c.push(_),g.push(T)}var N=h(c)||0,q=h(g)||0,H=d(c)||0,V=d(g)||0,ee=H-N,ce=V-q;return{left:N,top:q,width:ee,height:ce}}}),n.Path.fromObject=function(c,g){if(typeof c.sourcePath=="string"){var o=c.sourcePath;n.loadSVGFromURL(o,function(m){var b=m[0];b.setOptions(c),c.clipPath?n.util.enlivenObjects([c.clipPath],function(_){b.clipPath=_[0],g&&g(b)}):g&&g(b)})}else n.Object._fromObject("Path",c,g,"path")},n.Path.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat(["d"]),n.Path.fromElement=function(c,g,o){var m=n.parseAttributes(c,n.Path.ATTRIBUTE_NAMES);m.fromSVG=!0,g(new n.Path(m.d,a(m,o)))}})(u),(function(p){var n=p.fabric||(p.fabric={}),h=n.util.array.min,d=n.util.array.max;n.Group||(n.Group=n.util.createClass(n.Object,n.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(a,l,r){l=l||{},this._objects=[],r&&this.callSuper("initialize",l),this._objects=a||[];for(var c=this._objects.length;c--;)this._objects[c].group=this;if(r)this._updateObjectsACoords();else{var g=l&&l.centerPoint;l.originX!==void 0&&(this.originX=l.originX),l.originY!==void 0&&(this.originY=l.originY),g||this._calcBounds(),this._updateObjectsCoords(g),delete l.centerPoint,this.callSuper("initialize",l)}this.setCoords()},_updateObjectsACoords:function(){for(var a=!0,l=this._objects.length;l--;)this._objects[l].setCoords(a)},_updateObjectsCoords:function(l){for(var l=l||this.getCenterPoint(),r=this._objects.length;r--;)this._updateObjectCoords(this._objects[r],l)},_updateObjectCoords:function(a,l){var r=a.left,c=a.top,g=!0;a.set({left:r-l.x,top:c-l.y}),a.group=this,a.setCoords(g)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(a){var l=!!this.group;return this._restoreObjectsState(),n.util.resetObjectTransform(this),a&&(l&&n.util.removeTransformFromObject(a,this.group.calcTransformMatrix()),this._objects.push(a),a.group=this,a._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,l?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(a){return this._restoreObjectsState(),n.util.resetObjectTransform(this),this.remove(a),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(a){this.dirty=!0,a.group=this,a._set("canvas",this.canvas)},_onObjectRemoved:function(a){this.dirty=!0,delete a.group},_set:function(a,l){var r=this._objects.length;if(this.useSetOnGroup)for(;r--;)this._objects[r].setOnGroup(a,l);if(a==="canvas")for(;r--;)this._objects[r]._set(a,l);n.Object.prototype._set.call(this,a,l)},toObject:function(a){var l=this.includeDefaultValues,r=this._objects.filter(function(g){return!g.excludeFromExport}).map(function(g){var o=g.includeDefaultValues;g.includeDefaultValues=l;var m=g.toObject(a);return g.includeDefaultValues=o,m}),c=n.Object.prototype.toObject.call(this,a);return c.objects=r,c},toDatalessObject:function(a){var l,r=this.sourcePath;if(r)l=r;else{var c=this.includeDefaultValues;l=this._objects.map(function(o){var m=o.includeDefaultValues;o.includeDefaultValues=c;var b=o.toDatalessObject(a);return o.includeDefaultValues=m,b})}var g=n.Object.prototype.toDatalessObject.call(this,a);return g.objects=l,g},render:function(a){this._transformDone=!0,this.callSuper("render",a),this._transformDone=!1},shouldCache:function(){var a=n.Object.prototype.shouldCache.call(this);if(a){for(var l=0,r=this._objects.length;l<r;l++)if(this._objects[l].willDrawShadow())return this.ownCaching=!1,!1}return a},willDrawShadow:function(){if(n.Object.prototype.willDrawShadow.call(this))return!0;for(var a=0,l=this._objects.length;a<l;a++)if(this._objects[a].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(a){for(var l=0,r=this._objects.length;l<r;l++)this._objects[l].render(a);this._drawClipPath(a,this.clipPath)},isCacheDirty:function(a){if(this.callSuper("isCacheDirty",a))return!0;if(!this.statefullCache)return!1;for(var l=0,r=this._objects.length;l<r;l++)if(this._objects[l].isCacheDirty(!0)){if(this._cacheCanvas){var c=this.cacheWidth/this.zoomX,g=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-c/2,-g/2,c,g)}return!0}return!1},_restoreObjectsState:function(){var a=this.calcOwnMatrix();return this._objects.forEach(function(l){n.util.addTransformToObject(l,a),delete l.group,l.setCoords()}),this},destroy:function(){return this._objects.forEach(function(a){a.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(a){a.dispose&&a.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var a=this._objects,l=this.canvas;this._objects=[];var r=this.toObject();delete r.objects;var c=new n.ActiveSelection([]);return c.set(r),c.type="activeSelection",l.remove(this),a.forEach(function(g){g.group=c,g.dirty=!0,l.add(g)}),c.canvas=l,c._objects=a,l._activeObject=c,c.setCoords(),c}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var a=!0;return this.forEachObject(function(l){l.setCoords(a)}),this},_calcBounds:function(a){for(var l=[],r=[],c,g,o,m=["tr","br","bl","tl"],b=0,_=this._objects.length,T,E=m.length;b<_;++b){for(c=this._objects[b],o=c.calcACoords(),T=0;T<E;T++)g=m[T],l.push(o[g].x),r.push(o[g].y);c.aCoords=o}this._getBounds(l,r,a)},_getBounds:function(a,l,r){var c=new n.Point(h(a),h(l)),g=new n.Point(d(a),d(l)),o=c.y||0,m=c.x||0,b=g.x-c.x||0,_=g.y-c.y||0;this.width=b,this.height=_,r||this.setPositionByOrigin({x:m,y:o},"left","top")},_toSVG:function(a){for(var l=["<g ","COMMON_PARTS",` >
`],r=0,c=this._objects.length;r<c;r++)l.push("		",this._objects[r].toSVG(a));return l.push(`</g>
`),l},getSvgStyles:function(){var a=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",l=this.visible?"":" visibility: hidden;";return[a,this.getSvgFilter(),l].join("")},toClipPathSVG:function(a){for(var l=[],r=0,c=this._objects.length;r<c;r++)l.push("	",this._objects[r].toClipPathSVG(a));return this._createBaseClipPathSVGMarkup(l,{reviver:a})}}),n.Group.fromObject=function(a,l){var r=a.objects,c=n.util.object.clone(a,!0);if(delete c.objects,typeof r=="string"){n.loadSVGFromURL(r,function(g){var o=n.util.groupSVGElements(g,a,r),m=c.clipPath;delete c.clipPath,o.set(c),m?n.util.enlivenObjects([m],function(b){o.clipPath=b[0],l&&l(o)}):l&&l(o)});return}n.util.enlivenObjects(r,function(g){n.util.enlivenObjectEnlivables(a,c,function(){l&&l(new n.Group(g,c,!0))})})})})(u),(function(p){var n=p.fabric||(p.fabric={});n.ActiveSelection||(n.ActiveSelection=n.util.createClass(n.Group,{type:"activeSelection",initialize:function(h,d){d=d||{},this._objects=h||[];for(var a=this._objects.length;a--;)this._objects[a].group=this;d.originX&&(this.originX=d.originX),d.originY&&(this.originY=d.originY),this._calcBounds(),this._updateObjectsCoords(),n.Object.prototype.initialize.call(this,d),this.setCoords()},toGroup:function(){var h=this._objects.concat();this._objects=[];var d=n.Object.prototype.toObject.call(this),a=new n.Group([]);if(delete d.type,a.set(d),h.forEach(function(r){r.canvas.remove(r),r.group=a}),a._objects=h,!this.canvas)return a;var l=this.canvas;return l.add(a),l._activeObject=a,a.setCoords(),a},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(h,d,a){h.save(),h.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",h,d),a=a||{},typeof a.hasControls>"u"&&(a.hasControls=!1),a.forActiveSelection=!0;for(var l=0,r=this._objects.length;l<r;l++)this._objects[l]._renderControls(h,a);h.restore()}}),n.ActiveSelection.fromObject=function(h,d){n.util.enlivenObjects(h.objects,function(a){delete h.objects,d&&d(new n.ActiveSelection(a,h,!0))})})})(u),(function(p){var n=s.util.object.extend;if(p.fabric||(p.fabric={}),p.fabric.Image){s.warn("fabric.Image is already defined.");return}s.Image=s.util.createClass(s.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:s.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:s.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(h,d){d||(d={}),this.filters=[],this.cacheKey="texture"+s.Object.__uid++,this.callSuper("initialize",d),this._initElement(h,d)},getElement:function(){return this._element||{}},setElement:function(h,d){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=h,this._originalElement=h,this._initConfig(d),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(h){var d=s.filterBackend;d&&d.evictCachesForKey&&d.evictCachesForKey(h)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(h){s.util.cleanUpJsdomNode(this[h]),this[h]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var h=this.getElement();return{width:h.naturalWidth||h.width,height:h.naturalHeight||h.height}},_stroke:function(h){if(!(!this.stroke||this.strokeWidth===0)){var d=this.width/2,a=this.height/2;h.beginPath(),h.moveTo(-d,-a),h.lineTo(d,-a),h.lineTo(d,a),h.lineTo(-d,a),h.lineTo(-d,-a),h.closePath()}},toObject:function(h){var d=[];this.filters.forEach(function(l){l&&d.push(l.toObject())});var a=n(this.callSuper("toObject",["cropX","cropY"].concat(h)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:d});return this.resizeFilter&&(a.resizeFilter=this.resizeFilter.toObject()),a},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var h=[],d=[],a,l=this._element,r=-this.width/2,c=-this.height/2,g="",o="";if(!l)return[];if(this.hasCrop()){var m=s.Object.__uid++;h.push('<clipPath id="imageCrop_'+m+`">
`,'	<rect x="'+r+'" y="'+c+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),g=' clip-path="url(#imageCrop_'+m+')" '}if(this.imageSmoothing||(o='" image-rendering="optimizeSpeed'),d.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',r-this.cropX,'" y="',c-this.cropY,'" width="',l.width||l.naturalWidth,'" height="',l.height||l.height,o,'"',g,`></image>
`),this.stroke||this.strokeDashArray){var b=this.fill;this.fill=null,a=["	<rect ",'x="',r,'" y="',c,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=b}return this.paintFirst!=="fill"?h=h.concat(a,d):h=h.concat(d,a),h},getSrc:function(h){var d=h?this._element:this._originalElement;return d?d.toDataURL?d.toDataURL():this.srcFromAttribute?d.getAttribute("src"):d.src:this.src||""},setSrc:function(h,d,a){return s.util.loadImage(h,function(l,r){this.setElement(l,a),this._setWidthHeight(),d&&d(this,r)},this,a&&a.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var h=this.resizeFilter,d=this.minimumScaleTrigger,a=this.getTotalObjectScaling(),l=a.scaleX,r=a.scaleY,c=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!h||l>d&&r>d){this._element=c,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=l,this._lastScaleY=r;return}s.filterBackend||(s.filterBackend=s.initFilterBackend());var g=s.util.createCanvasElement(),o=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,m=c.width,b=c.height;g.width=m,g.height=b,this._element=g,this._lastScaleX=h.scaleX=l,this._lastScaleY=h.scaleY=r,s.filterBackend.applyFilters([h],c,m,b,this._element,o),this._filterScalingX=g.width/this._originalElement.width,this._filterScalingY=g.height/this._originalElement.height},applyFilters:function(h){if(h=h||this.filters||[],h=h.filter(function(c){return c&&!c.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),h.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var d=this._originalElement,a=d.naturalWidth||d.width,l=d.naturalHeight||d.height;if(this._element===this._originalElement){var r=s.util.createCanvasElement();r.width=a,r.height=l,this._element=r,this._filteredEl=r}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,a,l),this._lastScaleX=1,this._lastScaleY=1;return s.filterBackend||(s.filterBackend=s.initFilterBackend()),s.filterBackend.applyFilters(h,this._originalElement,a,l,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(h){s.util.setImageSmoothing(h,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(h),this._renderPaintInOrder(h)},drawCacheOnCanvas:function(h){s.util.setImageSmoothing(h,this.imageSmoothing),s.Object.prototype.drawCacheOnCanvas.call(this,h)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(h){var d=this._element;if(d){var a=this._filterScalingX,l=this._filterScalingY,r=this.width,c=this.height,g=Math.min,o=Math.max,m=o(this.cropX,0),b=o(this.cropY,0),_=d.naturalWidth||d.width,T=d.naturalHeight||d.height,E=m*a,D=b*l,k=g(r*a,_-E),N=g(c*l,T-D),q=-r/2,H=-c/2,V=g(r,_/a-m),ee=g(c,T/l-b);d&&h.drawImage(d,E,D,k,N,q,H,V,ee)}},_needsResize:function(){var h=this.getTotalObjectScaling();return h.scaleX!==this._lastScaleX||h.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(h,d){this.setElement(s.util.getById(h),d),s.util.addClass(this.getElement(),s.Image.CSS_CANVAS)},_initConfig:function(h){h||(h={}),this.setOptions(h),this._setWidthHeight(h)},_initFilters:function(h,d){h&&h.length?s.util.enlivenObjects(h,function(a){d&&d(a)},"fabric.Image.filters"):d&&d()},_setWidthHeight:function(h){h||(h={});var d=this.getElement();this.width=h.width||d.naturalWidth||d.width||0,this.height=h.height||d.naturalHeight||d.height||0},parsePreserveAspectRatioAttribute:function(){var h=s.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),d=this._element.width,a=this._element.height,l=1,r=1,c=0,g=0,o=0,m=0,b,_=this.width,T=this.height,E={width:_,height:T};return h&&(h.alignX!=="none"||h.alignY!=="none")?(h.meetOrSlice==="meet"&&(l=r=s.util.findScaleToFit(this._element,E),b=(_-d*l)/2,h.alignX==="Min"&&(c=-b),h.alignX==="Max"&&(c=b),b=(T-a*r)/2,h.alignY==="Min"&&(g=-b),h.alignY==="Max"&&(g=b)),h.meetOrSlice==="slice"&&(l=r=s.util.findScaleToCover(this._element,E),b=d-_/l,h.alignX==="Mid"&&(o=b/2),h.alignX==="Max"&&(o=b),b=a-T/r,h.alignY==="Mid"&&(m=b/2),h.alignY==="Max"&&(m=b),d=_/l,a=T/r)):(l=_/d,r=T/a),{width:d,height:a,scaleX:l,scaleY:r,offsetLeft:c,offsetTop:g,cropX:o,cropY:m}}}),s.Image.CSS_CANVAS="canvas-img",s.Image.prototype.getSvgSrc=s.Image.prototype.getSrc,s.Image.fromObject=function(h,d){var a=s.util.object.clone(h);s.util.loadImage(a.src,function(l,r){if(r){d&&d(null,!0);return}s.Image.prototype._initFilters.call(a,a.filters,function(c){a.filters=c||[],s.Image.prototype._initFilters.call(a,[a.resizeFilter],function(g){a.resizeFilter=g[0],s.util.enlivenObjectEnlivables(a,a,function(){var o=new s.Image(l,a);d(o,!1)})})})},null,a.crossOrigin)},s.Image.fromURL=function(h,d,a){s.util.loadImage(h,function(l,r){d&&d(new s.Image(l,a),r)},null,a&&a.crossOrigin)},s.Image.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),s.Image.fromElement=function(h,d,a){var l=s.parseAttributes(h,s.Image.ATTRIBUTE_NAMES);s.Image.fromURL(l["xlink:href"],d,n(a?s.util.object.clone(a):{},l))}})(u),s.util.object.extend(s.Object.prototype,{_getAngleValueForStraighten:function(){var p=this.angle%360;return p>0?Math.round((p-1)/90)*90:Math.round(p/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(p){p=p||{};var n=function(){},h=p.onComplete||n,d=p.onChange||n,a=this;return s.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(l){a.rotate(l),d()},onComplete:function(){a.setCoords(),h()}})}}),s.util.object.extend(s.StaticCanvas.prototype,{straightenObject:function(p){return p.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(p){return p.fxStraighten({onChange:this.requestRenderAllBound})}}),(function(){function p(h,d){var a="precision "+d+` float;
void main(){}`,l=h.createShader(h.FRAGMENT_SHADER);return h.shaderSource(l,a),h.compileShader(l),!!h.getShaderParameter(l,h.COMPILE_STATUS)}s.isWebglSupported=function(h){if(s.isLikelyNode)return!1;h=h||s.WebglFilterBackend.prototype.tileSize;var d=document.createElement("canvas"),a=d.getContext("webgl")||d.getContext("experimental-webgl"),l=!1;if(a){s.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),l=s.maxTextureSize>=h;for(var r=["highp","mediump","lowp"],c=0;c<3;c++)if(p(a,r[c])){s.webGlPrecision=r[c];break}}return this.isSupported=l,l},s.WebglFilterBackend=n;function n(h){h&&h.tileSize&&(this.tileSize=h.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}n.prototype={tileSize:2048,resources:{},setupGLContext:function(h,d){this.dispose(),this.createWebGLCanvas(h,d),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(h,d)},chooseFastestCopyGLTo2DMethod:function(h,d){var a=typeof window.performance<"u",l;try{new ImageData(1,1),l=!0}catch{l=!1}var r=typeof ArrayBuffer<"u",c=typeof Uint8ClampedArray<"u";if(a&&l&&r&&c){var g=s.util.createCanvasElement(),o=new ArrayBuffer(h*d*4);if(s.forceGLPutImageData){this.imageBuffer=o,this.copyGLTo2D=M;return}var m={imageBuffer:o,destinationWidth:h,destinationHeight:d,targetCanvas:g},b,_,T;g.width=h,g.height=d,b=window.performance.now(),w.call(m,this.gl,m),_=window.performance.now()-b,b=window.performance.now(),M.call(m,this.gl,m),T=window.performance.now()-b,_>T?(this.imageBuffer=o,this.copyGLTo2D=M):this.copyGLTo2D=w}},createWebGLCanvas:function(h,d){var a=s.util.createCanvasElement();a.width=h,a.height=d;var l={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},r=a.getContext("webgl",l);r||(r=a.getContext("experimental-webgl",l)),r&&(r.clearColor(0,0,0,0),this.canvas=a,this.gl=r)},applyFilters:function(h,d,a,l,r,c){var g=this.gl,o;c&&(o=this.getCachedTexture(c,d));var m={originalWidth:d.width||d.originalWidth,originalHeight:d.height||d.originalHeight,sourceWidth:a,sourceHeight:l,destinationWidth:a,destinationHeight:l,context:g,sourceTexture:this.createTexture(g,a,l,!o&&d),targetTexture:this.createTexture(g,a,l),originalTexture:o||this.createTexture(g,a,l,!o&&d),passes:h.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:r},b=g.createFramebuffer();return g.bindFramebuffer(g.FRAMEBUFFER,b),h.forEach(function(_){_&&_.applyTo(m)}),C(m),this.copyGLTo2D(g,m),g.bindTexture(g.TEXTURE_2D,null),g.deleteTexture(m.sourceTexture),g.deleteTexture(m.targetTexture),g.deleteFramebuffer(b),r.getContext("2d").setTransform(1,0,0,1,0,0),m},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(h,d,a,l,r){var c=h.createTexture();return h.bindTexture(h.TEXTURE_2D,c),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,r||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,r||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),l?h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,l):h.texImage2D(h.TEXTURE_2D,0,h.RGBA,d,a,0,h.RGBA,h.UNSIGNED_BYTE,null),c},getCachedTexture:function(h,d){if(this.textureCache[h])return this.textureCache[h];var a=this.createTexture(this.gl,d.width,d.height,d);return this.textureCache[h]=a,a},evictCachesForKey:function(h){this.textureCache[h]&&(this.gl.deleteTexture(this.textureCache[h]),delete this.textureCache[h])},copyGLTo2D:w,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var h=this.gl,d={renderer:"",vendor:""};if(!h)return d;var a=h.getExtension("WEBGL_debug_renderer_info");if(a){var l=h.getParameter(a.UNMASKED_RENDERER_WEBGL),r=h.getParameter(a.UNMASKED_VENDOR_WEBGL);l&&(d.renderer=l.toLowerCase()),r&&(d.vendor=r.toLowerCase())}return this.gpuInfo=d,d}}})();function C(p){var n=p.targetCanvas,h=n.width,d=n.height,a=p.destinationWidth,l=p.destinationHeight;(h!==a||d!==l)&&(n.width=a,n.height=l)}function w(p,n){var h=p.canvas,d=n.targetCanvas,a=d.getContext("2d");a.translate(0,d.height),a.scale(1,-1);var l=h.height-d.height;a.drawImage(h,0,l,d.width,d.height,0,0,d.width,d.height)}function M(p,n){var h=n.targetCanvas,d=h.getContext("2d"),a=n.destinationWidth,l=n.destinationHeight,r=a*l*4,c=new Uint8Array(this.imageBuffer,0,r),g=new Uint8ClampedArray(this.imageBuffer,0,r);p.readPixels(0,0,a,l,p.RGBA,p.UNSIGNED_BYTE,c);var o=new ImageData(g,a,l);d.putImageData(o,0,0)}(function(){var p=function(){};s.Canvas2dFilterBackend=n;function n(){}n.prototype={evictCachesForKey:p,dispose:p,clearWebGLCaches:p,resources:{},applyFilters:function(h,d,a,l,r){var c=r.getContext("2d");c.drawImage(d,0,0,a,l);var g=c.getImageData(0,0,a,l),o=c.getImageData(0,0,a,l),m={sourceWidth:a,sourceHeight:l,imageData:g,originalEl:d,originalImageData:o,canvasEl:r,ctx:c,filterBackend:this};return h.forEach(function(b){b.applyTo(m)}),(m.imageData.width!==a||m.imageData.height!==l)&&(r.width=m.imageData.width,r.height=m.imageData.height),c.putImageData(m.imageData,0,0),m}}})(),s.Image=s.Image||{},s.Image.filters=s.Image.filters||{},s.Image.filters.BaseFilter=s.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(p){p&&this.setOptions(p)},setOptions:function(p){for(var n in p)this[n]=p[n]},createProgram:function(p,n,h){n=n||this.fragmentSource,h=h||this.vertexSource,s.webGlPrecision!=="highp"&&(n=n.replace(/precision highp float/g,"precision "+s.webGlPrecision+" float"));var d=p.createShader(p.VERTEX_SHADER);if(p.shaderSource(d,h),p.compileShader(d),!p.getShaderParameter(d,p.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+p.getShaderInfoLog(d));var a=p.createShader(p.FRAGMENT_SHADER);if(p.shaderSource(a,n),p.compileShader(a),!p.getShaderParameter(a,p.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+p.getShaderInfoLog(a));var l=p.createProgram();if(p.attachShader(l,d),p.attachShader(l,a),p.linkProgram(l),!p.getProgramParameter(l,p.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+p.getProgramInfoLog(l));var r=this.getAttributeLocations(p,l),c=this.getUniformLocations(p,l)||{};return c.uStepW=p.getUniformLocation(l,"uStepW"),c.uStepH=p.getUniformLocation(l,"uStepH"),{program:l,attributeLocations:r,uniformLocations:c}},getAttributeLocations:function(p,n){return{aPosition:p.getAttribLocation(n,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(p,n,h){var d=n.aPosition,a=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,a),p.enableVertexAttribArray(d),p.vertexAttribPointer(d,2,p.FLOAT,!1,0,0),p.bufferData(p.ARRAY_BUFFER,h,p.STATIC_DRAW)},_setupFrameBuffer:function(p){var n=p.context,h,d;p.passes>1?(h=p.destinationWidth,d=p.destinationHeight,(p.sourceWidth!==h||p.sourceHeight!==d)&&(n.deleteTexture(p.targetTexture),p.targetTexture=p.filterBackend.createTexture(n,h,d)),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,p.targetTexture,0)):(n.bindFramebuffer(n.FRAMEBUFFER,null),n.finish())},_swapTextures:function(p){p.passes--,p.pass++;var n=p.targetTexture;p.targetTexture=p.sourceTexture,p.sourceTexture=n},isNeutralState:function(){var p=this.mainParameter,n=s.Image.filters[this.type].prototype;if(p)if(Array.isArray(n[p])){for(var h=n[p].length;h--;)if(this[p][h]!==n[p][h])return!1;return!0}else return n[p]===this[p];else return!1},applyTo:function(p){p.webgl?(this._setupFrameBuffer(p),this.applyToWebGL(p),this._swapTextures(p)):this.applyTo2d(p)},retrieveShader:function(p){return p.programCache.hasOwnProperty(this.type)||(p.programCache[this.type]=this.createProgram(p.context)),p.programCache[this.type]},applyToWebGL:function(p){var n=p.context,h=this.retrieveShader(p);p.pass===0&&p.originalTexture?n.bindTexture(n.TEXTURE_2D,p.originalTexture):n.bindTexture(n.TEXTURE_2D,p.sourceTexture),n.useProgram(h.program),this.sendAttributeData(n,h.attributeLocations,p.aPosition),n.uniform1f(h.uniformLocations.uStepW,1/p.sourceWidth),n.uniform1f(h.uniformLocations.uStepH,1/p.sourceHeight),this.sendUniformData(n,h.uniformLocations),n.viewport(0,0,p.destinationWidth,p.destinationHeight),n.drawArrays(n.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(p,n,h){p.activeTexture(h),p.bindTexture(p.TEXTURE_2D,n),p.activeTexture(p.TEXTURE0)},unbindAdditionalTexture:function(p,n){p.activeTexture(n),p.bindTexture(p.TEXTURE_2D,null),p.activeTexture(p.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(p){this[this.mainParameter]=p},sendUniformData:function(){},createHelpLayer:function(p){if(!p.helpLayer){var n=document.createElement("canvas");n.width=p.sourceWidth,n.height=p.sourceHeight,p.helpLayer=n}},toObject:function(){var p={type:this.type},n=this.mainParameter;return n&&(p[n]=this[n]),p},toJSON:function(){return this.toObject()}}),s.Image.filters.BaseFilter.fromObject=function(p,n){var h=new s.Image.filters[p.type](p);return n&&n(h),h},(function(p){var n=p.fabric||(p.fabric={}),h=n.Image.filters,d=n.util.createClass;h.ColorMatrix=d(h.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(a){this.callSuper("initialize",a),this.matrix=this.matrix.slice(0)},applyTo2d:function(a){var l=a.imageData,r=l.data,c=r.length,g=this.matrix,o,m,b,_,T,E=this.colorsOnly;for(T=0;T<c;T+=4)o=r[T],m=r[T+1],b=r[T+2],E?(r[T]=o*g[0]+m*g[1]+b*g[2]+g[4]*255,r[T+1]=o*g[5]+m*g[6]+b*g[7]+g[9]*255,r[T+2]=o*g[10]+m*g[11]+b*g[12]+g[14]*255):(_=r[T+3],r[T]=o*g[0]+m*g[1]+b*g[2]+_*g[3]+g[4]*255,r[T+1]=o*g[5]+m*g[6]+b*g[7]+_*g[8]+g[9]*255,r[T+2]=o*g[10]+m*g[11]+b*g[12]+_*g[13]+g[14]*255,r[T+3]=o*g[15]+m*g[16]+b*g[17]+_*g[18]+g[19]*255)},getUniformLocations:function(a,l){return{uColorMatrix:a.getUniformLocation(l,"uColorMatrix"),uConstants:a.getUniformLocation(l,"uConstants")}},sendUniformData:function(a,l){var r=this.matrix,c=[r[0],r[1],r[2],r[3],r[5],r[6],r[7],r[8],r[10],r[11],r[12],r[13],r[15],r[16],r[17],r[18]],g=[r[4],r[9],r[14],r[19]];a.uniformMatrix4fv(l.uColorMatrix,!1,c),a.uniform4fv(l.uConstants,g)}}),n.Image.filters.ColorMatrix.fromObject=n.Image.filters.BaseFilter.fromObject})(u),(function(p){var n=p.fabric||(p.fabric={}),h=n.Image.filters,d=n.util.createClass;h.Brightness=d(h.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(a){if(this.brightness!==0){var l=a.imageData,r=l.data,c,g=r.length,o=Math.round(this.brightness*255);for(c=0;c<g;c+=4)r[c]=r[c]+o,r[c+1]=r[c+1]+o,r[c+2]=r[c+2]+o}},getUniformLocations:function(a,l){return{uBrightness:a.getUniformLocation(l,"uBrightness")}},sendUniformData:function(a,l){a.uniform1f(l.uBrightness,this.brightness)}}),n.Image.filters.Brightness.fromObject=n.Image.filters.BaseFilter.fromObject})(u),(function(p){var n=p.fabric||(p.fabric={}),h=n.util.object.extend,d=n.Image.filters,a=n.util.createClass;d.Convolute=a(d.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(l){var r=Math.sqrt(this.matrix.length),c=this.type+"_"+r+"_"+(this.opaque?1:0),g=this.fragmentSource[c];return l.programCache.hasOwnProperty(c)||(l.programCache[c]=this.createProgram(l.context,g)),l.programCache[c]},applyTo2d:function(l){var r=l.imageData,c=r.data,g=this.matrix,o=Math.round(Math.sqrt(g.length)),m=Math.floor(o/2),b=r.width,_=r.height,T=l.ctx.createImageData(b,_),E=T.data,D=this.opaque?1:0,k,N,q,H,V,ee,ce,re,fe,I,J,K,j;for(J=0;J<_;J++)for(I=0;I<b;I++){for(V=(J*b+I)*4,k=0,N=0,q=0,H=0,j=0;j<o;j++)for(K=0;K<o;K++)ce=J+j-m,ee=I+K-m,!(ce<0||ce>=_||ee<0||ee>=b)&&(re=(ce*b+ee)*4,fe=g[j*o+K],k+=c[re]*fe,N+=c[re+1]*fe,q+=c[re+2]*fe,D||(H+=c[re+3]*fe));E[V]=k,E[V+1]=N,E[V+2]=q,D?E[V+3]=c[V+3]:E[V+3]=H}l.imageData=T},getUniformLocations:function(l,r){return{uMatrix:l.getUniformLocation(r,"uMatrix"),uOpaque:l.getUniformLocation(r,"uOpaque"),uHalfSize:l.getUniformLocation(r,"uHalfSize"),uSize:l.getUniformLocation(r,"uSize")}},sendUniformData:function(l,r){l.uniform1fv(r.uMatrix,this.matrix)},toObject:function(){return h(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),n.Image.filters.Convolute.fromObject=n.Image.filters.BaseFilter.fromObject})(u),(function(p){var n=p.fabric||(p.fabric={}),h=n.Image.filters,d=n.util.createClass;h.Grayscale=d(h.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(a){var l=a.imageData,r=l.data,c,g=r.length,o,m=this.mode;for(c=0;c<g;c+=4)m==="average"?o=(r[c]+r[c+1]+r[c+2])/3:m==="lightness"?o=(Math.min(r[c],r[c+1],r[c+2])+Math.max(r[c],r[c+1],r[c+2]))/2:m==="luminosity"&&(o=.21*r[c]+.72*r[c+1]+.07*r[c+2]),r[c]=o,r[c+1]=o,r[c+2]=o},retrieveShader:function(a){var l=this.type+"_"+this.mode;if(!a.programCache.hasOwnProperty(l)){var r=this.fragmentSource[this.mode];a.programCache[l]=this.createProgram(a.context,r)}return a.programCache[l]},getUniformLocations:function(a,l){return{uMode:a.getUniformLocation(l,"uMode")}},sendUniformData:function(a,l){var r=1;a.uniform1i(l.uMode,r)},isNeutralState:function(){return!1}}),n.Image.filters.Grayscale.fromObject=n.Image.filters.BaseFilter.fromObject})(u),(function(p){var n=p.fabric||(p.fabric={}),h=n.Image.filters,d=n.util.createClass;h.Invert=d(h.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(a){var l=a.imageData,r=l.data,c,g=r.length;for(c=0;c<g;c+=4)r[c]=255-r[c],r[c+1]=255-r[c+1],r[c+2]=255-r[c+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(a,l){return{uInvert:a.getUniformLocation(l,"uInvert")}},sendUniformData:function(a,l){a.uniform1i(l.uInvert,this.invert)}}),n.Image.filters.Invert.fromObject=n.Image.filters.BaseFilter.fromObject})(u),(function(p){var n=p.fabric||(p.fabric={}),h=n.util.object.extend,d=n.Image.filters,a=n.util.createClass;d.Noise=a(d.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(l){if(this.noise!==0){var r=l.imageData,c=r.data,g,o=c.length,m=this.noise,b;for(g=0,o=c.length;g<o;g+=4)b=(.5-Math.random())*m,c[g]+=b,c[g+1]+=b,c[g+2]+=b}},getUniformLocations:function(l,r){return{uNoise:l.getUniformLocation(r,"uNoise"),uSeed:l.getUniformLocation(r,"uSeed")}},sendUniformData:function(l,r){l.uniform1f(r.uNoise,this.noise/255),l.uniform1f(r.uSeed,Math.random())},toObject:function(){return h(this.callSuper("toObject"),{noise:this.noise})}}),n.Image.filters.Noise.fromObject=n.Image.filters.BaseFilter.fromObject})(u),(function(p){var n=p.fabric||(p.fabric={}),h=n.Image.filters,d=n.util.createClass;h.Pixelate=d(h.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(a){var l=a.imageData,r=l.data,c=l.height,g=l.width,o,m,b,_,T,E,D,k,N,q,H;for(m=0;m<c;m+=this.blocksize)for(b=0;b<g;b+=this.blocksize)for(o=m*4*g+b*4,_=r[o],T=r[o+1],E=r[o+2],D=r[o+3],q=Math.min(m+this.blocksize,c),H=Math.min(b+this.blocksize,g),k=m;k<q;k++)for(N=b;N<H;N++)o=k*4*g+N*4,r[o]=_,r[o+1]=T,r[o+2]=E,r[o+3]=D},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(a,l){return{uBlocksize:a.getUniformLocation(l,"uBlocksize"),uStepW:a.getUniformLocation(l,"uStepW"),uStepH:a.getUniformLocation(l,"uStepH")}},sendUniformData:function(a,l){a.uniform1f(l.uBlocksize,this.blocksize)}}),n.Image.filters.Pixelate.fromObject=n.Image.filters.BaseFilter.fromObject})(u),(function(p){var n=p.fabric||(p.fabric={}),h=n.util.object.extend,d=n.Image.filters,a=n.util.createClass;d.RemoveColor=a(d.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(l){var r=l.imageData,c=r.data,g,o=this.distance*255,m,b,_,T=new n.Color(this.color).getSource(),E=[T[0]-o,T[1]-o,T[2]-o],D=[T[0]+o,T[1]+o,T[2]+o];for(g=0;g<c.length;g+=4)m=c[g],b=c[g+1],_=c[g+2],m>E[0]&&b>E[1]&&_>E[2]&&m<D[0]&&b<D[1]&&_<D[2]&&(c[g+3]=0)},getUniformLocations:function(l,r){return{uLow:l.getUniformLocation(r,"uLow"),uHigh:l.getUniformLocation(r,"uHigh")}},sendUniformData:function(l,r){var c=new n.Color(this.color).getSource(),g=parseFloat(this.distance),o=[0+c[0]/255-g,0+c[1]/255-g,0+c[2]/255-g,1],m=[c[0]/255+g,c[1]/255+g,c[2]/255+g,1];l.uniform4fv(r.uLow,o),l.uniform4fv(r.uHigh,m)},toObject:function(){return h(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),n.Image.filters.RemoveColor.fromObject=n.Image.filters.BaseFilter.fromObject})(u),(function(p){var n=p.fabric||(p.fabric={}),h=n.Image.filters,d=n.util.createClass,a={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var l in a)h[l]=d(h.ColorMatrix,{type:l,matrix:a[l],mainParameter:!1,colorsOnly:!0}),n.Image.filters[l].fromObject=n.Image.filters.BaseFilter.fromObject})(u),(function(p){var n=p.fabric,h=n.Image.filters,d=n.util.createClass;h.BlendColor=d(h.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(a){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[a]+`}
}`},retrieveShader:function(a){var l=this.type+"_"+this.mode,r;return a.programCache.hasOwnProperty(l)||(r=this.buildSource(this.mode),a.programCache[l]=this.createProgram(a.context,r)),a.programCache[l]},applyTo2d:function(a){var l=a.imageData,r=l.data,c=r.length,g,o,m,b,_,T,E,D=1-this.alpha;E=new n.Color(this.color).getSource(),g=E[0]*this.alpha,o=E[1]*this.alpha,m=E[2]*this.alpha;for(var k=0;k<c;k+=4)switch(b=r[k],_=r[k+1],T=r[k+2],this.mode){case"multiply":r[k]=b*g/255,r[k+1]=_*o/255,r[k+2]=T*m/255;break;case"screen":r[k]=255-(255-b)*(255-g)/255,r[k+1]=255-(255-_)*(255-o)/255,r[k+2]=255-(255-T)*(255-m)/255;break;case"add":r[k]=b+g,r[k+1]=_+o,r[k+2]=T+m;break;case"diff":case"difference":r[k]=Math.abs(b-g),r[k+1]=Math.abs(_-o),r[k+2]=Math.abs(T-m);break;case"subtract":r[k]=b-g,r[k+1]=_-o,r[k+2]=T-m;break;case"darken":r[k]=Math.min(b,g),r[k+1]=Math.min(_,o),r[k+2]=Math.min(T,m);break;case"lighten":r[k]=Math.max(b,g),r[k+1]=Math.max(_,o),r[k+2]=Math.max(T,m);break;case"overlay":r[k]=g<128?2*b*g/255:255-2*(255-b)*(255-g)/255,r[k+1]=o<128?2*_*o/255:255-2*(255-_)*(255-o)/255,r[k+2]=m<128?2*T*m/255:255-2*(255-T)*(255-m)/255;break;case"exclusion":r[k]=g+b-2*g*b/255,r[k+1]=o+_-2*o*_/255,r[k+2]=m+T-2*m*T/255;break;case"tint":r[k]=g+b*D,r[k+1]=o+_*D,r[k+2]=m+T*D}},getUniformLocations:function(a,l){return{uColor:a.getUniformLocation(l,"uColor")}},sendUniformData:function(a,l){var r=new n.Color(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,a.uniform4fv(l.uColor,r)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),n.Image.filters.BlendColor.fromObject=n.Image.filters.BaseFilter.fromObject})(u),(function(p){var n=p.fabric,h=n.Image.filters,d=n.util.createClass;h.BlendImage=d(h.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(a){var l=this.type+"_"+this.mode,r=this.fragmentSource[this.mode];return a.programCache.hasOwnProperty(l)||(a.programCache[l]=this.createProgram(a.context,r)),a.programCache[l]},applyToWebGL:function(a){var l=a.context,r=this.createTexture(a.filterBackend,this.image);this.bindAdditionalTexture(l,r,l.TEXTURE1),this.callSuper("applyToWebGL",a),this.unbindAdditionalTexture(l,l.TEXTURE1)},createTexture:function(a,l){return a.getCachedTexture(l.cacheKey,l._element)},calculateMatrix:function(){var a=this.image,l=a._element.width,r=a._element.height;return[1/a.scaleX,0,0,0,1/a.scaleY,0,-a.left/l,-a.top/r,1]},applyTo2d:function(a){var l=a.imageData,r=a.filterBackend.resources,c=l.data,g=c.length,o=l.width,m=l.height,b,_,T,E,D,k,N,q,H,V,ee=this.image,ce;r.blendImage||(r.blendImage=n.util.createCanvasElement()),H=r.blendImage,V=H.getContext("2d"),H.width!==o||H.height!==m?(H.width=o,H.height=m):V.clearRect(0,0,o,m),V.setTransform(ee.scaleX,0,0,ee.scaleY,ee.left,ee.top),V.drawImage(ee._element,0,0,o,m),ce=V.getImageData(0,0,o,m).data;for(var re=0;re<g;re+=4)switch(D=c[re],k=c[re+1],N=c[re+2],q=c[re+3],b=ce[re],_=ce[re+1],T=ce[re+2],E=ce[re+3],this.mode){case"multiply":c[re]=D*b/255,c[re+1]=k*_/255,c[re+2]=N*T/255,c[re+3]=q*E/255;break;case"mask":c[re+3]=E;break}},getUniformLocations:function(a,l){return{uTransformMatrix:a.getUniformLocation(l,"uTransformMatrix"),uImage:a.getUniformLocation(l,"uImage")}},sendUniformData:function(a,l){var r=this.calculateMatrix();a.uniform1i(l.uImage,1),a.uniformMatrix3fv(l.uTransformMatrix,!1,r)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),n.Image.filters.BlendImage.fromObject=function(a,l){n.Image.fromObject(a.image,function(r){var c=n.util.object.clone(a);c.image=r,l(new n.Image.filters.BlendImage(c))})}})(u),(function(p){var n=p.fabric||(p.fabric={}),h=Math.pow,d=Math.floor,a=Math.sqrt,l=Math.abs,r=Math.round,c=Math.sin,g=Math.ceil,o=n.Image.filters,m=n.util.createClass;o.Resize=m(o.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(b,_){return{uDelta:b.getUniformLocation(_,"uDelta"),uTaps:b.getUniformLocation(_,"uTaps")}},sendUniformData:function(b,_){b.uniform2fv(_.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),b.uniform1fv(_.uTaps,this.taps)},retrieveShader:function(b){var _=this.getFilterWindow(),T=this.type+"_"+_;if(!b.programCache.hasOwnProperty(T)){var E=this.generateShader(_);b.programCache[T]=this.createProgram(b.context,E)}return b.programCache[T]},getFilterWindow:function(){var b=this.tempScale;return Math.ceil(this.lanczosLobes/b)},getTaps:function(){for(var b=this.lanczosCreate(this.lanczosLobes),_=this.tempScale,T=this.getFilterWindow(),E=new Array(T),D=1;D<=T;D++)E[D-1]=b(D*_);return E},generateShader:function(E){for(var _=new Array(E),T=this.fragmentSourceTOP,E,D=1;D<=E;D++)_[D-1]=D+".0 * uDelta";return T+="uniform float uTaps["+E+`];
`,T+=`void main() {
`,T+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,T+=`  float sum = 1.0;
`,_.forEach(function(k,N){T+="  color += texture2D(uTexture, vTexCoord + "+k+") * uTaps["+N+`];
`,T+="  color += texture2D(uTexture, vTexCoord - "+k+") * uTaps["+N+`];
`,T+="  sum += 2.0 * uTaps["+N+`];
`}),T+=`  gl_FragColor = color / sum;
`,T+="}",T},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(b){b.webgl?(b.passes++,this.width=b.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=b.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),b.destinationWidth=this.dW,this._setupFrameBuffer(b),this.applyToWebGL(b),this._swapTextures(b),b.sourceWidth=b.destinationWidth,this.height=b.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),b.destinationHeight=this.dH,this._setupFrameBuffer(b),this.applyToWebGL(b),this._swapTextures(b),b.sourceHeight=b.destinationHeight):this.applyTo2d(b)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(b){return function(_){if(_>=b||_<=-b)return 0;if(_<11920929e-14&&_>-11920929e-14)return 1;_*=Math.PI;var T=_/b;return c(_)/_*c(T)/T}},applyTo2d:function(b){var _=b.imageData,T=this.scaleX,E=this.scaleY;this.rcpScaleX=1/T,this.rcpScaleY=1/E;var D=_.width,k=_.height,N=r(D*T),q=r(k*E),H;this.resizeType==="sliceHack"?H=this.sliceByTwo(b,D,k,N,q):this.resizeType==="hermite"?H=this.hermiteFastResize(b,D,k,N,q):this.resizeType==="bilinear"?H=this.bilinearFiltering(b,D,k,N,q):this.resizeType==="lanczos"&&(H=this.lanczosResize(b,D,k,N,q)),b.imageData=H},sliceByTwo:function(b,_,T,E,D){var k=b.imageData,N=.5,q=!1,H=!1,V=_*N,ee=T*N,ce=n.filterBackend.resources,re,fe,I=0,J=0,K=_,j=0;for(ce.sliceByTwo||(ce.sliceByTwo=document.createElement("canvas")),re=ce.sliceByTwo,(re.width<_*1.5||re.height<T)&&(re.width=_*1.5,re.height=T),fe=re.getContext("2d"),fe.clearRect(0,0,_*1.5,T),fe.putImageData(k,0,0),E=d(E),D=d(D);!q||!H;)_=V,T=ee,E<d(V*N)?V=d(V*N):(V=E,q=!0),D<d(ee*N)?ee=d(ee*N):(ee=D,H=!0),fe.drawImage(re,I,J,_,T,K,j,V,ee),I=K,J=j,j+=ee;return fe.getImageData(I,J,E,D)},lanczosResize:function(b,_,T,E,D){function k(A){var B,X,P,z,Y,W,le,te,ve,Se,xe;for(j.x=(A+.5)*ee,F.x=d(j.x),B=0;B<D;B++){for(j.y=(B+.5)*ce,F.y=d(j.y),Y=0,W=0,le=0,te=0,ve=0,X=F.x-I;X<=F.x+I;X++)if(!(X<0||X>=_)){Se=d(1e3*l(X-j.x)),K[Se]||(K[Se]={});for(var oe=F.y-J;oe<=F.y+J;oe++)oe<0||oe>=T||(xe=d(1e3*l(oe-j.y)),K[Se][xe]||(K[Se][xe]=V(a(h(Se*re,2)+h(xe*fe,2))/1e3)),P=K[Se][xe],P>0&&(z=(oe*_+X)*4,Y+=P,W+=P*N[z],le+=P*N[z+1],te+=P*N[z+2],ve+=P*N[z+3]))}z=(B*E+A)*4,H[z]=W/Y,H[z+1]=le/Y,H[z+2]=te/Y,H[z+3]=ve/Y}return++A<E?k(A):q}var N=b.imageData.data,q=b.ctx.createImageData(E,D),H=q.data,V=this.lanczosCreate(this.lanczosLobes),ee=this.rcpScaleX,ce=this.rcpScaleY,re=2/this.rcpScaleX,fe=2/this.rcpScaleY,I=g(ee*this.lanczosLobes/2),J=g(ce*this.lanczosLobes/2),K={},j={},F={};return k(0)},bilinearFiltering:function(b,_,T,E,D){var k,N,q,H,V,ee,ce,re,fe,I,J,K,j=0,F,A=this.rcpScaleX,B=this.rcpScaleY,X=4*(_-1),P=b.imageData,z=P.data,Y=b.ctx.createImageData(E,D),W=Y.data;for(ce=0;ce<D;ce++)for(re=0;re<E;re++)for(V=d(A*re),ee=d(B*ce),fe=A*re-V,I=B*ce-ee,F=4*(ee*_+V),J=0;J<4;J++)k=z[F+J],N=z[F+4+J],q=z[F+X+J],H=z[F+X+4+J],K=k*(1-fe)*(1-I)+N*fe*(1-I)+q*I*(1-fe)+H*fe*I,W[j++]=K;return Y},hermiteFastResize:function(b,_,T,E,D){for(var k=this.rcpScaleX,N=this.rcpScaleY,q=g(k/2),H=g(N/2),V=b.imageData,ee=V.data,ce=b.ctx.createImageData(E,D),re=ce.data,fe=0;fe<D;fe++)for(var I=0;I<E;I++){for(var J=(I+fe*E)*4,K=0,j=0,F=0,A=0,B=0,X=0,P=0,z=(fe+.5)*N,Y=d(fe*N);Y<(fe+1)*N;Y++)for(var W=l(z-(Y+.5))/H,le=(I+.5)*k,te=W*W,ve=d(I*k);ve<(I+1)*k;ve++){var Se=l(le-(ve+.5))/q,xe=a(te+Se*Se);xe>1&&xe<-1||(K=2*xe*xe*xe-3*xe*xe+1,K>0&&(Se=4*(ve+Y*_),P+=K*ee[Se+3],F+=K,ee[Se+3]<255&&(K=K*ee[Se+3]/250),A+=K*ee[Se],B+=K*ee[Se+1],X+=K*ee[Se+2],j+=K))}re[J]=A/j,re[J+1]=B/j,re[J+2]=X/j,re[J+3]=P/F}return ce},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),n.Image.filters.Resize.fromObject=n.Image.filters.BaseFilter.fromObject})(u),(function(p){var n=p.fabric||(p.fabric={}),h=n.Image.filters,d=n.util.createClass;h.Contrast=d(h.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(a){if(this.contrast!==0){var l=a.imageData,r,g,c=l.data,g=c.length,o=Math.floor(this.contrast*255),m=259*(o+255)/(255*(259-o));for(r=0;r<g;r+=4)c[r]=m*(c[r]-128)+128,c[r+1]=m*(c[r+1]-128)+128,c[r+2]=m*(c[r+2]-128)+128}},getUniformLocations:function(a,l){return{uContrast:a.getUniformLocation(l,"uContrast")}},sendUniformData:function(a,l){a.uniform1f(l.uContrast,this.contrast)}}),n.Image.filters.Contrast.fromObject=n.Image.filters.BaseFilter.fromObject})(u),(function(p){var n=p.fabric||(p.fabric={}),h=n.Image.filters,d=n.util.createClass;h.Saturation=d(h.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(a){if(this.saturation!==0){var l=a.imageData,r=l.data,c=r.length,g=-this.saturation,o,m;for(o=0;o<c;o+=4)m=Math.max(r[o],r[o+1],r[o+2]),r[o]+=m!==r[o]?(m-r[o])*g:0,r[o+1]+=m!==r[o+1]?(m-r[o+1])*g:0,r[o+2]+=m!==r[o+2]?(m-r[o+2])*g:0}},getUniformLocations:function(a,l){return{uSaturation:a.getUniformLocation(l,"uSaturation")}},sendUniformData:function(a,l){a.uniform1f(l.uSaturation,-this.saturation)}}),n.Image.filters.Saturation.fromObject=n.Image.filters.BaseFilter.fromObject})(u),(function(p){var n=p.fabric||(p.fabric={}),h=n.Image.filters,d=n.util.createClass;h.Vibrance=d(h.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(a){if(this.vibrance!==0){var l=a.imageData,r=l.data,c=r.length,g=-this.vibrance,o,m,b,_;for(o=0;o<c;o+=4)m=Math.max(r[o],r[o+1],r[o+2]),b=(r[o]+r[o+1]+r[o+2])/3,_=Math.abs(m-b)*2/255*g,r[o]+=m!==r[o]?(m-r[o])*_:0,r[o+1]+=m!==r[o+1]?(m-r[o+1])*_:0,r[o+2]+=m!==r[o+2]?(m-r[o+2])*_:0}},getUniformLocations:function(a,l){return{uVibrance:a.getUniformLocation(l,"uVibrance")}},sendUniformData:function(a,l){a.uniform1f(l.uVibrance,-this.vibrance)}}),n.Image.filters.Vibrance.fromObject=n.Image.filters.BaseFilter.fromObject})(u),(function(p){var n=p.fabric||(p.fabric={}),h=n.Image.filters,d=n.util.createClass;h.Blur=d(h.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(a){a.webgl?(this.aspectRatio=a.sourceWidth/a.sourceHeight,a.passes++,this._setupFrameBuffer(a),this.horizontal=!0,this.applyToWebGL(a),this._swapTextures(a),this._setupFrameBuffer(a),this.horizontal=!1,this.applyToWebGL(a),this._swapTextures(a)):this.applyTo2d(a)},applyTo2d:function(a){a.imageData=this.simpleBlur(a)},simpleBlur:function(a){var l=a.filterBackend.resources,r,c,g=a.imageData.width,o=a.imageData.height;l.blurLayer1||(l.blurLayer1=n.util.createCanvasElement(),l.blurLayer2=n.util.createCanvasElement()),r=l.blurLayer1,c=l.blurLayer2,(r.width!==g||r.height!==o)&&(c.width=r.width=g,c.height=r.height=o);var m=r.getContext("2d"),b=c.getContext("2d"),_=15,T,E,D,k,N=this.blur*.06*.5;for(m.putImageData(a.imageData,0,0),b.clearRect(0,0,g,o),k=-_;k<=_;k++)T=(Math.random()-.5)/4,E=k/_,D=N*E*g+T,b.globalAlpha=1-Math.abs(E),b.drawImage(r,D,T),m.drawImage(c,0,0),b.globalAlpha=1,b.clearRect(0,0,c.width,c.height);for(k=-_;k<=_;k++)T=(Math.random()-.5)/4,E=k/_,D=N*E*o+T,b.globalAlpha=1-Math.abs(E),b.drawImage(r,T,D),m.drawImage(c,0,0),b.globalAlpha=1,b.clearRect(0,0,c.width,c.height);a.ctx.drawImage(r,0,0);var q=a.ctx.getImageData(0,0,r.width,r.height);return m.globalAlpha=1,m.clearRect(0,0,r.width,r.height),q},getUniformLocations:function(a,l){return{delta:a.getUniformLocation(l,"uDelta")}},sendUniformData:function(a,l){var r=this.chooseRightDelta();a.uniform2fv(l.delta,r)},chooseRightDelta:function(){var a=1,l=[0,0],r;return this.horizontal?this.aspectRatio>1&&(a=1/this.aspectRatio):this.aspectRatio<1&&(a=this.aspectRatio),r=a*this.blur*.12,this.horizontal?l[0]=r:l[1]=r,l}}),h.Blur.fromObject=n.Image.filters.BaseFilter.fromObject})(u),(function(p){var n=p.fabric||(p.fabric={}),h=n.Image.filters,d=n.util.createClass;h.Gamma=d(h.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(a){this.gamma=[1,1,1],h.BaseFilter.prototype.initialize.call(this,a)},applyTo2d:function(a){var l=a.imageData,r=l.data,c=this.gamma,g=r.length,o=1/c[0],m=1/c[1],b=1/c[2],_;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),_=0,g=256;_<g;_++)this.rVals[_]=Math.pow(_/255,o)*255,this.gVals[_]=Math.pow(_/255,m)*255,this.bVals[_]=Math.pow(_/255,b)*255;for(_=0,g=r.length;_<g;_+=4)r[_]=this.rVals[r[_]],r[_+1]=this.gVals[r[_+1]],r[_+2]=this.bVals[r[_+2]]},getUniformLocations:function(a,l){return{uGamma:a.getUniformLocation(l,"uGamma")}},sendUniformData:function(a,l){a.uniform3fv(l.uGamma,this.gamma)}}),n.Image.filters.Gamma.fromObject=n.Image.filters.BaseFilter.fromObject})(u),(function(p){var n=p.fabric||(p.fabric={}),h=n.Image.filters,d=n.util.createClass;h.Composed=d(h.BaseFilter,{type:"Composed",subFilters:[],initialize:function(a){this.callSuper("initialize",a),this.subFilters=this.subFilters.slice(0)},applyTo:function(a){a.passes+=this.subFilters.length-1,this.subFilters.forEach(function(l){l.applyTo(a)})},toObject:function(){return n.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(a){return a.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(a){return!a.isNeutralState()})}}),n.Image.filters.Composed.fromObject=function(a,l){var r=a.subFilters||[],c=r.map(function(o){return new n.Image.filters[o.type](o)}),g=new n.Image.filters.Composed({subFilters:c});return l&&l(g),g}})(u),(function(p){var n=p.fabric||(p.fabric={}),h=n.Image.filters,d=n.util.createClass;h.HueRotation=d(h.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var a=this.rotation*Math.PI,l=n.util.cos(a),r=n.util.sin(a),c=1/3,g=Math.sqrt(c)*r,o=1-l;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=l+o/3,this.matrix[1]=c*o-g,this.matrix[2]=c*o+g,this.matrix[5]=c*o+g,this.matrix[6]=l+c*o,this.matrix[7]=c*o-g,this.matrix[10]=c*o-g,this.matrix[11]=c*o+g,this.matrix[12]=l+c*o},isNeutralState:function(a){return this.calculateMatrix(),h.BaseFilter.prototype.isNeutralState.call(this,a)},applyTo:function(a){this.calculateMatrix(),h.BaseFilter.prototype.applyTo.call(this,a)}}),n.Image.filters.HueRotation.fromObject=n.Image.filters.BaseFilter.fromObject})(u),(function(p){var n=p.fabric||(p.fabric={}),h=n.util.object.clone;if(n.Text){n.warn("fabric.Text is already defined");return}var d="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");n.Text=n.util.createClass(n.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:n.Object.prototype.stateProperties.concat(d),cacheProperties:n.Object.prototype.cacheProperties.concat(d),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(a,l){this.styles=l?l.styles||{}:{},this.text=a,this.__skipDimension=!0,this.callSuper("initialize",l),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var a=this.path;a&&(a.segmentsInfo=n.util.getPathSegmentsInfo(a.path))},getMeasuringContext:function(){return n._measuringContext||(n._measuringContext=this.canvas&&this.canvas.contextCache||n.util.createCanvasElement().getContext("2d")),n._measuringContext},_splitText:function(){var a=this._splitTextIntoLines(this.text);return this.textLines=a.lines,this._textLines=a.graphemeLines,this._unwrappedTextLines=a._unwrappedLines,this._text=a.graphemeText,a},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var a,l,r,c,g,o,m,b=0,_=this._textLines.length;b<_;b++)if(!(this.textAlign!=="justify"&&(b===_-1||this.isEndOfWrapping(b)))&&(c=0,g=this._textLines[b],l=this.getLineWidth(b),l<this.width&&(m=this.textLines[b].match(this._reSpacesAndTabs)))){r=m.length,a=(this.width-l)/r;for(var T=0,E=g.length;T<=E;T++)o=this.__charBounds[b][T],this._reSpaceAndTab.test(g[T])?(o.width+=a,o.kernedWidth+=a,o.left+=c,c+=a):o.left+=c}},isEndOfWrapping:function(a){return a===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var a=this.callSuper("_getCacheCanvasDimensions"),l=this.fontSize;return a.width+=l*a.zoomX,a.height+=l*a.zoomY,a},_render:function(a){var l=this.path;l&&!l.isNotVisible()&&l._render(a),this._setTextStyles(a),this._renderTextLinesBackground(a),this._renderTextDecoration(a,"underline"),this._renderText(a),this._renderTextDecoration(a,"overline"),this._renderTextDecoration(a,"linethrough")},_renderText:function(a){this.paintFirst==="stroke"?(this._renderTextStroke(a),this._renderTextFill(a)):(this._renderTextFill(a),this._renderTextStroke(a))},_setTextStyles:function(a,l,r){if(a.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":a.textBaseline="middle";break;case"ascender":a.textBaseline="top";break;case"descender":a.textBaseline="bottom";break}a.font=this._getFontDeclaration(l,r)},calcTextWidth:function(){for(var a=this.getLineWidth(0),l=1,r=this._textLines.length;l<r;l++){var c=this.getLineWidth(l);c>a&&(a=c)}return a},_renderTextLine:function(a,l,r,c,g,o){this._renderChars(a,l,r,c,g,o)},_renderTextLinesBackground:function(a){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var l,r,c=a.fillStyle,g,o,m=this._getLeftOffset(),b=this._getTopOffset(),_=0,T=0,E,D,k=this.path,N,q=0,H=this._textLines.length;q<H;q++){if(l=this.getHeightOfLine(q),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",q)){b+=l;continue}g=this._textLines[q],r=this._getLineLeftOffset(q),T=0,_=0,o=this.getValueOfPropertyAt(q,0,"textBackgroundColor");for(var V=0,ee=g.length;V<ee;V++)E=this.__charBounds[q][V],D=this.getValueOfPropertyAt(q,V,"textBackgroundColor"),k?(a.save(),a.translate(E.renderLeft,E.renderTop),a.rotate(E.angle),a.fillStyle=D,D&&a.fillRect(-E.width/2,-l/this.lineHeight*(1-this._fontSizeFraction),E.width,l/this.lineHeight),a.restore()):D!==o?(N=m+r+_,this.direction==="rtl"&&(N=this.width-N-T),a.fillStyle=o,o&&a.fillRect(N,b,T,l/this.lineHeight),_=E.left,T=E.width,o=D):T+=E.kernedWidth;D&&!k&&(N=m+r+_,this.direction==="rtl"&&(N=this.width-N-T),a.fillStyle=D,a.fillRect(N,b,T,l/this.lineHeight)),b+=l}a.fillStyle=c,this._removeShadow(a)}},getFontCache:function(a){var l=a.fontFamily.toLowerCase();n.charWidthsCache[l]||(n.charWidthsCache[l]={});var r=n.charWidthsCache[l],c=a.fontStyle.toLowerCase()+"_"+(a.fontWeight+"").toLowerCase();return r[c]||(r[c]={}),r[c]},_measureChar:function(a,l,r,c){var g=this.getFontCache(l),o=this._getFontDeclaration(l),m=this._getFontDeclaration(c),b=r+a,_=o===m,T,E,D,k=l.fontSize/this.CACHE_FONT_SIZE,N;if(r&&g[r]!==void 0&&(D=g[r]),g[a]!==void 0&&(N=T=g[a]),_&&g[b]!==void 0&&(E=g[b],N=E-D),T===void 0||D===void 0||E===void 0){var q=this.getMeasuringContext();this._setTextStyles(q,l,!0)}return T===void 0&&(N=T=q.measureText(a).width,g[a]=T),D===void 0&&_&&r&&(D=q.measureText(r).width,g[r]=D),_&&E===void 0&&(E=q.measureText(b).width,g[b]=E,N=E-D),{width:T*k,kernedWidth:N*k}},getHeightOfChar:function(a,l){return this.getValueOfPropertyAt(a,l,"fontSize")},measureLine:function(a){var l=this._measureLine(a);return this.charSpacing!==0&&(l.width-=this._getWidthOfCharSpacing()),l.width<0&&(l.width=0),l},_measureLine:function(a){var l=0,r,c,g=this._textLines[a],o,m,b=0,_=new Array(g.length),T=0,E,D,k=this.path,N=this.pathSide==="right";for(this.__charBounds[a]=_,r=0;r<g.length;r++)c=g[r],m=this._getGraphemeBox(c,a,r,o),_[r]=m,l+=m.kernedWidth,o=c;if(_[r]={left:m?m.left+m.width:0,width:0,kernedWidth:0,height:this.fontSize},k){switch(D=k.segmentsInfo[k.segmentsInfo.length-1].length,E=n.util.getPointOnPath(k.path,0,k.segmentsInfo),E.x+=k.pathOffset.x,E.y+=k.pathOffset.y,this.textAlign){case"left":T=N?D-l:0;break;case"center":T=(D-l)/2;break;case"right":T=N?0:D-l;break}for(T+=this.pathStartOffset*(N?-1:1),r=N?g.length-1:0;N?r>=0:r<g.length;N?r--:r++)m=_[r],T>D?T%=D:T<0&&(T+=D),this._setGraphemeOnPath(T,m,E),T+=m.kernedWidth}return{width:l,numOfSpaces:b}},_setGraphemeOnPath:function(a,l,r){var c=a+l.kernedWidth/2,g=this.path,o=n.util.getPointOnPath(g.path,c,g.segmentsInfo);l.renderLeft=o.x-r.x,l.renderTop=o.y-r.y,l.angle=o.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(a,l,r,c,g){var o=this.getCompleteStyleDeclaration(l,r),m=c?this.getCompleteStyleDeclaration(l,r-1):{},b=this._measureChar(a,o,c,m),_=b.kernedWidth,T=b.width,E;this.charSpacing!==0&&(E=this._getWidthOfCharSpacing(),T+=E,_+=E);var D={width:T,left:0,height:o.fontSize,kernedWidth:_,deltaY:o.deltaY};if(r>0&&!g){var k=this.__charBounds[l][r-1];D.left=k.left+k.width+b.kernedWidth-b.width}return D},getHeightOfLine:function(a){if(this.__lineHeights[a])return this.__lineHeights[a];for(var l=this._textLines[a],r=this.getHeightOfChar(a,0),c=1,g=l.length;c<g;c++)r=Math.max(this.getHeightOfChar(a,c),r);return this.__lineHeights[a]=r*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var a,l=0,r=0,c=this._textLines.length;r<c;r++)a=this.getHeightOfLine(r),l+=r===c-1?a/this.lineHeight:a;return l},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(a,l){a.save();for(var r=0,c=this._getLeftOffset(),g=this._getTopOffset(),o=0,m=this._textLines.length;o<m;o++){var b=this.getHeightOfLine(o),_=b/this.lineHeight,T=this._getLineLeftOffset(o);this._renderTextLine(l,a,this._textLines[o],c+T,g+r+_,o),r+=b}a.restore()},_renderTextFill:function(a){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(a,"fillText")},_renderTextStroke:function(a){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(a),a.save(),this._setLineDash(a,this.strokeDashArray),a.beginPath(),this._renderTextCommon(a,"strokeText"),a.closePath(),a.restore())},_renderChars:function(a,l,r,c,g,o){var m=this.getHeightOfLine(o),b=this.textAlign.indexOf("justify")!==-1,_,T,E="",D,k=0,N,q=this.path,H=!b&&this.charSpacing===0&&this.isEmptyStyles(o)&&!q,V=this.direction==="ltr",ee=this.direction==="ltr"?1:-1,ce,re=l.canvas.getAttribute("dir");if(l.save(),re!==this.direction&&(l.canvas.setAttribute("dir",V?"ltr":"rtl"),l.direction=V?"ltr":"rtl",l.textAlign=V?"left":"right"),g-=m*this._fontSizeFraction/this.lineHeight,H){this._renderChar(a,l,o,0,r.join(""),c,g,m),l.restore();return}for(var fe=0,I=r.length-1;fe<=I;fe++)N=fe===I||this.charSpacing||q,E+=r[fe],D=this.__charBounds[o][fe],k===0?(c+=ee*(D.kernedWidth-D.width),k+=D.width):k+=D.kernedWidth,b&&!N&&this._reSpaceAndTab.test(r[fe])&&(N=!0),N||(_=_||this.getCompleteStyleDeclaration(o,fe),T=this.getCompleteStyleDeclaration(o,fe+1),N=n.util.hasStyleChanged(_,T,!1)),N&&(q?(l.save(),l.translate(D.renderLeft,D.renderTop),l.rotate(D.angle),this._renderChar(a,l,o,fe,E,-k/2,0,m),l.restore()):(ce=c,this._renderChar(a,l,o,fe,E,ce,g,m)),E="",_=T,c+=ee*k,k=0);l.restore()},_applyPatternGradientTransformText:function(a){var l=n.util.createCanvasElement(),r,c=this.width+this.strokeWidth,g=this.height+this.strokeWidth;return l.width=c,l.height=g,r=l.getContext("2d"),r.beginPath(),r.moveTo(0,0),r.lineTo(c,0),r.lineTo(c,g),r.lineTo(0,g),r.closePath(),r.translate(c/2,g/2),r.fillStyle=a.toLive(r),this._applyPatternGradientTransform(r,a),r.fill(),r.createPattern(l,"no-repeat")},handleFiller:function(a,l,r){var c,g;return r.toLive?r.gradientUnits==="percentage"||r.gradientTransform||r.patternTransform?(c=-this.width/2,g=-this.height/2,a.translate(c,g),a[l]=this._applyPatternGradientTransformText(r),{offsetX:c,offsetY:g}):(a[l]=r.toLive(a,this),this._applyPatternGradientTransform(a,r)):(a[l]=r,{offsetX:0,offsetY:0})},_setStrokeStyles:function(a,l){return a.lineWidth=l.strokeWidth,a.lineCap=this.strokeLineCap,a.lineDashOffset=this.strokeDashOffset,a.lineJoin=this.strokeLineJoin,a.miterLimit=this.strokeMiterLimit,this.handleFiller(a,"strokeStyle",l.stroke)},_setFillStyles:function(a,l){return this.handleFiller(a,"fillStyle",l.fill)},_renderChar:function(a,l,r,c,g,o,m){var b=this._getStyleDeclaration(r,c),_=this.getCompleteStyleDeclaration(r,c),T=a==="fillText"&&_.fill,E=a==="strokeText"&&_.stroke&&_.strokeWidth,D,k;!E&&!T||(l.save(),T&&(D=this._setFillStyles(l,_)),E&&(k=this._setStrokeStyles(l,_)),l.font=this._getFontDeclaration(_),b&&b.textBackgroundColor&&this._removeShadow(l),b&&b.deltaY&&(m+=b.deltaY),T&&l.fillText(g,o-D.offsetX,m-D.offsetY),E&&l.strokeText(g,o-k.offsetX,m-k.offsetY),l.restore())},setSuperscript:function(a,l){return this._setScript(a,l,this.superscript)},setSubscript:function(a,l){return this._setScript(a,l,this.subscript)},_setScript:function(a,l,r){var c=this.get2DCursorLocation(a,!0),g=this.getValueOfPropertyAt(c.lineIndex,c.charIndex,"fontSize"),o=this.getValueOfPropertyAt(c.lineIndex,c.charIndex,"deltaY"),m={fontSize:g*r.size,deltaY:o+g*r.baseline};return this.setSelectionStyles(m,a,l),this},_getLineLeftOffset:function(a){var l=this.getLineWidth(a),r=this.width-l,c=this.textAlign,g=this.direction,m,o=0,m=this.isEndOfWrapping(a);return c==="justify"||c==="justify-center"&&!m||c==="justify-right"&&!m||c==="justify-left"&&!m?0:(c==="center"&&(o=r/2),c==="right"&&(o=r),c==="justify-center"&&(o=r/2),c==="justify-right"&&(o=r),g==="rtl"&&(o-=r),o)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var a=this._forceClearCache;return a||(a=this.hasStateChanged("_dimensionAffectingProps")),a&&(this.dirty=!0,this._forceClearCache=!1),a},getLineWidth:function(a){if(this.__lineWidths[a]!==void 0)return this.__lineWidths[a];var l=this.measureLine(a),r=l.width;return this.__lineWidths[a]=r,r},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(a,l,r){var c=this._getStyleDeclaration(a,l);return c&&typeof c[r]<"u"?c[r]:this[r]},_renderTextDecoration:function(a,l){if(!(!this[l]&&!this.styleHas(l))){for(var r,c,g,o,m,b,_,T,E=this._getLeftOffset(),D=this._getTopOffset(),k,N,q,H,V,ee,ce,re,fe=this.path,I=this._getWidthOfCharSpacing(),J=this.offsets[l],K=0,j=this._textLines.length;K<j;K++){if(r=this.getHeightOfLine(K),!this[l]&&!this.styleHas(l,K)){D+=r;continue}_=this._textLines[K],ee=r/this.lineHeight,o=this._getLineLeftOffset(K),N=0,q=0,T=this.getValueOfPropertyAt(K,0,l),re=this.getValueOfPropertyAt(K,0,"fill"),k=D+ee*(1-this._fontSizeFraction),c=this.getHeightOfChar(K,0),m=this.getValueOfPropertyAt(K,0,"deltaY");for(var F=0,A=_.length;F<A;F++)if(H=this.__charBounds[K][F],V=this.getValueOfPropertyAt(K,F,l),ce=this.getValueOfPropertyAt(K,F,"fill"),g=this.getHeightOfChar(K,F),b=this.getValueOfPropertyAt(K,F,"deltaY"),fe&&V&&ce)a.save(),a.fillStyle=re,a.translate(H.renderLeft,H.renderTop),a.rotate(H.angle),a.fillRect(-H.kernedWidth/2,J*g+b,H.kernedWidth,this.fontSize/15),a.restore();else if((V!==T||ce!==re||g!==c||b!==m)&&q>0){var B=E+o+N;this.direction==="rtl"&&(B=this.width-B-q),T&&re&&(a.fillStyle=re,a.fillRect(B,k+J*c+m,q,this.fontSize/15)),N=H.left,q=H.width,T=V,re=ce,c=g,m=b}else q+=H.kernedWidth;var B=E+o+N;this.direction==="rtl"&&(B=this.width-B-q),a.fillStyle=ce,V&&ce&&a.fillRect(B,k+J*c+m,q-I,this.fontSize/15),D+=r}this._removeShadow(a)}},_getFontDeclaration:function(a,l){var r=a||this,c=this.fontFamily,g=n.Text.genericFonts.indexOf(c.toLowerCase())>-1,o=c===void 0||c.indexOf("'")>-1||c.indexOf(",")>-1||c.indexOf('"')>-1||g?r.fontFamily:'"'+r.fontFamily+'"';return[n.isLikelyNode?r.fontWeight:r.fontStyle,n.isLikelyNode?r.fontStyle:r.fontWeight,l?this.CACHE_FONT_SIZE+"px":r.fontSize+"px",o].join(" ")},render:function(a){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",a)))},_splitTextIntoLines:function(a){for(var l=a.split(this._reNewline),r=new Array(l.length),c=[`
`],g=[],o=0;o<l.length;o++)r[o]=n.util.string.graphemeSplit(l[o]),g=g.concat(r[o],c);return g.pop(),{_unwrappedLines:r,lines:l,graphemeText:g,graphemeLines:r}},toObject:function(a){var l=d.concat(a),r=this.callSuper("toObject",l);return r.styles=n.util.stylesToArray(this.styles,this.text),r.path&&(r.path=this.path.toObject()),r},set:function(a,l){this.callSuper("set",a,l);var r=!1,c=!1;if(typeof a=="object")for(var g in a)g==="path"&&this.setPathInfo(),r=r||this._dimensionAffectingProps.indexOf(g)!==-1,c=c||g==="path";else r=this._dimensionAffectingProps.indexOf(a)!==-1,c=a==="path";return c&&this.setPathInfo(),r&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),n.Text.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),n.Text.DEFAULT_SVG_FONT_SIZE=16,n.Text.fromElement=function(a,l,r){if(!a)return l(null);var c=n.parseAttributes(a,n.Text.ATTRIBUTE_NAMES),g=c.textAnchor||"left";if(r=n.util.object.extend(r?h(r):{},c),r.top=r.top||0,r.left=r.left||0,c.textDecoration){var o=c.textDecoration;o.indexOf("underline")!==-1&&(r.underline=!0),o.indexOf("overline")!==-1&&(r.overline=!0),o.indexOf("line-through")!==-1&&(r.linethrough=!0),delete r.textDecoration}"dx"in c&&(r.left+=c.dx),"dy"in c&&(r.top+=c.dy),"fontSize"in r||(r.fontSize=n.Text.DEFAULT_SVG_FONT_SIZE);var m="";"textContent"in a?m=a.textContent:"firstChild"in a&&a.firstChild!==null&&"data"in a.firstChild&&a.firstChild.data!==null&&(m=a.firstChild.data),m=m.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var b=r.strokeWidth;r.strokeWidth=0;var _=new n.Text(m,r),T=_.getScaledHeight()/_.height,E=(_.height+_.strokeWidth)*_.lineHeight-_.height,D=E*T,k=_.getScaledHeight()+D,N=0;g==="center"&&(N=_.getScaledWidth()/2),g==="right"&&(N=_.getScaledWidth()),_.set({left:_.left-N,top:_.top-(k-_.fontSize*(.07+_._fontSizeFraction))/_.lineHeight,strokeWidth:typeof b<"u"?b:1}),l(_)},n.Text.fromObject=function(a,l){var r=h(a),c=a.path;return delete r.path,n.Object._fromObject("Text",r,function(g){g.styles=n.util.stylesFromArray(a.styles,a.text),c?n.Object._fromObject("Path",c,function(o){g.set("path",o),l(g)},"path"):l(g)},"text")},n.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],n.util.createAccessors&&n.util.createAccessors(n.Text)})(u),(function(){s.util.object.extend(s.Text.prototype,{isEmptyStyles:function(p){if(!this.styles||typeof p<"u"&&!this.styles[p])return!0;var n=typeof p>"u"?this.styles:{line:this.styles[p]};for(var h in n)for(var d in n[h])for(var a in n[h][d])return!1;return!0},styleHas:function(p,n){if(!this.styles||!p||p===""||typeof n<"u"&&!this.styles[n])return!1;var h=typeof n>"u"?this.styles:{0:this.styles[n]};for(var d in h)for(var a in h[d])if(typeof h[d][a][p]<"u")return!0;return!1},cleanStyle:function(p){if(!this.styles||!p||p==="")return!1;var n=this.styles,h=0,d,a,l=!0,r=0,c;for(var g in n){d=0;for(var o in n[g]){var c=n[g][o],m=c.hasOwnProperty(p);h++,m?(a?c[p]!==a&&(l=!1):a=c[p],c[p]===this[p]&&delete c[p]):l=!1,Object.keys(c).length!==0?d++:delete n[g][o]}d===0&&delete n[g]}for(var b=0;b<this._textLines.length;b++)r+=this._textLines[b].length;l&&h===r&&(this[p]=a,this.removeStyle(p))},removeStyle:function(p){if(!(!this.styles||!p||p==="")){var n=this.styles,h,d,a;for(d in n){h=n[d];for(a in h)delete h[a][p],Object.keys(h[a]).length===0&&delete h[a];Object.keys(h).length===0&&delete n[d]}}},_extendStyles:function(p,n){var h=this.get2DCursorLocation(p);this._getLineStyle(h.lineIndex)||this._setLineStyle(h.lineIndex),this._getStyleDeclaration(h.lineIndex,h.charIndex)||this._setStyleDeclaration(h.lineIndex,h.charIndex,{}),s.util.object.extend(this._getStyleDeclaration(h.lineIndex,h.charIndex),n)},get2DCursorLocation:function(p,n){typeof p>"u"&&(p=this.selectionStart);for(var h=n?this._unwrappedTextLines:this._textLines,d=h.length,a=0;a<d;a++){if(p<=h[a].length)return{lineIndex:a,charIndex:p};p-=h[a].length+this.missingNewlineOffset(a)}return{lineIndex:a-1,charIndex:h[a-1].length<p?h[a-1].length:p}},getSelectionStyles:function(p,n,h){typeof p>"u"&&(p=this.selectionStart||0),typeof n>"u"&&(n=this.selectionEnd||p);for(var d=[],a=p;a<n;a++)d.push(this.getStyleAtPosition(a,h));return d},getStyleAtPosition:function(p,n){var h=this.get2DCursorLocation(p),d=n?this.getCompleteStyleDeclaration(h.lineIndex,h.charIndex):this._getStyleDeclaration(h.lineIndex,h.charIndex);return d||{}},setSelectionStyles:function(p,n,h){typeof n>"u"&&(n=this.selectionStart||0),typeof h>"u"&&(h=this.selectionEnd||n);for(var d=n;d<h;d++)this._extendStyles(d,p);return this._forceClearCache=!0,this},_getStyleDeclaration:function(p,n){var h=this.styles&&this.styles[p];return h?h[n]:null},getCompleteStyleDeclaration:function(p,n){for(var h=this._getStyleDeclaration(p,n)||{},d={},a,l=0;l<this._styleProperties.length;l++)a=this._styleProperties[l],d[a]=typeof h[a]>"u"?this[a]:h[a];return d},_setStyleDeclaration:function(p,n,h){this.styles[p][n]=h},_deleteStyleDeclaration:function(p,n){delete this.styles[p][n]},_getLineStyle:function(p){return!!this.styles[p]},_setLineStyle:function(p){this.styles[p]={}},_deleteLineStyle:function(p){delete this.styles[p]}})})(),(function(){function p(n){n.textDecoration&&(n.textDecoration.indexOf("underline")>-1&&(n.underline=!0),n.textDecoration.indexOf("line-through")>-1&&(n.linethrough=!0),n.textDecoration.indexOf("overline")>-1&&(n.overline=!0),delete n.textDecoration)}s.IText=s.util.createClass(s.Text,s.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(n,h){this.callSuper("initialize",n,h),this.initBehavior()},setSelectionStart:function(n){n=Math.max(n,0),this._updateAndFire("selectionStart",n)},setSelectionEnd:function(n){n=Math.min(n,this.text.length),this._updateAndFire("selectionEnd",n)},_updateAndFire:function(n,h){this[n]!==h&&(this._fireSelectionChanged(),this[n]=h),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(n){this.clearContextTop(),this.callSuper("render",n),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(n){this.callSuper("_render",n)},clearContextTop:function(n){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var h=this.canvas.contextTop,d=this.canvas.viewportTransform;h.save(),h.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this.transform(h),this._clearTextArea(h),n||h.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var n=this._getCursorBoundaries(),h=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(n,h):this.renderSelection(n,h),h.restore()}},_clearTextArea:function(n){var h=this.width+4,d=this.height+4;n.clearRect(-h/2,-d/2,h,d)},_getCursorBoundaries:function(n){typeof n>"u"&&(n=this.selectionStart);var h=this._getLeftOffset(),d=this._getTopOffset(),a=this._getCursorBoundariesOffsets(n);return{left:h,top:d,leftOffset:a.left,topOffset:a.top}},_getCursorBoundariesOffsets:function(n){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var h,d,a,l=0,r=0,c,g=this.get2DCursorLocation(n);a=g.charIndex,d=g.lineIndex;for(var o=0;o<d;o++)l+=this.getHeightOfLine(o);h=this._getLineLeftOffset(d);var m=this.__charBounds[d][a];return m&&(r=m.left),this.charSpacing!==0&&a===this._textLines[d].length&&(r-=this._getWidthOfCharSpacing()),c={top:l,left:h+(r>0?r:0)},this.direction==="rtl"&&(c.left*=-1),this.cursorOffsetCache=c,this.cursorOffsetCache},renderCursor:function(n,h){var d=this.get2DCursorLocation(),a=d.lineIndex,l=d.charIndex>0?d.charIndex-1:0,r=this.getValueOfPropertyAt(a,l,"fontSize"),c=this.scaleX*this.canvas.getZoom(),g=this.cursorWidth/c,o=n.topOffset,m=this.getValueOfPropertyAt(a,l,"deltaY");o+=(1-this._fontSizeFraction)*this.getHeightOfLine(a)/this.lineHeight-r*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(n,h),h.fillStyle=this.cursorColor||this.getValueOfPropertyAt(a,l,"fill"),h.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,h.fillRect(n.left+n.leftOffset-g/2,o+n.top+m,g,r)},renderSelection:function(n,h){for(var d=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,a=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,l=this.textAlign.indexOf("justify")!==-1,r=this.get2DCursorLocation(d),c=this.get2DCursorLocation(a),g=r.lineIndex,o=c.lineIndex,m=r.charIndex<0?0:r.charIndex,b=c.charIndex<0?0:c.charIndex,_=g;_<=o;_++){var T=this._getLineLeftOffset(_)||0,E=this.getHeightOfLine(_),D=0,k=0,N=0;if(_===g&&(k=this.__charBounds[g][m].left),_>=g&&_<o)N=l&&!this.isEndOfWrapping(_)?this.width:this.getLineWidth(_)||5;else if(_===o)if(b===0)N=this.__charBounds[o][b].left;else{var q=this._getWidthOfCharSpacing();N=this.__charBounds[o][b-1].left+this.__charBounds[o][b-1].width-q}D=E,(this.lineHeight<1||_===o&&this.lineHeight>1)&&(E/=this.lineHeight);var H=n.left+T+k,V=N-k,ee=E,ce=0;this.inCompositionMode?(h.fillStyle=this.compositionColor||"black",ee=1,ce=E):h.fillStyle=this.selectionColor,this.direction==="rtl"&&(H=this.width-H-V),h.fillRect(H,n.top+n.topOffset+ce,V,ee),n.topOffset+=D}},getCurrentCharFontSize:function(){var n=this._getCurrentCharIndex();return this.getValueOfPropertyAt(n.l,n.c,"fontSize")},getCurrentCharColor:function(){var n=this._getCurrentCharIndex();return this.getValueOfPropertyAt(n.l,n.c,"fill")},_getCurrentCharIndex:function(){var n=this.get2DCursorLocation(this.selectionStart,!0),h=n.charIndex>0?n.charIndex-1:0;return{l:n.lineIndex,c:h}}}),s.IText.fromObject=function(n,h){var d=s.util.stylesFromArray(n.styles,n.text),a=Object.assign({},n,{styles:d});if(p(a),a.styles)for(var l in a.styles)for(var r in a.styles[l])p(a.styles[l][r]);s.Object._fromObject("IText",a,h,"text")}})(),(function(){var p=s.util.object.clone;s.util.object.extend(s.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var n=this;this.on("added",function(){var h=n.canvas;h&&(h._hasITextHandlers||(h._hasITextHandlers=!0,n._initCanvasHandlers(h)),h._iTextInstances=h._iTextInstances||[],h._iTextInstances.push(n))})},initRemovedHandler:function(){var n=this;this.on("removed",function(){var h=n.canvas;h&&(h._iTextInstances=h._iTextInstances||[],s.util.removeFromArray(h._iTextInstances,n),h._iTextInstances.length===0&&(h._hasITextHandlers=!1,n._removeCanvasHandlers(h)))})},_initCanvasHandlers:function(n){n._mouseUpITextHandler=function(){n._iTextInstances&&n._iTextInstances.forEach(function(h){h.__isMousedown=!1})},n.on("mouse:up",n._mouseUpITextHandler)},_removeCanvasHandlers:function(n){n.off("mouse:up",n._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(n,h,d,a){var l;return l={isAborted:!1,abort:function(){this.isAborted=!0}},n.animate("_currentCursorOpacity",h,{duration:d,onComplete:function(){l.isAborted||n[a]()},onChange:function(){n.canvas&&n.selectionStart===n.selectionEnd&&n.renderCursorOrSelection()},abort:function(){return l.isAborted}}),l},_onTickComplete:function(){var n=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){n._currentTickCompleteState=n._animateCursor(n,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(n){var h=this,d=n?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){h._tick()},d)},abortCursorAnimation:function(){var n=this._currentTickState||this._currentTickCompleteState,h=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,n&&h&&h.clearContext(h.contextTop||h.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(n){var h=0,d=n-1;if(this._reSpace.test(this._text[d]))for(;this._reSpace.test(this._text[d]);)h++,d--;for(;/\S/.test(this._text[d])&&d>-1;)h++,d--;return n-h},findWordBoundaryRight:function(n){var h=0,d=n;if(this._reSpace.test(this._text[d]))for(;this._reSpace.test(this._text[d]);)h++,d++;for(;/\S/.test(this._text[d])&&d<this._text.length;)h++,d++;return n+h},findLineBoundaryLeft:function(n){for(var h=0,d=n-1;!/\n/.test(this._text[d])&&d>-1;)h++,d--;return n-h},findLineBoundaryRight:function(n){for(var h=0,d=n;!/\n/.test(this._text[d])&&d<this._text.length;)h++,d++;return n+h},searchWordBoundary:function(n,h){for(var d=this._text,a=this._reSpace.test(d[n])?n-1:n,l=d[a],r=s.reNonWord;!r.test(l)&&a>0&&a<d.length;)a+=h,l=d[a];return r.test(l)&&(a+=h===1?0:1),a},selectWord:function(n){n=n||this.selectionStart;var h=this.searchWordBoundary(n,-1),d=this.searchWordBoundary(n,1);this.selectionStart=h,this.selectionEnd=d,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(n){n=n||this.selectionStart;var h=this.findLineBoundaryLeft(n),d=this.findLineBoundaryRight(n);return this.selectionStart=h,this.selectionEnd=d,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(n){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(n),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(n){n._iTextInstances&&n._iTextInstances.forEach(function(h){h.selected=!1,h.isEditing&&h.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(n){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var h=this.getSelectionStartFromPointer(n.e),d=this.selectionStart,a=this.selectionEnd;(h!==this.__selectionStartOnMouseDown||d===a)&&(d===h||a===h)||(h>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=h):(this.selectionStart=h,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==d||this.selectionEnd!==a)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(n,h,d){var a=d.slice(0,n),l=s.util.string.graphemeSplit(a).length;if(n===h)return{selectionStart:l,selectionEnd:l};var r=d.slice(n,h),c=s.util.string.graphemeSplit(r).length;return{selectionStart:l,selectionEnd:l+c}},fromGraphemeToStringSelection:function(n,h,d){var a=d.slice(0,n),l=a.join("").length;if(n===h)return{selectionStart:l,selectionEnd:l};var r=d.slice(n,h),c=r.join("").length;return{selectionStart:l,selectionEnd:l+c}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var n=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=n.selectionStart,this.hiddenTextarea.selectionEnd=n.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var n=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=n.selectionEnd,this.inCompositionMode||(this.selectionStart=n.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var n=this._calcTextareaPosition();this.hiddenTextarea.style.left=n.left,this.hiddenTextarea.style.top=n.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var n=this.inCompositionMode?this.compositionStart:this.selectionStart,h=this._getCursorBoundaries(n),d=this.get2DCursorLocation(n),a=d.lineIndex,l=d.charIndex,r=this.getValueOfPropertyAt(a,l,"fontSize")*this.lineHeight,c=h.leftOffset,g=this.calcTransformMatrix(),o={x:h.left+c,y:h.top+h.topOffset+r},m=this.canvas.getRetinaScaling(),b=this.canvas.upperCanvasEl,_=b.width/m,T=b.height/m,E=_-r,D=T-r,k=b.clientWidth/_,N=b.clientHeight/T;return o=s.util.transformPoint(o,g),o=s.util.transformPoint(o,this.canvas.viewportTransform),o.x*=k,o.y*=N,o.x<0&&(o.x=0),o.x>E&&(o.x=E),o.y<0&&(o.y=0),o.y>D&&(o.y=D),o.x+=this.canvas._offset.left,o.y+=this.canvas._offset.top,{left:o.x+"px",top:o.y+"px",fontSize:r+"px",charHeight:r}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var n=this._textBeforeEdit!==this.text,h=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,h&&(h.blur&&h.blur(),h.parentNode&&h.parentNode.removeChild(h)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),n&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),n&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var n in this.styles)this._textLines[n]||delete this.styles[n]},removeStyleFromTo:function(n,h){var d=this.get2DCursorLocation(n,!0),a=this.get2DCursorLocation(h,!0),l=d.lineIndex,r=d.charIndex,c=a.lineIndex,g=a.charIndex,o,m;if(l!==c){if(this.styles[l])for(o=r;o<this._unwrappedTextLines[l].length;o++)delete this.styles[l][o];if(this.styles[c])for(o=g;o<this._unwrappedTextLines[c].length;o++)m=this.styles[c][o],m&&(this.styles[l]||(this.styles[l]={}),this.styles[l][r+o-g]=m);for(o=l+1;o<=c;o++)delete this.styles[o];this.shiftLineStyles(c,l-c)}else if(this.styles[l]){m=this.styles[l];var b=g-r,_,T;for(o=r;o<g;o++)delete m[o];for(T in this.styles[l])_=parseInt(T,10),_>=g&&(m[_-b]=m[T],delete m[T])}},shiftLineStyles:function(n,h){var d=p(this.styles);for(var a in this.styles){var l=parseInt(a,10);l>n&&(this.styles[l+h]=d[l],d[l-h]||delete this.styles[l])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(n,h,d,a){var l,r={},c=!1,g=this._unwrappedTextLines[n].length===h;d||(d=1),this.shiftLineStyles(n,d),this.styles[n]&&(l=this.styles[n][h===0?h:h-1]);for(var o in this.styles[n]){var m=parseInt(o,10);m>=h&&(c=!0,r[m-h]=this.styles[n][o],g&&h===0||delete this.styles[n][o])}var b=!1;for(c&&!g&&(this.styles[n+d]=r,b=!0),b&&d--;d>0;)a&&a[d-1]?this.styles[n+d]={0:p(a[d-1])}:l?this.styles[n+d]={0:p(l)}:delete this.styles[n+d],d--;this._forceClearCache=!0},insertCharStyleObject:function(n,h,d,a){this.styles||(this.styles={});var l=this.styles[n],r=l?p(l):{};d||(d=1);for(var c in r){var g=parseInt(c,10);g>=h&&(l[g+d]=r[g],r[g-d]||delete l[g])}if(this._forceClearCache=!0,a){for(;d--;)Object.keys(a[d]).length&&(this.styles[n]||(this.styles[n]={}),this.styles[n][h+d]=p(a[d]));return}if(l)for(var o=l[h?h-1:1];o&&d--;)this.styles[n][h+d]=p(o)},insertNewStyleBlock:function(n,h,d){for(var a=this.get2DCursorLocation(h,!0),l=[0],r=0,c=0;c<n.length;c++)n[c]===`
`?(r++,l[r]=0):l[r]++;l[0]>0&&(this.insertCharStyleObject(a.lineIndex,a.charIndex,l[0],d),d=d&&d.slice(l[0]+1)),r&&this.insertNewlineStyleObject(a.lineIndex,a.charIndex+l[0],r);for(var c=1;c<r;c++)l[c]>0?this.insertCharStyleObject(a.lineIndex+c,0,l[c],d):d&&this.styles[a.lineIndex+c]&&d[0]&&(this.styles[a.lineIndex+c][0]=d[0]),d=d&&d.slice(l[c]+1);l[c]>0&&this.insertCharStyleObject(a.lineIndex+c,0,l[c],d)},setSelectionStartEndWithShift:function(n,h,d){d<=n?(h===n?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=n),this.selectionStart=d):d>n&&d<h?this._selectionDirection==="right"?this.selectionEnd=d:this.selectionStart=d:(h===n?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=h),this.selectionEnd=d)},setSelectionInBoundaries:function(){var n=this.text.length;this.selectionStart>n?this.selectionStart=n:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>n?this.selectionEnd=n:this.selectionEnd<0&&(this.selectionEnd=0)}})})(),s.util.object.extend(s.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(p){if(this.canvas){this.__newClickTime=+new Date;var n=p.pointer;this.isTripleClick(n)&&(this.fire("tripleclick",p),this._stopEvent(p.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=n,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(p){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===p.x&&this.__lastPointer.y===p.y},_stopEvent:function(p){p.preventDefault&&p.preventDefault(),p.stopPropagation&&p.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(p){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(p.e))},tripleClickHandler:function(p){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(p.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(p){!this.canvas||!this.editable||p.e.button&&p.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(p.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(p){!this.canvas||!this.editable||p.e.button&&p.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(p){if(this.__isMousedown=!1,!(!this.editable||this.group||p.transform&&p.transform.actionPerformed||p.e.button&&p.e.button!==1)){if(this.canvas){var n=this.canvas._activeObject;if(n&&n!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(p.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(p){var n=this.getSelectionStartFromPointer(p),h=this.selectionStart,d=this.selectionEnd;p.shiftKey?this.setSelectionStartEndWithShift(h,d,n):(this.selectionStart=n,this.selectionEnd=n),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(p){for(var n=this.getLocalPointer(p),h=0,d=0,a=0,l=0,r=0,c,g,o=0,m=this._textLines.length;o<m&&a<=n.y;o++)a+=this.getHeightOfLine(o)*this.scaleY,r=o,o>0&&(l+=this._textLines[o-1].length+this.missingNewlineOffset(o-1));c=this._getLineLeftOffset(r),d=c*this.scaleX,g=this._textLines[r],this.direction==="rtl"&&(n.x=this.width*this.scaleX-n.x+d);for(var b=0,_=g.length;b<_&&(h=d,d+=this.__charBounds[r][b].kernedWidth*this.scaleX,d<=n.x);b++)l++;return this._getNewSelectionStartFromOffset(n,h,d,l,_)},_getNewSelectionStartFromOffset:function(p,n,h,d,a){var l=p.x-n,r=h-p.x,c=r>l||r<0?0:1,g=d+c;return this.flipX&&(g=a-g),g>this._text.length&&(g=this._text.length),g}}),s.util.object.extend(s.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=s.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var p=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+p.top+"; left: "+p.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+p.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):s.document.body.appendChild(this.hiddenTextarea),s.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),s.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),s.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),s.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),s.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),s.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),s.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),s.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),s.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(s.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(p){if(this.isEditing){var n=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(p.keyCode in n)this[n[p.keyCode]](p);else if(p.keyCode in this.ctrlKeysMapDown&&(p.ctrlKey||p.metaKey))this[this.ctrlKeysMapDown[p.keyCode]](p);else return;p.stopImmediatePropagation(),p.preventDefault(),p.keyCode>=33&&p.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(p){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(p.keyCode in this.ctrlKeysMapUp&&(p.ctrlKey||p.metaKey))this[this.ctrlKeysMapUp[p.keyCode]](p);else return;p.stopImmediatePropagation(),p.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(p){var n=this.fromPaste;if(this.fromPaste=!1,p&&p.stopPropagation(),!!this.isEditing){var h=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,d=this._text.length,a=h.length,l,r,c=a-d,g=this.selectionStart,o=this.selectionEnd,m=g!==o,b,_,T;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var E=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),D=g>E.selectionStart;m?(l=this._text.slice(g,o),c+=o-g):a<d&&(D?l=this._text.slice(o+c,o):l=this._text.slice(g,g-c)),r=h.slice(E.selectionEnd-c,E.selectionEnd),l&&l.length&&(r.length&&(b=this.getSelectionStyles(g,g+1,!1),b=r.map(function(){return b[0]})),m?(_=g,T=o):D?(_=o-l.length,T=o):(_=o,T=o+l.length),this.removeStyleFromTo(_,T)),r.length&&(n&&r.join("")===s.copiedText&&!s.disableStyleCopyPaste&&(b=s.copiedTextStyle),this.insertNewStyleBlock(r,g,b)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(p){this.compositionStart=p.target.selectionStart,this.compositionEnd=p.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(s.copiedText=this.getSelectedText(),s.disableStyleCopyPaste?s.copiedTextStyle=null:s.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(p){return p&&p.clipboardData||s.window.clipboardData},_getWidthBeforeCursor:function(p,n){var h=this._getLineLeftOffset(p),d;return n>0&&(d=this.__charBounds[p][n-1],h+=d.left+d.width),h},getDownCursorOffset:function(p,n){var h=this._getSelectionForOffset(p,n),d=this.get2DCursorLocation(h),a=d.lineIndex;if(a===this._textLines.length-1||p.metaKey||p.keyCode===34)return this._text.length-h;var l=d.charIndex,r=this._getWidthBeforeCursor(a,l),c=this._getIndexOnLine(a+1,r),g=this._textLines[a].slice(l);return g.length+c+1+this.missingNewlineOffset(a)},_getSelectionForOffset:function(p,n){return p.shiftKey&&this.selectionStart!==this.selectionEnd&&n?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(p,n){var h=this._getSelectionForOffset(p,n),d=this.get2DCursorLocation(h),a=d.lineIndex;if(a===0||p.metaKey||p.keyCode===33)return-h;var l=d.charIndex,r=this._getWidthBeforeCursor(a,l),c=this._getIndexOnLine(a-1,r),g=this._textLines[a].slice(0,l),o=this.missingNewlineOffset(a-1);return-this._textLines[a-1].length+c-g.length+(1-o)},_getIndexOnLine:function(p,n){for(var h=this._textLines[p],d=this._getLineLeftOffset(p),a=d,l=0,r,c,g=0,o=h.length;g<o;g++)if(r=this.__charBounds[p][g].width,a+=r,a>n){c=!0;var m=a-r,b=a,_=Math.abs(m-n),T=Math.abs(b-n);l=T<_?g:g-1;break}return c||(l=h.length-1),l},moveCursorDown:function(p){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",p)},moveCursorUp:function(p){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",p)},_moveCursorUpOrDown:function(p,n){var h="get"+p+"CursorOffset",d=this[h](n,this._selectionDirection==="right");n.shiftKey?this.moveCursorWithShift(d):this.moveCursorWithoutShift(d),d!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(p){var n=this._selectionDirection==="left"?this.selectionStart+p:this.selectionEnd+p;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,n),p!==0},moveCursorWithoutShift:function(p){return p<0?(this.selectionStart+=p,this.selectionEnd=this.selectionStart):(this.selectionEnd+=p,this.selectionStart=this.selectionEnd),p!==0},moveCursorLeft:function(p){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",p)},_move:function(p,n,h){var d;if(p.altKey)d=this["findWordBoundary"+h](this[n]);else if(p.metaKey||p.keyCode===35||p.keyCode===36)d=this["findLineBoundary"+h](this[n]);else return this[n]+=h==="Left"?-1:1,!0;if(typeof d<"u"&&this[n]!==d)return this[n]=d,!0},_moveLeft:function(p,n){return this._move(p,n,"Left")},_moveRight:function(p,n){return this._move(p,n,"Right")},moveCursorLeftWithoutShift:function(p){var n=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(n=this._moveLeft(p,"selectionStart")),this.selectionEnd=this.selectionStart,n},moveCursorLeftWithShift:function(p){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(p,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(p,"selectionStart")},moveCursorRight:function(p){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",p)},_moveCursorLeftOrRight:function(p,n){var h="moveCursor"+p+"With";this._currentCursorOpacity=1,n.shiftKey?h+="Shift":h+="outShift",this[h](n)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(p){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(p,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(p,"selectionEnd")},moveCursorRightWithoutShift:function(p){var n=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(n=this._moveRight(p,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,n},removeChars:function(p,n){typeof n>"u"&&(n=p+1),this.removeStyleFromTo(p,n),this._text.splice(p,n-p),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(p,n,h,d){typeof d>"u"&&(d=h),d>h&&this.removeStyleFromTo(h,d);var a=s.util.string.graphemeSplit(p);this.insertNewStyleBlock(a,h,n),this._text=[].concat(this._text.slice(0,h),a,this._text.slice(d)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),(function(){var p=s.util.toFixed,n=/  +/g;s.util.object.extend(s.Text.prototype,{_toSVG:function(){var h=this._getSVGLeftTopOffsets(),d=this._getSVGTextAndBg(h.textTop,h.textLeft);return this._wrapSVGTextAndBg(d)},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(),{reviver:h,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(h){var d=!0,a=this.getSvgTextDecoration(this);return[h.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",a?'text-decoration="'+a+'" ':"",'style="',this.getSvgStyles(d),'"',this.addPaintOrder()," >",h.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(h,d){var a=[],l=[],r=h,c;this._setSVGBg(l);for(var g=0,o=this._textLines.length;g<o;g++)c=this._getLineLeftOffset(g),(this.textBackgroundColor||this.styleHas("textBackgroundColor",g))&&this._setSVGTextLineBg(l,g,d+c,r),this._setSVGTextLineText(a,g,d+c,r),r+=this.getHeightOfLine(g);return{textSpans:a,textBgRects:l}},_createTextCharSpan:function(h,d,a,l){var r=h!==h.trim()||h.match(n),c=this.getSvgSpanStyles(d,r),g=c?'style="'+c+'"':"",o=d.deltaY,m="",b=s.Object.NUM_FRACTION_DIGITS;return o&&(m=' dy="'+p(o,b)+'" '),['<tspan x="',p(a,b),'" y="',p(l,b),'" ',m,g,">",s.util.string.escapeXml(h),"</tspan>"].join("")},_setSVGTextLineText:function(h,d,a,l){var r=this.getHeightOfLine(d),c=this.textAlign.indexOf("justify")!==-1,g,o,m="",b,_,T=0,E=this._textLines[d],D;l+=r*(1-this._fontSizeFraction)/this.lineHeight;for(var k=0,N=E.length-1;k<=N;k++)D=k===N||this.charSpacing,m+=E[k],b=this.__charBounds[d][k],T===0?(a+=b.kernedWidth-b.width,T+=b.width):T+=b.kernedWidth,c&&!D&&this._reSpaceAndTab.test(E[k])&&(D=!0),D||(g=g||this.getCompleteStyleDeclaration(d,k),o=this.getCompleteStyleDeclaration(d,k+1),D=s.util.hasStyleChanged(g,o,!0)),D&&(_=this._getStyleDeclaration(d,k)||{},h.push(this._createTextCharSpan(m,_,a,l)),m="",g=o,a+=T,T=0)},_pushTextBgRect:function(h,d,a,l,r,c){var g=s.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(d),' x="',p(a,g),'" y="',p(l,g),'" width="',p(r,g),'" height="',p(c,g),`"></rect>
`)},_setSVGTextLineBg:function(h,d,a,l){for(var r=this._textLines[d],c=this.getHeightOfLine(d)/this.lineHeight,g=0,o=0,m,b,_=this.getValueOfPropertyAt(d,0,"textBackgroundColor"),T=0,E=r.length;T<E;T++)m=this.__charBounds[d][T],b=this.getValueOfPropertyAt(d,T,"textBackgroundColor"),b!==_?(_&&this._pushTextBgRect(h,_,a+o,l,g,c),o=m.left,g=m.width,_=b):g+=m.kernedWidth;b&&this._pushTextBgRect(h,b,a+o,l,g,c)},_getFillAttributes:function(h){var d=h&&typeof h=="string"?new s.Color(h):"";return!d||!d.getSource()||d.getAlpha()===1?'fill="'+h+'"':'opacity="'+d.getAlpha()+'" fill="'+d.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(h){for(var d=0,a=0,l=0;l<h;l++)d+=this.getHeightOfLine(l);return a=this.getHeightOfLine(l),{lineTop:d,offset:(this._fontSizeMult-this._fontSizeFraction)*a/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(h){var d=s.Object.prototype.getSvgStyles.call(this,h);return d+" white-space: pre;"}})})(),(function(p){var n=p.fabric||(p.fabric={});n.Textbox=n.util.createClass(n.IText,n.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:n.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(h){for(var d=0,a=0,l=0,r={},c=0;c<h.graphemeLines.length;c++)h.graphemeText[l]===`
`&&c>0?(a=0,l++,d++):!this.splitByGrapheme&&this._reSpaceAndTab.test(h.graphemeText[l])&&c>0&&(a++,l++),r[c]={line:d,offset:a},l+=h.graphemeLines[c].length,a+=h.graphemeLines[c].length;return r},styleHas:function(h,d){if(this._styleMap&&!this.isWrapping){var a=this._styleMap[d];a&&(d=a.line)}return n.Text.prototype.styleHas.call(this,h,d)},isEmptyStyles:function(h){if(!this.styles)return!0;var d=0,a=h+1,l,r,c=!1,g=this._styleMap[h],o=this._styleMap[h+1];g&&(h=g.line,d=g.offset),o&&(a=o.line,c=a===h,l=o.offset),r=typeof h>"u"?this.styles:{line:this.styles[h]};for(var m in r)for(var b in r[m])if(b>=d&&(!c||b<l))for(var _ in r[m][b])return!1;return!0},_getStyleDeclaration:function(h,d){if(this._styleMap&&!this.isWrapping){var a=this._styleMap[h];if(!a)return null;h=a.line,d=a.offset+d}return this.callSuper("_getStyleDeclaration",h,d)},_setStyleDeclaration:function(h,d,a){var l=this._styleMap[h];h=l.line,d=l.offset+d,this.styles[h][d]=a},_deleteStyleDeclaration:function(h,d){var a=this._styleMap[h];h=a.line,d=a.offset+d,delete this.styles[h][d]},_getLineStyle:function(h){var d=this._styleMap[h];return!!this.styles[d.line]},_setLineStyle:function(h){var d=this._styleMap[h];this.styles[d.line]={}},_wrapText:function(h,d){var a=[],l;for(this.isWrapping=!0,l=0;l<h.length;l++)a=a.concat(this._wrapLine(h[l],l,d));return this.isWrapping=!1,a},_measureWord:function(h,d,a){var l=0,r,c=!0;a=a||0;for(var g=0,o=h.length;g<o;g++){var m=this._getGraphemeBox(h[g],d,g+a,r,c);l+=m.kernedWidth,r=h[g]}return l},_wrapLine:function(h,d,a,H){var r=0,c=this.splitByGrapheme,g=[],o=[],m=c?n.util.string.graphemeSplit(h):h.split(this._wordJoiners),b="",_=0,T=c?"":" ",E=0,D=0,k=0,N=!0,q=this._getWidthOfCharSpacing(),H=H||0;m.length===0&&m.push([]),a-=H;for(var V=0;V<m.length;V++)b=c?m[V]:n.util.string.graphemeSplit(m[V]),E=this._measureWord(b,d,_),_+=b.length,r+=D+E-q,r>a&&!N?(g.push(o),o=[],r=E,N=!0):r+=q,!N&&!c&&o.push(T),o=o.concat(b),D=c?0:this._measureWord([T],d,_),_++,N=!1,E>k&&(k=E);return V&&g.push(o),k+H>this.dynamicMinWidth&&(this.dynamicMinWidth=k-q+H),g},isEndOfWrapping:function(h){return!this._styleMap[h+1]||this._styleMap[h+1].line!==this._styleMap[h].line},missingNewlineOffset:function(h){return this.splitByGrapheme?this.isEndOfWrapping(h)?1:0:1},_splitTextIntoLines:function(h){for(var d=n.Text.prototype._splitTextIntoLines.call(this,h),a=this._wrapText(d.lines,this.width),l=new Array(a.length),r=0;r<a.length;r++)l[r]=a[r].join("");return d.lines=l,d.graphemeLines=a,d},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var h={};for(var d in this._styleMap)this._textLines[d]&&(h[this._styleMap[d].line]=1);for(var d in this.styles)h[d]||delete this.styles[d]},toObject:function(h){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(h))}}),n.Textbox.fromObject=function(h,d){var a=n.util.stylesFromArray(h.styles,h.text),l=Object.assign({},h,{styles:a});return n.Object._fromObject("Textbox",l,d,"text")}})(u),(function(){var p=s.controlsUtils,n=p.scaleSkewCursorStyleHandler,h=p.scaleCursorStyleHandler,d=p.scalingEqually,a=p.scalingYOrSkewingX,l=p.scalingXOrSkewingY,r=p.scaleOrSkewActionName,c=s.Object.prototype.controls;if(c.ml=new s.Control({x:-.5,y:0,cursorStyleHandler:n,actionHandler:l,getActionName:r}),c.mr=new s.Control({x:.5,y:0,cursorStyleHandler:n,actionHandler:l,getActionName:r}),c.mb=new s.Control({x:0,y:.5,cursorStyleHandler:n,actionHandler:a,getActionName:r}),c.mt=new s.Control({x:0,y:-.5,cursorStyleHandler:n,actionHandler:a,getActionName:r}),c.tl=new s.Control({x:-.5,y:-.5,cursorStyleHandler:h,actionHandler:d}),c.tr=new s.Control({x:.5,y:-.5,cursorStyleHandler:h,actionHandler:d}),c.bl=new s.Control({x:-.5,y:.5,cursorStyleHandler:h,actionHandler:d}),c.br=new s.Control({x:.5,y:.5,cursorStyleHandler:h,actionHandler:d}),c.mtr=new s.Control({x:0,y:-.5,actionHandler:p.rotationWithSnapping,cursorStyleHandler:p.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),s.Textbox){var g=s.Textbox.prototype.controls={};g.mtr=c.mtr,g.tr=c.tr,g.br=c.br,g.tl=c.tl,g.bl=c.bl,g.mt=c.mt,g.mb=c.mb,g.mr=new s.Control({x:.5,y:0,actionHandler:p.changeWidth,cursorStyleHandler:n,actionName:"resizing"}),g.ml=new s.Control({x:-.5,y:0,actionHandler:p.changeWidth,cursorStyleHandler:n,actionName:"resizing"})}})()})(Au)),Au}var Fs=rx();const sx={men:{black:{round:{front:"/assets/T-Shirts/Men/Black T-Shirts/Black-Tshirt-Front.jpg",back:"/assets/T-Shirts/Men/Black T-Shirts/Black-Tshirt-Back.jpg"},oversized:{front:"/assets/T-Shirts/Men/Black T-Shirts/black-Tshirt-oversized-front.png",back:"/assets/T-Shirts/Men/Black T-Shirts/black-Tshirt-oversized-back.png"}},white:{round:{front:"/assets/T-Shirts/Men/White T-Shirts/white-tshirt-front.jpg",back:"/assets/T-Shirts/Men/White T-Shirts/white-tshirt-back.jpg"},oversized:{front:"/assets/T-Shirts/Men/White T-Shirts/white-Tshirt-oversized-front.png",back:"/assets/T-Shirts/Men/White T-Shirts/white-Tshirt-oversized-back.png"}},blue:{round:{front:"/assets/T-Shirts/Men/Blue T-Shirts/blue-Tshirt-Front.jpg",back:"/assets/T-Shirts/Men/Blue T-Shirts/blue-Tshirt-Back.jpg"}},red:{oversized:{front:"/assets/T-Shirts/Men/Red T-Shirt/red-Tshirt-oversized-front.png",back:"/assets/T-Shirts/Men/Red T-Shirt/red-Tshirt-oversized-back.png"}}}},lx=()=>{const[u,s]=Q.useState("product"),[y,v]=Q.useState(null),[C,w]=Q.useState(null),[M,p]=Q.useState(null),[n,h]=Q.useState("round"),[d,a]=Q.useState("black"),[l,r]=Q.useState(!1),[c,g]=Q.useState(null),[o,m]=Q.useState(1);Q.useEffect(()=>{const H=re=>new Fs.fabric.Canvas(re,{width:500,height:600,backgroundColor:"transparent",preserveObjectStacking:!0,selection:!0}),V=H("tshirt-canvas-front"),ee=H("tshirt-canvas-back");v(V),w(ee),p(V);const ce=re=>{re.on("selection:created",fe=>g(fe.selected[0])),re.on("selection:updated",fe=>g(fe.selected[0])),re.on("selection:cleared",()=>g(null))};return ce(V),ce(ee),()=>{V.dispose(),ee.dispose()}},[]),Q.useEffect(()=>{if(!y||!C)return;const H=(V,ee)=>{let ce="";const re=sx.men[d];if(re)if(re[n])ce=re[n][ee];else{const fe=Object.keys(re)[0];fe&&(ce=re[fe][ee])}ce&&Fs.fabric.Image.fromURL(ce,fe=>{const I=V.width/fe.width,J=V.height/fe.height,K=Math.min(I,J);fe.set({scaleX:K,scaleY:K,originX:"center",originY:"center",left:V.width/2,top:V.height/2}),V.setBackgroundImage(fe,V.renderAll.bind(V))})};H(y,"front"),H(C,"back")},[n,d,y,C]);const b=()=>{if(!M)return;const H=new Fs.fabric.IText("Your Text",{left:250,top:300,originX:"center",originY:"center",fontFamily:"Inter",fill:"#ffffff",fontSize:40,editable:!0});M.add(H),M.setActiveObject(H),M.requestRenderAll()},_=H=>{if(!M||!H.target.files[0])return;const V=new FileReader;V.onload=ee=>{Fs.fabric.Image.fromURL(ee.target.result,ce=>{ce.width>200&&ce.scaleToWidth(200),ce.set({left:250,top:300,originX:"center",originY:"center"}),M.add(ce),M.setActiveObject(ce),M.requestRenderAll()})},V.readAsDataURL(H.target.files[0]),H.target.value=""},T=()=>{!M||!c||(M.remove(c),M.discardActiveObject(),M.requestRenderAll(),g(null))},E=H=>{!M||!c||(c.type==="i-text"||c.type==="text")&&(c.set("fill",H),M.requestRenderAll())},D=H=>{!M||!c||(c.type==="i-text"||c.type==="text")&&(c.set("fontFamily",H),M.requestRenderAll())},k=H=>{const V=Math.max(.5,Math.min(3,o*H));m(V)},N=()=>{r(!l),p(l?y:C),y&&y.discardActiveObject().requestRenderAll(),C&&C.discardActiveObject().requestRenderAll()},q=()=>{if(!M)return;M.discardActiveObject().requestRenderAll();const H=M.toDataURL({format:"png",quality:1}),V=document.createElement("a");V.download=`tshirt-design-${l?"back":"front"}.png`,V.href=H,document.body.appendChild(V),V.click(),document.body.removeChild(V)};return L.jsxs("div",{className:"flex h-[calc(100vh-73px)] overflow-hidden bg-gray-100 dark:bg-[#121212]",children:[L.jsxs("aside",{className:"w-16 md:w-20 bg-white dark:bg-[#1e1e1e] border-r border-gray-200 dark:border-gray-800 flex flex-col items-center py-4 gap-6 z-20 flex-shrink-0",children:[L.jsx("button",{onClick:()=>s("product"),className:`p-3 rounded-xl transition-all ${u==="product"?"bg-primary text-black":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800"}`,title:"Product",children:L.jsx(cg,{size:24})}),L.jsx("button",{onClick:()=>s("text"),className:`p-3 rounded-xl transition-all ${u==="text"?"bg-primary text-black":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800"}`,title:"Text",children:L.jsx(fg,{size:24})}),L.jsx("button",{onClick:()=>s("upload"),className:`p-3 rounded-xl transition-all ${u==="upload"?"bg-primary text-black":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800"}`,title:"Upload",children:L.jsx(Ns,{size:24})})]}),L.jsxs("aside",{className:"w-64 bg-white dark:bg-[#1e1e1e] border-r border-gray-200 dark:border-gray-800 flex flex-col z-10 hidden md:flex",children:[L.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:L.jsx("h2",{className:"font-heading font-bold text-xl capitalize",children:u})}),L.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[u==="product"&&L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{children:[L.jsx("label",{className:"text-xs font-bold text-gray-500 tracking-wider mb-3 block",children:"STYLE"}),L.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[L.jsx("button",{onClick:()=>h("round"),className:`p-3 rounded-lg border-2 text-sm font-bold transition-all ${n==="round"?"border-primary bg-primary/10 text-primary":"border-gray-200 dark:border-gray-700"}`,children:"Regular"}),L.jsx("button",{onClick:()=>h("oversized"),className:`p-3 rounded-lg border-2 text-sm font-bold transition-all ${n==="oversized"?"border-primary bg-primary/10 text-primary":"border-gray-200 dark:border-gray-700"}`,children:"Oversized"})]})]}),L.jsxs("div",{children:[L.jsx("label",{className:"text-xs font-bold text-gray-500 tracking-wider mb-3 block",children:"COLOR"}),L.jsx("div",{className:"grid grid-cols-4 gap-3",children:["black","white","red","blue"].map(H=>L.jsx("button",{onClick:()=>a(H),className:`aspect-square rounded-full border-2 transition-transform hover:scale-110 ${d===H?"border-primary scale-110":"border-gray-200 dark:border-gray-700"}`,style:{backgroundColor:H==="white"?"#ffffff":H==="black"?"#000000":H==="red"?"#c62828":"#1976d2"}},H))})]})]}),u==="text"&&L.jsxs("div",{className:"space-y-4",children:[L.jsx("button",{onClick:b,className:"w-full py-3 bg-gray-100 dark:bg-gray-800 rounded-lg font-bold hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Add Heading"}),L.jsx("div",{className:"text-xs text-gray-500 mt-4",children:"Click to add text, then customize using the floating toolbar."})]}),u==="upload"&&L.jsx("div",{className:"space-y-4",children:L.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[L.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[L.jsx(Ns,{className:"w-8 h-8 mb-2 text-gray-400"}),L.jsx("p",{className:"text-sm text-gray-500",children:"Click to upload image"})]}),L.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:_})]})})]})]}),L.jsxs("main",{className:"flex-1 relative flex flex-col bg-gray-100 dark:bg-[#121212] overflow-hidden",children:[L.jsxs("div",{className:"h-16 bg-white dark:bg-[#1e1e1e] border-b border-gray-200 dark:border-gray-800 flex items-center justify-between px-4 z-10",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("button",{onClick:()=>k(.9),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",children:L.jsx(hb,{size:20})}),L.jsxs("span",{className:"text-sm font-medium w-12 text-center",children:[Math.round(o*100),"%"]}),L.jsx("button",{onClick:()=>k(1.1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",children:L.jsx(cb,{size:20})})]}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg font-bold text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[L.jsx(Vy,{size:16})," Flip"]}),L.jsxs("button",{onClick:q,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg font-bold text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[L.jsx(Ey,{size:16})," Download"]}),L.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-primary text-black rounded-lg font-bold text-sm hover:bg-green-400 transition-colors",children:[L.jsx(qy,{size:16})," Save"]})]})]}),L.jsx("div",{className:"flex-1 flex items-center justify-center p-8 overflow-auto relative",children:L.jsx("div",{className:"relative transition-transform duration-300 ease-out",style:{transform:`scale(${o})`},children:L.jsx("div",{className:"relative w-[500px] h-[600px] perspective-1000",children:L.jsxs("div",{className:`relative w-full h-full transition-transform duration-700 transform-style-3d ${l?"rotate-y-180":""}`,children:[L.jsx("div",{className:"absolute w-full h-full backface-hidden bg-white dark:bg-transparent shadow-2xl",children:L.jsx("canvas",{id:"tshirt-canvas-front"})}),L.jsx("div",{className:"absolute w-full h-full backface-hidden rotate-y-180 bg-white dark:bg-transparent shadow-2xl",children:L.jsx("canvas",{id:"tshirt-canvas-back"})})]})})})}),c&&L.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 bg-white dark:bg-[#1e1e1e] px-6 py-3 rounded-full shadow-2xl border border-gray-200 dark:border-gray-800 flex items-center gap-6 animate-in slide-in-from-bottom-5 z-30",children:[(c.type==="i-text"||c.type==="text")&&L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx(Uy,{size:18,className:"text-gray-500"}),L.jsx("input",{type:"color",className:"w-6 h-6 rounded-full cursor-pointer bg-transparent border-none p-0",value:c.fill,onChange:H=>E(H.target.value)})]}),L.jsx("div",{className:"w-px h-6 bg-gray-200 dark:bg-gray-700"}),L.jsxs("select",{className:"bg-transparent font-medium text-sm focus:outline-none",value:c.fontFamily,onChange:H=>D(H.target.value),children:[L.jsx("option",{value:"Inter",children:"Inter"}),L.jsx("option",{value:"Outfit",children:"Outfit"}),L.jsx("option",{value:"Arial",children:"Arial"}),L.jsx("option",{value:"Courier New",children:"Courier"})]}),L.jsx("div",{className:"w-px h-6 bg-gray-200 dark:bg-gray-700"})]}),L.jsx("button",{onClick:T,className:"text-red-500 hover:text-red-600 transition-colors",title:"Delete",children:L.jsx(Gg,{size:20})})]})]}),L.jsxs("div",{className:"md:hidden fixed bottom-0 left-0 w-full bg-white dark:bg-[#1e1e1e] border-t border-gray-200 dark:border-gray-800 flex justify-around py-3 z-50",children:[L.jsxs("button",{onClick:()=>s("product"),className:`flex flex-col items-center gap-1 ${u==="product"?"text-primary":"text-gray-500"}`,children:[L.jsx(cg,{size:20}),L.jsx("span",{className:"text-[10px] font-bold",children:"Product"})]}),L.jsxs("button",{onClick:()=>s("text"),className:`flex flex-col items-center gap-1 ${u==="text"?"text-primary":"text-gray-500"}`,children:[L.jsx(fg,{size:20}),L.jsx("span",{className:"text-[10px] font-bold",children:"Text"})]}),L.jsxs("button",{onClick:()=>s("upload"),className:`flex flex-col items-center gap-1 ${u==="upload"?"text-primary":"text-gray-500"}`,children:[L.jsx(Ns,{size:20}),L.jsx("span",{className:"text-[10px] font-bold",children:"Upload"})]})]}),L.jsx("div",{className:`md:hidden fixed bottom-[60px] left-0 w-full bg-white dark:bg-[#1e1e1e] rounded-t-2xl shadow-[0_-5px_20px_rgba(0,0,0,0.1)] transition-transform duration-300 z-40 ${u?"translate-y-0":"translate-y-full"}`,children:L.jsxs("div",{className:"p-4",children:[L.jsxs("div",{className:"flex justify-between items-center mb-4",children:[L.jsx("h3",{className:"font-bold capitalize",children:u}),L.jsx("button",{onClick:()=>s(""),children:L.jsx(Xu,{size:20})})]}),u==="product"&&L.jsxs("div",{className:"space-y-4",children:[L.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[L.jsx("button",{onClick:()=>h("round"),className:`px-4 py-2 rounded-lg border ${n==="round"?"border-primary bg-primary/10":"border-gray-200"}`,children:"Regular"}),L.jsx("button",{onClick:()=>h("oversized"),className:`px-4 py-2 rounded-lg border ${n==="oversized"?"border-primary bg-primary/10":"border-gray-200"}`,children:"Oversized"})]}),L.jsx("div",{className:"flex gap-3",children:["black","white","red","blue"].map(H=>L.jsx("button",{onClick:()=>a(H),className:`w-10 h-10 rounded-full border-2 ${d===H?"border-primary":"border-gray-200"}`,style:{backgroundColor:H==="white"?"#fff":H==="black"?"#000":H==="red"?"#c62828":"#1976d2"}},H))})]}),u==="text"&&L.jsx("button",{onClick:b,className:"w-full py-3 bg-gray-100 dark:bg-gray-800 rounded-lg font-bold",children:"Add Heading"}),u==="upload"&&L.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-24 border-2 border-dashed border-gray-300 rounded-lg",children:[L.jsx(Ns,{className:"mb-2 text-gray-400"}),L.jsx("span",{className:"text-xs text-gray-500",children:"Upload Image"}),L.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:_})]})]})})]})},ox=()=>{const{favorites:u}=Ks();return L.jsxs("div",{className:"container mx-auto px-4 py-8",children:[L.jsx("h1",{className:"text-3xl font-heading font-bold mb-8",children:"Your Favorites"}),u.length===0?L.jsxs("div",{className:"text-center py-20",children:[L.jsx("p",{className:"text-xl text-gray-500 mb-4",children:"You haven't added any favorites yet."}),L.jsx(tt,{to:"/shop",className:"inline-block px-6 py-3 bg-primary text-black font-bold rounded-lg hover:bg-green-400 transition-colors",children:"Start Shopping"})]}):L.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:u.map(s=>L.jsx(Qu,{product:s},s.ID))})]})},ux=()=>{const{cartItems:u,removeFromCart:s,updateQuantity:y,getCartTotal:v,clearCart:C}=Gu(),w=()=>{if(u.length===0)return;let M=`Order Details:
`;u.forEach((n,h)=>{M+=`${h+1}. ${n.Name} - Size: ${n.size} - Qty: ${n.quantity}
`});const p=encodeURIComponent(M);window.open(`https://wa.me/?text=${p}`,"_blank")};return u.length===0?L.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center gap-4",children:[L.jsx(Yg,{size:64,className:"text-gray-300"}),L.jsx("h2",{className:"text-2xl font-bold text-gray-500",children:"Your cart is empty"}),L.jsx(tt,{to:"/shop",className:"px-6 py-3 bg-primary text-black font-bold rounded-lg hover:bg-green-400 transition-colors",children:"Start Shopping"})]}):L.jsxs("div",{className:"container mx-auto px-4 py-8",children:[L.jsx("h1",{className:"text-3xl font-bold font-heading mb-8",children:"Shopping Cart"}),L.jsx("div",{className:"bg-white dark:bg-[#1e1e1e] rounded-xl shadow-sm overflow-hidden border border-gray-200 dark:border-gray-800",children:L.jsx("div",{className:"overflow-x-auto",children:L.jsxs("table",{className:"w-full text-left",children:[L.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:L.jsxs("tr",{children:[L.jsx("th",{className:"p-4 font-bold text-sm uppercase tracking-wider",children:"Product"}),L.jsx("th",{className:"p-4 font-bold text-sm uppercase tracking-wider",children:"Size"}),L.jsx("th",{className:"p-4 font-bold text-sm uppercase tracking-wider",children:"Price"}),L.jsx("th",{className:"p-4 font-bold text-sm uppercase tracking-wider",children:"Quantity"}),L.jsx("th",{className:"p-4 font-bold text-sm uppercase tracking-wider",children:"Total"}),L.jsx("th",{className:"p-4 font-bold text-sm uppercase tracking-wider",children:"Actions"})]})}),L.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:u.map(M=>L.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[L.jsx("td",{className:"p-4",children:L.jsxs("div",{className:"flex items-center gap-4",children:[L.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:L.jsx("img",{src:ga(M["Primary Image"]),alt:M.Name,className:"w-full h-full object-cover",referrerPolicy:"no-referrer"})}),L.jsx("span",{className:"font-medium",children:M.Name})]})}),L.jsx("td",{className:"p-4 font-medium",children:M.size}),L.jsxs("td",{className:"p-4",children:["",M.Price]}),L.jsx("td",{className:"p-4",children:L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("button",{onClick:()=>y(M.id,M.size,M.quantity-1),className:"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",disabled:M.quantity<=1,children:L.jsx(By,{size:16})}),L.jsx("span",{className:"w-8 text-center font-medium",children:M.quantity}),L.jsx("button",{onClick:()=>y(M.id,M.size,M.quantity+1),className:"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:L.jsx(Xy,{size:16})})]})}),L.jsxs("td",{className:"p-4 font-bold",children:["",M.Price*M.quantity]}),L.jsx("td",{className:"p-4",children:L.jsx("button",{onClick:()=>s(M.id,M.size),className:"text-red-500 hover:text-red-600 transition-colors p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:L.jsx(Gg,{size:20})})})]},`${M.id}-${M.size}`))})]})})}),L.jsx("div",{className:"mt-8 flex flex-col items-end gap-4",children:L.jsxs("div",{className:"bg-white dark:bg-[#1e1e1e] p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 w-full md:w-96",children:[L.jsxs("div",{className:"flex justify-between items-center mb-4 text-lg font-bold",children:[L.jsx("span",{children:"Total"}),L.jsxs("span",{className:"text-primary",children:["",v()]})]}),L.jsx("p",{className:"text-xs text-gray-500 mb-6",children:"Shipping and taxes calculated at checkout."}),L.jsx("button",{onClick:w,className:"w-full py-4 bg-primary text-black font-bold rounded-xl hover:bg-green-400 transition-colors flex items-center justify-center gap-2",children:"PAY VIA WHATSAPP"})]})})]})};function cx(){return L.jsx(pb,{children:L.jsxs("div",{className:"app min-h-screen flex flex-col bg-white dark:bg-[#121212] text-black dark:text-white transition-colors duration-300",children:[L.jsx(vb,{}),L.jsxs(H0,{children:[L.jsx(On,{path:"/",element:L.jsx(ex,{})}),L.jsx(On,{path:"/shop",element:L.jsx(tx,{})}),L.jsx(On,{path:"/product/:id",element:L.jsx(ix,{})}),L.jsx(On,{path:"/customize",element:L.jsx(lx,{})}),L.jsx(On,{path:"/favorites",element:L.jsx(ox,{})}),L.jsx(On,{path:"/cart",element:L.jsx(ux,{})})]}),L.jsx(yb,{})]})})}Uv.createRoot(document.getElementById("root")).render(L.jsx(dt.StrictMode,{children:L.jsx(cy,{children:L.jsx(db,{children:L.jsx(mb,{children:L.jsx(cx,{})})})})}));
