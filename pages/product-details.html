<!DOCTYPE html>
<html lang="en" ng-app="tamilTeesApp">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRODUCT DETAILS | LEGACY TRACES</title>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Inter:wght@400;600;700&display=swap"
        rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../assets/css/styles.css">
    <!-- Swiper CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

    <!-- AngularJS -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
</head>

<body class="" ng-controller="ProductController">

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top py-3 border-bottom border-light shadow-sm">
        <div class="container">
            <a class="navbar-brand font-anton fs-3 text-uppercase text-danger" href="../index.html">LEGACY TRACES</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto gap-3">
                    <li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="shop.html">Shop</a></li>
                    <li class="nav-item"><a class="nav-link" href="customize.html">Customize</a></li>
                    <li class="nav-item"><a class="nav-link" href="about.html">Our Story</a></li>
                    <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Product Content -->
    <div class="container" style="margin-top: 120px;" id="productContainer" ng-if="product">
        <div class="row g-5">
            <!-- Image Gallery -->
            <div class="col-lg-6">
                <!-- Main Image -->
                <div class="mb-3">
                    <img id="mainImage" ng-src="{{mainImage}}" class="img-fluid w-100 rounded" alt="{{product.Name}}"
                        style="height: 600px; object-fit: cover;">
                </div>
                <!-- Thumbnails -->
                <div class="d-flex gap-2 overflow-auto pb-2">
                    <div ng-repeat="img in galleryImages" ng-click="setMainImage(img)"
                        style="cursor: pointer; min-width: 100px;">
                        <img ng-src="{{img}}" class="img-fluid rounded border"
                            ng-class="{'border-danger': mainImage === img, 'border-secondary': mainImage !== img}"
                            alt="Thumbnail" style="height: 100px; width: 100px; object-fit: cover;">
                    </div>
                </div>
            </div>

            <!-- Product Info -->
            <div class="col-lg-6">
                <div class="ps-lg-4">
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb mb-3">
                            <li class="breadcrumb-item"><a href="shop.html"
                                    class="text-secondary text-decoration-none">Shop</a></li>
                            <li class="breadcrumb-item active text-dark" aria-current="page" id="breadcrumbCurrent">
                                {{product.Name}}</li>
                        </ol>
                    </nav>

                    <h1 class="font-anton display-4 mb-2 text-uppercase" id="productTitle">{{product.Name}}</h1>
                    <p class="text-secondary mb-3">{{product['Short description']}}</p>
                    <h2 class="text-danger font-anton mb-4">₹<span id="productPrice">{{product.Price}}</span></h2>

                    <!-- Size Selector -->
                    <div class="mb-4">
                        <div class="d-flex justify-content-between mb-2">
                            <label class="form-label text-uppercase fw-bold small text-secondary">Select Size</label>
                            <a href="#" class="text-secondary text-decoration-none small"
                                ng-click="openSizeChart($event)">Size Chart</a>
                        </div>
                        <div class="d-flex gap-2" id="sizeSelector">
                            <button class="btn rounded-0 px-3 w-100 size-btn" ng-repeat="size in availableSizes"
                                ng-click="selectSize(size)"
                                ng-class="{'btn-outline-danger active': selectedSize === size, 'btn-outline-secondary': selectedSize !== size}">
                                {{size}}
                            </button>
                        </div>
                        <p class="text-danger small mt-2" ng-if="showSizeError">Please select a size.</p>
                    </div>

                    <!-- Quantity -->
                    <div class="mb-4">
                        <label class="form-label text-uppercase fw-bold small text-secondary">Quantity</label>
                        <select class="form-select border-secondary rounded-0 w-auto" id="quantitySelector">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select>
                    </div>

                    <!-- Buttons -->
                    <div class="d-flex gap-3 mb-4">
                        <button class="btn btn-danger btn-lg w-100 rounded-0 fw-bold py-3 flex-grow-1"
                            ng-click="addToCart()" id="addToCartDisplayBtn">ADD TO CART</button>
                        <button class="btn btn-outline-secondary btn-lg rounded-0 px-4" title="Add to Wishlist"
                            id="addToWishlistBtn"><i class="bi bi-heart"></i></button>
                    </div>

                    <!-- Delivery Check -->
                    <div class="bg-light-gray p-3 rounded mb-4">
                        <label class="form-label text-uppercase fw-bold small text-secondary mb-2"><i
                                class="bi bi-truck me-2"></i>Check Delivery</label>
                        <div class="input-group">
                            <input type="text" class="form-control border-secondary rounded-0 shadow-none"
                                placeholder="Enter Pincode">
                            <button class="btn btn-secondary rounded-0 text-white" type="button">CHECK</button>
                        </div>
                    </div>

                    <!-- Sharing -->
                    <div class="mb-5 border-bottom border-light pb-4">
                        <span class="text-secondary small me-3">SHARE:</span>
                        <a href="#" class="text-secondary me-3 fs-5"><i class="bi bi-whatsapp"></i></a>
                        <a href="#" class="text-secondary me-3 fs-5"><i class="bi bi-facebook"></i></a>
                        <a href="#" class="text-secondary me-3 fs-5"><i class="bi bi-instagram"></i></a>
                        <a href="#" class="text-secondary fs-5"><i class="bi bi-twitter-x"></i></a>
                    </div>

                    <!-- Product Details Accordion -->
                    <div class="accordion accordion-flush" id="productDetailsAccordion">
                        <div class="accordion-item bg-white border-bottom border-light">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed bg-white text-dark shadow-none" type="button"
                                    data-bs-toggle="collapse" data-bs-target="#descCollapse">
                                    PRODUCT DESCRIPTION
                                </button>
                            </h2>
                            <div id="descCollapse" class="accordion-collapse collapse show"
                                data-bs-parent="#productDetailsAccordion">
                                <div class="accordion-body text-secondary" id="productDescription"
                                    style="white-space: pre-line;">
                                    {{product.Description}}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container text-center" style="margin-top: 120px;" ng-if="!product">
        <h2 class="text-secondary">Product not found.</h2>
        <a href="shop.html" class="btn btn-danger mt-3 rounded-0">BACK TO SHOP</a>
    </div>

    <!-- Artist Section -->
    <div class="row mt-5 pt-5 border-top border-light justify-content-center">
        <div class="col-lg-8 text-center">
            <h3 class="font-anton mb-4">MEET THE ARTIST</h3>
            <div class="d-flex flex-column flex-md-row bg-light-gray p-4 rounded align-items-center gap-4 text-start">
                <img id="artistImage" src="" class="rounded-circle" alt="Artist" width="150" height="150">
                <div>
                    <h5 class="fw-bold mb-1" id="artistName">Artist Name</h5>
                    <p class="text-danger small mb-2 text-uppercase" id="artistRole">Role</p>
                    <p class="text-secondary mb-0" id="artistBio">Bio loading...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Related Products / You May Also Like -->
    <div class="row mt-5 pt-5" ng-if="relatedProducts.length > 0">
        <div class="container">
            <h3 class="font-anton mb-4 text-center">YOU MAY ALSO LIKE</h3>
            <div class="swiper relatedSwiper">
                <div class="swiper-wrapper">
                    <div class="swiper-slide" ng-repeat="item in relatedProducts">
                        <div class="product-card h-100 border-0">
                            <div class="position-relative overflow-hidden">
                                <a href="product-details.html?id={{item.ID}}">
                                    <img ng-src="{{getImageUrl(item['Primary Image'])}}" class="img-fluid w-100"
                                        alt="{{item.Name}}">
                                </a>
                            </div>
                            <div class="card-body text-center p-3">
                                <h5 class="card-title font-anton mb-1 text-truncate">
                                    <a href="product-details.html?id={{item.ID}}"
                                        class="text-dark text-decoration-none">{{item.Name}}</a>
                                </h5>
                                <p class="card-text text-secondary mb-2">₹{{item.Price}}</p>
                                <a href="product-details.html?id={{item.ID}}"
                                    class="btn btn-outline-danger btn-sm rounded-0 w-100 fw-bold">VIEW</a>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Swiper Navigation -->
                <div class="swiper-button-next text-danger"></div>
                <div class="swiper-button-prev text-danger"></div>
                <div class="swiper-pagination"></div>
            </div>
        </div>
    </div>

    <!-- Size Chart Slide-in Panel -->
    <div class="size-chart-backdrop" ng-class="{'show': showSizeChart}" ng-click="closeSizeChart()"></div>
    <div class="size-chart-panel" ng-class="{'show': showSizeChart}">
        <!-- Header -->
        <div class="size-chart-header d-flex justify-content-between align-items-center">
            <h4 class="font-anton mb-0 text-uppercase">Size Chart – T-Shirts</h4>
            <button type="button" class="btn-close shadow-none" ng-click="closeSizeChart()"></button>
        </div>

        <!-- Navigation Tabs -->
        <ul class="nav nav-tabs size-tabs justify-content-center mt-3 border-bottom-0">
            <li class="nav-item">
                <a class="nav-link" href="#" ng-class="{'active': sizeChartTab === 'chart'}"
                    ng-click="switchTab('chart', $event)">SIZE CHART</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" ng-class="{'active': sizeChartTab === 'measure'}"
                    ng-click="switchTab('measure', $event)">HOW TO MEASURE</a>
            </li>
        </ul>

        <div class="size-chart-content">
            <!-- Size Chart Tab -->
            <div ng-if="sizeChartTab === 'chart'">
                <div class="d-flex justify-content-center mb-4">
                    <div class="d-flex rounded overflow-hidden border border-secondary">
                        <div class="unit-toggle-btn" ng-class="{'active': measurementUnit === 'inches'}"
                            ng-click="toggleUnit('inches')">INCHES</div>
                        <div class="unit-toggle-btn" ng-class="{'active': measurementUnit === 'cm'}"
                            ng-click="toggleUnit('cm')">CM</div>
                    </div>
                </div>

                <!-- Table Inches -->
                <div class="table-responsive" ng-if="measurementUnit === 'inches'">
                    <table class="table table-bordered text-center size-table mb-0">
                        <thead>
                            <tr>
                                <th>Size</th>
                                <th>Chest</th>
                                <th>Shoulder</th>
                                <th>Length</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>XS</td>
                                <td>36</td>
                                <td>16.25</td>
                                <td>26</td>
                            </tr>
                            <tr>
                                <td>S</td>
                                <td>38</td>
                                <td>16.75</td>
                                <td>27</td>
                            </tr>
                            <tr>
                                <td>M</td>
                                <td>40</td>
                                <td>17.25</td>
                                <td>28</td>
                            </tr>
                            <tr>
                                <td>L</td>
                                <td>42</td>
                                <td>17.75</td>
                                <td>29</td>
                            </tr>
                            <tr>
                                <td>XL</td>
                                <td>45</td>
                                <td>18.75</td>
                                <td>30</td>
                            </tr>
                            <tr>
                                <td>XXL</td>
                                <td>47</td>
                                <td>19.25</td>
                                <td>30.5</td>
                            </tr>
                            <tr>
                                <td>XXXL</td>
                                <td>49</td>
                                <td>19.75</td>
                                <td>30.5</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Table CM -->
                <div class="table-responsive" ng-if="measurementUnit === 'cm'">
                    <table class="table table-bordered text-center size-table mb-0">
                        <thead>
                            <tr>
                                <th>Size</th>
                                <th>Chest</th>
                                <th>Shoulder</th>
                                <th>Length</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>XS</td>
                                <td>91.4</td>
                                <td>41</td>
                                <td>66</td>
                            </tr>
                            <tr>
                                <td>S</td>
                                <td>96</td>
                                <td>42</td>
                                <td>69</td>
                            </tr>
                            <tr>
                                <td>M</td>
                                <td>101</td>
                                <td>43</td>
                                <td>71</td>
                            </tr>
                            <tr>
                                <td>L</td>
                                <td>106</td>
                                <td>44</td>
                                <td>74</td>
                            </tr>
                            <tr>
                                <td>XL</td>
                                <td>114</td>
                                <td>48</td>
                                <td>76</td>
                            </tr>
                            <tr>
                                <td>XXL</td>
                                <td>119</td>
                                <td>49</td>
                                <td>77</td>
                            </tr>
                            <tr>
                                <td>XXXL</td>
                                <td>124</td>
                                <td>50</td>
                                <td>77</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- How To Measure Tab -->
            <div ng-if="sizeChartTab === 'measure'">
                <p class="text-secondary small text-center mb-4">
                    The measurements in the size chart are based on body measurements, not the garment.
                </p>

                <div class="text-center mb-4">
                    <!-- Illustration Placeholder -->
                    <img src="https://placehold.co/300x300/f8f9fa/111?text=Measurement+Guide" alt="Measurement Guide"
                        class="img-fluid rounded border border-light">
                </div>

                <div class="d-flex flex-column gap-3">
                    <div class="d-flex gap-3">
                        <div class="bg-light-gray rounded-circle d-flex align-items-center justify-content-center flex-shrink-0"
                            style="width:30px; height:30px; font-weight:bold;">1</div>
                        <div>
                            <h6 class="fw-bold mb-1">Shoulder</h6>
                            <p class="text-secondary small mb-0">Place the measuring tape on shoulder seam & measure it
                                edge to edge.</p>
                        </div>
                    </div>
                    <div class="d-flex gap-3">
                        <div class="bg-light-gray rounded-circle d-flex align-items-center justify-content-center flex-shrink-0"
                            style="width:30px; height:30px; font-weight:bold;">2</div>
                        <div>
                            <h6 class="fw-bold mb-1">Chest</h6>
                            <p class="text-secondary small mb-0">Lift your arms slightly and measure around your body,
                                crossing over the fullest part of your bust.</p>
                        </div>
                    </div>
                    <div class="d-flex gap-3">
                        <div class="bg-light-gray rounded-circle d-flex align-items-center justify-content-center flex-shrink-0"
                            style="width:30px; height:30px; font-weight:bold;">3</div>
                        <div>
                            <h6 class="fw-bold mb-1">Length</h6>
                            <p class="text-secondary small mb-0">Measure from highest point of the shoulder to the
                                bottom edge.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="text-secondary py-5 border-top border-light mt-5">
        <div class="container">
            <p class="text-center small mb-0">&copy; 2026 LEGACY TRACES. All rights reserved.</p>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/js/productController.js"></script>
</body>

</html>